{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/vuex.png","path":"images/vuex.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.png","path":"images/avatar.png","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"28f4aa60b87f58358c709e255d6132dd5a576647","modified":1591322614219},{"_id":"source/CNAME","hash":"78e69af1d9b1c038edd1259e5a746a0524b61502","modified":1538064073558},{"_id":"themes/next/.DS_Store","hash":"710121816cde2278701b84f03d0157829d433ec2","modified":1538055675398},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1537973434815},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1537973434815},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1537973434816},{"_id":"themes/next/.gitignore","hash":"0b5c2ffd41f66eb1849d6426ba8cf9649eeed329","modified":1537973434817},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1537973434817},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1537973434817},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1537973434817},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1537973434817},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1537973434817},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1537973434818},{"_id":"themes/next/README.cn.md","hash":"2c766b3369ed477bce134a5450dab45bef161504","modified":1537973434818},{"_id":"themes/next/README.md","hash":"8ce60ce578963eb4e1eb5e33e1efc2fc4779af9c","modified":1537973434818},{"_id":"themes/next/_config.yml","hash":"8f51be9ea83f1219a6a71a2a1eb4a7a4ecd4e84d","modified":1538056014581},{"_id":"themes/next/bower.json","hash":"0674f11d3d514e087a176da0e1d85c2286aa5fba","modified":1537973434818},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1537973434819},{"_id":"themes/next/package.json","hash":"036d3a1346203d2f1a3958024df7f74e7ac07bfe","modified":1537973434836},{"_id":"source/_posts/1-JS-zuoyongyu.md","hash":"2f2224d8de76900903436e5be538bd2a8f5e9ae7","modified":1554042225208},{"_id":"source/_posts/1-Node-introduction.md","hash":"5ca7f094c4a9cf579de8f215ec63a2c7e9cf3297","modified":1547381673765},{"_id":"source/_posts/1-ts.md","hash":"2514658ba9fcea1495deffd8cc50af6d50796e82","modified":1552092876204},{"_id":"source/_posts/2-JS-tishenghebibao.md","hash":"81f4597daaa82487d8abcbc53a5393855a50828b","modified":1554126504012},{"_id":"source/_posts/2-ts-primitive-data-type.md","hash":"393624505521bfadad2bc25fde9a87327924202a","modified":1552093844471},{"_id":"source/_posts/3-JS-this.md","hash":"219e36552026ccd7cc0601e440ec89f71c7d9d21","modified":1554203607854},{"_id":"source/_posts/3-ts-any.md","hash":"7599d27fd33bcc373b82daec43101b2a477d80ef","modified":1552094396750},{"_id":"source/_posts/4-ts-interfaces.md","hash":"0858dc6143cf92b61563f6f607174c034931541f","modified":1552096093038},{"_id":"source/_posts/Node-tool.md","hash":"c5c11bf3a19b5091a0fc586f17d78b2ad2cf04b2","modified":1560572133519},{"_id":"source/_posts/PM2.md","hash":"0a92861ecf3dfe67a3316fa58bd3d50f256e7a0c","modified":1560572455186},{"_id":"source/_posts/async.md","hash":"d63212197c66de54020b468d40f503e247e73db9","modified":1546005973803},{"_id":"source/_posts/axios.md","hash":"085920416d2e79b380b4e8f1235833b272ccc6bf","modified":1555511805709},{"_id":"source/_posts/blog-construct.md","hash":"592488f12e777599b072849a5732f82e28920706","modified":1538319211805},{"_id":"source/_posts/blog-start.md","hash":"913e91c5285ac8ba532d2e086d5c72e0d8ccee9f","modified":1538141814089},{"_id":"source/_posts/ele-upload.md","hash":"f0dcbfa43e7d2a68c952ee24b2c701f25efe074e","modified":1554819579298},{"_id":"source/_posts/express.md","hash":"1bcee7361a0ad955ca703c8f85fdc0c8c77f6689","modified":1560421290413},{"_id":"source/_posts/flatten.md","hash":"2d82289b8e7ad126ed49267bc2fecd0fa64d919a","modified":1571884854883},{"_id":"source/_posts/flutter-1-create-flutter.md","hash":"340bd7267300c6bbc44b2f43a0b213ed04e7b55e","modified":1590200246027},{"_id":"source/_posts/flutter-2-base.md","hash":"72ae168f5b484c114719f85f4ecba2864d5c17cd","modified":1590544563561},{"_id":"source/_posts/flutter-3.md","hash":"33e8b5dfb9234cd38bfd06e6760bafd6f54f4bdb","modified":1591088364328},{"_id":"source/_posts/flutter-4-list.md","hash":"6a9e1ed6abfdcb79d4fe5918da43a57e4aadb0be","modified":1591322374612},{"_id":"source/_posts/flutter-5-http.md","hash":"7b7a6cbcb5d597df7fff4a63f53d527b1059c3e7","modified":1591580675653},{"_id":"source/_posts/flutter-6-list.md","hash":"fb7d531b1d7089bde7fc039f5fb0381dd322ac18","modified":1597137656007},{"_id":"source/_posts/flutter-7-build.md","hash":"9858215e8a712262cea29d8bedb4214a7492c2d9","modified":1597137990638},{"_id":"source/_posts/h5-pay.md","hash":"fe8bc5bc0659b764bbea725bce6e3777f8fa9e12","modified":1539097310246},{"_id":"source/_posts/js-shangxiawen.md","hash":"623fad27d56effc7cf15f48f1a7d1ff5b79100c4","modified":1546529238058},{"_id":"source/_posts/js-token.md","hash":"8fb9586c5ae0e35d0411889b640f1ab6e2c4663b","modified":1567068808825},{"_id":"source/_posts/moment.md","hash":"df3561dbfc2886da4e7f7d18712a729287324676","modified":1539179044946},{"_id":"source/_posts/node-http.md","hash":"ed933d7fdcbf2dfccfb9a311ebe6d30227f54f00","modified":1560308138064},{"_id":"source/_posts/nodejs-aliyun.md","hash":"c140f389e6976e2b1cf3d60377748ad03fbb3fb9","modified":1587717553424},{"_id":"source/_posts/nodejs-weibo.md","hash":"a99c56208ae2648041cb4569c4f486bc55b820cb","modified":1587717442158},{"_id":"source/_posts/react-native-BackHandler.md","hash":"85d3bd3ccd5edec9de67bf7872f7d3e5f0b890a2","modified":1561342135415},{"_id":"source/_posts/react-native-FlatList.md","hash":"69ddabd291a0512e4617e57ed2b6bf1a117cfac6","modified":1561097669782},{"_id":"source/_posts/react-native-SafeAreaView.md","hash":"8196e090a8cbf7cd63a5ce63a265b20ba73dc185","modified":1561426833656},{"_id":"source/_posts/react-native-navigation.md","hash":"9edd791214abe57f8a2a4358e4475ddcdf93437f","modified":1560766088195},{"_id":"source/_posts/react-native-package.md","hash":"f4a21d16cacf20b0ba8a02bf2200092cd9ed0101","modified":1561511980408},{"_id":"source/_posts/react-router.md","hash":"caa4549500f30d56839d5d4ea65841551579ded0","modified":1551012706531},{"_id":"source/_posts/react-native-tools.md","hash":"f1faee1fd830771e0b1da6e9f9e2cd7c4b13cb22","modified":1562117009102},{"_id":"source/_posts/react.md","hash":"51bc809801a6544ecf226e8672383188a04731bf","modified":1554042453175},{"_id":"source/_posts/suanfa-string.md","hash":"9138ae579dcffce9488b19e4f72baf5a8adf6f79","modified":1562859614954},{"_id":"source/_posts/vue-router-history.md","hash":"972f1a333c84b1cc0cb2b56414674da945d29b31","modified":1539699840013},{"_id":"source/_posts/sunfa-array.md","hash":"232d226c1b0f086210046e578c0ec7322988f312","modified":1562897420564},{"_id":"source/_posts/vue-vuex.md","hash":"78adc146f1e9f7744d11e97efe9cccad5eb7519f","modified":1539097349600},{"_id":"source/_posts/weChat-wx-request.md","hash":"aa84efe57a43931b20243971daa5d915f8f66cbc","modified":1544020636678},{"_id":"source/_posts/weChat-component.md","hash":"31083e5295350878da6ece83024b5d6bd3fbf001","modified":1541343622487},{"_id":"source/categories/index.md","hash":"4d67701b670f4fe8c079177e8f8ae5a0e4022f45","modified":1537975721177},{"_id":"source/tags/index.md","hash":"033f665b059cc8d96920a8c010c44aeac9f8f9ee","modified":1537976577594},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1537972960471},{"_id":"themes/next/.git/config","hash":"bf7d1df65cf34d0f25a7184a58c37a09f72e4be7","modified":1537973434809},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1537973434807},{"_id":"themes/next/.git/index","hash":"f26e0b4792a5c348e7b2f074a8463593c544b66b","modified":1537973434906},{"_id":"themes/next/.git/packed-refs","hash":"69237944e31c16fe545d1f47b0b1e5b1d99660da","modified":1537973434806},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1537973434816},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"50d48c47162817a3810a9d9ad51104e83947419a","modified":1537973434816},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"902f627155a65099e0a37842ff396a58d0dc306f","modified":1537973434816},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1537973434817},{"_id":"themes/next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1537973434819},{"_id":"themes/next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1537973434819},{"_id":"themes/next/languages/en.yml","hash":"7e680d9bb8f3a3a9d1ba1c9d312b3d257183dded","modified":1537973434819},{"_id":"themes/next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1537973434820},{"_id":"themes/next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1537973434820},{"_id":"themes/next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1537973434820},{"_id":"themes/next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1537973434820},{"_id":"themes/next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1537973434820},{"_id":"themes/next/languages/nl-NL.yml","hash":"edca4f3598857dbc3cbf19ed412213329b6edd47","modified":1537973434820},{"_id":"themes/next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1537973434821},{"_id":"themes/next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1537973434821},{"_id":"themes/next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1537973434821},{"_id":"themes/next/languages/vi.yml","hash":"fd08d3c8d2c62965a98ac420fdaf95e54c25d97c","modified":1537973434821},{"_id":"themes/next/languages/zh-Hans.yml","hash":"16ef56d0dea94638de7d200984c90ae56f26b4fe","modified":1537974518684},{"_id":"themes/next/languages/zh-hk.yml","hash":"9396f41ae76e4fef99b257c93c7354e661f6e0fa","modified":1537973434821},{"_id":"themes/next/languages/zh-tw.yml","hash":"50b71abb3ecc0686f9739e179e2f829cd074ecd9","modified":1537973434822},{"_id":"themes/next/layout/_layout.swig","hash":"da0929166674ea637e0ad454f85ad0d7bac4aff2","modified":1537973434822},{"_id":"themes/next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1537973434834},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1537973434835},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1537973434835},{"_id":"themes/next/layout/page.swig","hash":"969caaee05bdea725e99016eb63d810893a73e99","modified":1537973434835},{"_id":"themes/next/layout/post.swig","hash":"b3589a8e46288a10d20e41c7a5985d2493725aec","modified":1537973434835},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1537973434835},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1537973434836},{"_id":"themes/next/scripts/merge-configs.js","hash":"81e86717ecfb775986b945d17f0a4ba27532ef07","modified":1537973434836},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1537973434836},{"_id":"themes/next/source/.DS_Store","hash":"b8e5951c497e1060bfccf7be197be3bad8cb1885","modified":1538055675401},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1537973434905},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1537973434905},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1537973434905},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434858},{"_id":"themes/next/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1537972960473},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1537972960472},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1537972960474},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1537972960473},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1537972960474},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1537972960473},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1537972960474},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1537972960473},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1537972960473},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1537972960474},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1537972960475},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1537972960471},{"_id":"themes/next/.git/logs/HEAD","hash":"0686ba9cec3724b947e1cf00d68d9715e7b59616","modified":1537973434808},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1537973434822},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1537973434822},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1537973434822},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"665a928604f99d2ba7dc4a4a9150178229568cc6","modified":1537973434822},{"_id":"themes/next/layout/_macro/post.swig","hash":"446a35a2cd389f8cfc3aa38973a9b44ad0740134","modified":1537973434823},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"6a54c3c85ff6b19d275827a327abbf4bd99b2ebf","modified":1537973434823},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1537973434823},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1537973434823},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1537973434826},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1537973434826},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"a266f96ad06ee87bdeae6e105a4b53cd587bbd04","modified":1537973434827},{"_id":"themes/next/layout/_partials/comments.swig","hash":"4a6f5b1792b2e5262b7fdab9a716b3108e2f09c7","modified":1537973434823},{"_id":"themes/next/layout/_partials/footer.swig","hash":"c4d6181f5d3db5365e622f78714af8cc58d7a45e","modified":1537973434824},{"_id":"themes/next/layout/_partials/head.swig","hash":"6b94fe8f3279daea5623c49ef4bb35917ba57510","modified":1537973434824},{"_id":"themes/next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1537973434824},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1537973434825},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1537973434825},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1537973434825},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1537973434832},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1537973434833},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1537973434833},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"5fe0447cc88a5a63b530cf0426f93c4634811876","modified":1537973434833},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1537973434833},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1537973434833},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1537973434833},{"_id":"themes/next/scripts/tags/button.js","hash":"d023f10a00077f47082b0517e2ad666e6e994f60","modified":1537973434837},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1537973434837},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1537973434837},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1537973434837},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1537973434837},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1537973434837},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1537973434837},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1537973434838},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1537973434838},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1537973434858},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1537973434858},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1537973434859},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1537973434859},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1537973434859},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1537973434859},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1537973434859},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1537973434860},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1537973434860},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1537973434860},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1537973434860},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1537973434861},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1537973434861},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1537973434861},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1537973434861},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1537973434861},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1537973434861},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1537973434862},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1537973434862},{"_id":"themes/next/source/images/vuex.png","hash":"4fb73c3495849d5ac2ac80546a8431d563a7da45","modified":1538923212775},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434827},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434827},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434852},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434852},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434853},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434858},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1537973434858},{"_id":"themes/next/source/images/avatar.png","hash":"49c05a1efe4a4508b560a58574706f15a8a9f5d5","modified":1538055591270},{"_id":"themes/next/.git/refs/heads/master","hash":"7999da428ebb87e5a2b27315d8d5123c1ccdfaa5","modified":1537973434808},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1537973434826},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1537973434827},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1537973434827},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1537973434824},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1537973434824},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1537973434825},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1537973434825},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1537973434825},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1537973434825},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1537973434826},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1537973434826},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1537973434826},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1537973434828},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1537973434828},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1537973434828},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1537973434828},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1537973434829},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1537973434829},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"1cd01c6e92ab1913d48e556a92bb4f28b6dc4996","modified":1537973434829},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1537973434829},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1537973434829},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1537973434830},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1537973434830},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1537973434830},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1537973434830},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1537973434831},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1537973434831},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1537973434831},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1537973434831},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"10160daceaa6f1ecf632323d422ebe2caae49ddf","modified":1537973434831},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"aa0629277d751c55c6d973e7691bf84af9b17a60","modified":1537973434832},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1537973434832},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"fcabbb241f894c9a6309c44e126cf3e8fea81fd4","modified":1537973434832},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1537973434832},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1537973434834},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1537973434834},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1537973434834},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1537973434834},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1537973434852},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1537973434852},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1537973434852},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1537973434853},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"99fbb4686ea9a3e03a4726ed7cf4d8f529034452","modified":1537973434857},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1537973434858},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"f29165e36489a87ba32d17dddfd2720d84e3f3ec","modified":1537973434858},{"_id":"themes/next/source/css/_variables/base.styl","hash":"29c261fa6b4046322559074d75239c6b272fb8a3","modified":1537973434858},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1537973434862},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1537973434862},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1537973434863},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1537973434863},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1537973434863},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1537973434863},{"_id":"themes/next/source/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1537973434864},{"_id":"themes/next/source/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1537973434864},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1537973434864},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1537973434864},{"_id":"themes/next/source/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1537973434865},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1537973434869},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1537973434872},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1537973434872},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1537973434872},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1537973434873},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1537973434876},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1537973434876},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1537973434876},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1537973434876},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1537973434877},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1537973434878},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1537973434878},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1537973434878},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1537973434878},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1537973434889},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1537973434890},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1537973434890},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1537973434891},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1537973434891},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1537973434891},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1537973434891},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1537973434892},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1537973434892},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1537973434892},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1537973434894},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1537973434893},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1537973434894},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1537973434894},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1537973434894},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1537973434895},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1537973434895},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1537973434895},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1537973434896},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1537973434896},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1537973434896},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1537973434901},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1537973434901},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1537973434904},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1537973434904},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1537973434904},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1537973434890},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"0686ba9cec3724b947e1cf00d68d9715e7b59616","modified":1537973434808},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1537973434807},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1537973434833},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1537973434834},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1537973434850},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1537973434850},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1537973434850},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1537973434851},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1537973434851},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1537973434851},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1537973434851},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1537973434838},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1537973434838},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1537973434838},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1537973434838},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1537973434839},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1537973434845},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"18c3336ee3d09bd2da6a876e1336539f03d5a973","modified":1537973434853},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1537973434853},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1537973434854},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1537973434854},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1537973434854},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"3b25edfa187d1bbbd0d38b50dd013cef54758abf","modified":1537973434854},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1537973434854},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1537973434854},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1537973434855},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1537973434855},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"4aac01962520d60b03b23022ab601ad4bd19c08c","modified":1537973434855},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1537973434856},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1537973434856},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1537973434856},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1537973434856},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1537973434856},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1537973434857},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"9d16fa3c14ed76b71229f022b63a02fd0f580958","modified":1537973434857},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1537973434857},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1537973434864},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1537973434868},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1537973434869},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1537973434873},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1537973434873},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1537973434873},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1537973434873},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1537973434874},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1537973434874},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1537973434875},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1537973434875},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1537973434876},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1537973434877},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1537973434877},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1537973434879},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1537973434879},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1537973434879},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1537973434900},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1537973434901},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1537973434867},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1537973434868},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1537973434889},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1537973434889},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1537973434903},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"0686ba9cec3724b947e1cf00d68d9715e7b59616","modified":1537973434807},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1537973434839},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1537973434839},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1537973434839},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1537973434839},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1537973434839},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1537973434840},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1537973434840},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"25dc25f61a232f03ca72472b7852f882448ec185","modified":1537973434840},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1537973434840},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1537973434840},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1537973434840},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1537973434841},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"535b3b4f8cb1eec2558e094320e7dfb01f94c0e7","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1537973434843},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1537973434843},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1537973434843},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"e4055a0d2cd2b0ad9dc55928e2f3e7bd4e499da3","modified":1537973434843},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"7714f0af4432e04ad7cafc0a8c2dcdb72cbaa8ff","modified":1538056283133},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1537973434844},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1537973434844},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1537973434844},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1537973434842},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1537973434844},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1537973434844},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1537973434845},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"12937cae17c96c74d5c58db6cb29de3b2dfa14a2","modified":1537973434845},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1537973434845},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"50305b6ad7d09d2ffa4854e39f41ec1f4fe984fd","modified":1537973434845},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1537973434845},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1537973434846},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1537973434846},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"37e951e734a252fe8a81f452b963df2ba90bfe90","modified":1537973434846},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1537973434846},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1537973434847},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1537973434847},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1537973434847},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1537973434847},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1537973434848},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1537973434848},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1537973434848},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1537973434848},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1537973434849},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1537973434849},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1537973434849},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1537973434849},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1537973434849},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1537973434849},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1ccfbd4d0f5754b2dc2719a91245c95f547a7652","modified":1537973434850},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1537973434855},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1537973434855},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1537973434856},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1537973434866},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1537973434866},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1537973434866},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1537973434867},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1537973434867},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1537973434874},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1537973434874},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1537973434874},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1537973434874},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1537973434875},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1537973434875},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1537973434881},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1537973434883},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1537973434888},{"_id":"themes/next/.git/objects/pack/pack-09df78575dd506cafcb2c517908ed591431fdc71.idx","hash":"be430c584ec6e1499b87f9e416e72d0fbc2e3a26","modified":1537973434795},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1537973434871},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1537973434899},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1537973434886},{"_id":"themes/next/.git/objects/pack/pack-09df78575dd506cafcb2c517908ed591431fdc71.pack","hash":"eee901eb2f4a4df31eaa41634f4e9de643c3fb4e","modified":1537973434791}],"Category":[{"name":"JavaScript","_id":"ckdpqq41b0002he6j6g6d8sy5"},{"name":"Node.js","_id":"ckdpqq41g0007he6jnm5p8f3d"},{"name":"TypeScript","_id":"ckdpqq41l000ehe6juvv8fryg"},{"name":"JavaScript","_id":"ckdpqq41x0012he6jacd89u9k"},{"name":"vue","_id":"ckdpqq421001bhe6j23yts0w7"},{"name":"","_id":"ckdpqq426001lhe6j6pibmf1u"},{"name":"Flutter","_id":"ckdpqq42c001zhe6jdut2960z"},{"name":"H5","_id":"ckdpqq42s0031he6jfipcvv8u"},{"name":"React Native","_id":"ckdpqq42v003ahe6jalex3gbz"},{"name":"React","_id":"ckdpqq4380047he6jxiiqh4wr"},{"name":"js","_id":"ckdpqq43b004ehe6jwbyeje3u"},{"name":"","_id":"ckdpqq43e004ohe6jgejkgtfs"}],"Data":[],"Page":[{"title":"categories","date":"2018-09-26T15:28:20.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2018-09-26 23:28:20\ntype: \"categories\"\n---\n","updated":"2018-09-26T15:28:41.177Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ckdpqq46y0059he6jc2n6ukad","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"0201-11-15T11:04:22.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 201-11-15 19:10:05\ntype: \"tags\"\n---\n","updated":"2018-09-26T15:42:57.594Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ckdpqq46z005ahe6jkau69b6c","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"","date":"2019-03-30T15:37:33.000Z","_content":"### \n<!-- more -->\n\n### \n> \nLHS\nRHS\n\n\n#### JS\nvar a = 2;\n> JavaScriptJavaScriptvar a = 2;,\n\n\n. JS\n \nJavaScript\n \n\n \n\n\n\n. var a = 2\n1.a\n\n2.a = 2aaa2a!\n\n### \n> \n\n```\nfunction foo(a) {\n    var b = a * 2;\n\n    function bar(c) {\n        console.log(a,b,c)\n    }\n    bar(b*3)\n}\nfoo(2) //2,4,12\n```\n![image](/images/cifazuoyongyu.png)\n1.,foo\n2.fooa,barb\n3.barc\n\na,b,cfoo,bar,bazfoo,barbaz\n\n### \n#### \n> JavaScript\n\n\n```\nfunction doSomething(a) {\n    b = a + doSomethingElse(a*2)\n    console.log(b*3)\n}\nfunction doSomethingElse(a) {\n    return a - 1;\n}\nvar b;\ndoSomething(2) //15\n```\nbdoSomethingElsedoSomethingbdoSomethingElse\n\n```\nfunction doSomething(a) {\n    function doSomethingElse(a) {\n        return a - 1;\n    }\n    var b ;\n    b = a + doSomethingElse(a*2)\n    console.log(b*3)\n}\ndoSomething(2) //15\n```\nbdoSomethingElsedoSomething\n#### \n> function\n> (function...function...)\n1.\n```\nvar a = 2;\nfunction foo() {\n    var a = 3;\n    console.log(a); //3\n}\nfoo()\nconsole.log(a); //2\n```\nfoo()foo()\n\n```\nvar a = 2;\n(functgion foo() {\n    var a = 3;\n    console.log(a); //3\n})();\nconsole.log(a); //2\n```\nfoofoo(function foo(){...})...foo\n\n2.\n```\nsetTimeout(function() {\n\n},1000)\n```\n\n\n\n\n\n\n\n","source":"_posts/1-JS-zuoyongyu.md","raw":"---\ntitle: \ndate: 2019-03-30 23:37:33\ntags: ['JavaScript']\ncategories: JavaScript\n---\n### \n<!-- more -->\n\n### \n> \nLHS\nRHS\n\n\n#### JS\nvar a = 2;\n> JavaScriptJavaScriptvar a = 2;,\n\n\n. JS\n \nJavaScript\n \n\n \n\n\n\n. var a = 2\n1.a\n\n2.a = 2aaa2a!\n\n### \n> \n\n```\nfunction foo(a) {\n    var b = a * 2;\n\n    function bar(c) {\n        console.log(a,b,c)\n    }\n    bar(b*3)\n}\nfoo(2) //2,4,12\n```\n![image](/images/cifazuoyongyu.png)\n1.,foo\n2.fooa,barb\n3.barc\n\na,b,cfoo,bar,bazfoo,barbaz\n\n### \n#### \n> JavaScript\n\n\n```\nfunction doSomething(a) {\n    b = a + doSomethingElse(a*2)\n    console.log(b*3)\n}\nfunction doSomethingElse(a) {\n    return a - 1;\n}\nvar b;\ndoSomething(2) //15\n```\nbdoSomethingElsedoSomethingbdoSomethingElse\n\n```\nfunction doSomething(a) {\n    function doSomethingElse(a) {\n        return a - 1;\n    }\n    var b ;\n    b = a + doSomethingElse(a*2)\n    console.log(b*3)\n}\ndoSomething(2) //15\n```\nbdoSomethingElsedoSomething\n#### \n> function\n> (function...function...)\n1.\n```\nvar a = 2;\nfunction foo() {\n    var a = 3;\n    console.log(a); //3\n}\nfoo()\nconsole.log(a); //2\n```\nfoo()foo()\n\n```\nvar a = 2;\n(functgion foo() {\n    var a = 3;\n    console.log(a); //3\n})();\nconsole.log(a); //2\n```\nfoofoo(function foo(){...})...foo\n\n2.\n```\nsetTimeout(function() {\n\n},1000)\n```\n\n\n\n\n\n\n\n","slug":"1-JS-zuoyongyu","published":1,"updated":"2019-03-31T14:23:45.208Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq4160000he6jxn1uftjq","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p><br>LHS<br>RHS<br><br></p>\n</blockquote>\n<h4 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h4><p>var a = 2;</p>\n<blockquote>\n<p>JavaScriptJavaScriptvar a = 2;,</p>\n</blockquote>\n<p>. JS<br> <br>JavaScript<br> <br><br> <br><br></p>\n<p>. var a = 2<br>1.a</p>\n<p>2.a = 2aaa2a!</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo(a) &#123;</span><br><span class=\"line\">    var b = a * 2;</span><br><span class=\"line\"></span><br><span class=\"line\">    function bar(c) &#123;</span><br><span class=\"line\">        console.log(a,b,c)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    bar(b*3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo(2) //2,4,12</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cifazuoyongyu.png\" alt=\"image\"><br>1.,foo<br>2.fooa,barb<br>3.barc</p>\n<p>a,b,cfoo,bar,bazfoo,barbaz</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p>JavaScript</p>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function doSomething(a) &#123;</span><br><span class=\"line\">    b = a + doSomethingElse(a*2)</span><br><span class=\"line\">    console.log(b*3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function doSomethingElse(a) &#123;</span><br><span class=\"line\">    return a - 1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var b;</span><br><span class=\"line\">doSomething(2) //15</span><br></pre></td></tr></table></figure></p>\n<p>bdoSomethingElsedoSomethingbdoSomethingElse</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function doSomething(a) &#123;</span><br><span class=\"line\">    function doSomethingElse(a) &#123;</span><br><span class=\"line\">        return a - 1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    var b ;</span><br><span class=\"line\">    b = a + doSomethingElse(a*2)</span><br><span class=\"line\">    console.log(b*3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">doSomething(2) //15</span><br></pre></td></tr></table></figure>\n<p>bdoSomethingElsedoSomething</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p>function<br>(functionfunction)<br>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var a = 2;</span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    var a = 3;</span><br><span class=\"line\">    console.log(a); //3</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo()</span><br><span class=\"line\">console.log(a); //2</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>foo()foo()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var a = 2;</span><br><span class=\"line\">(functgion foo() &#123;</span><br><span class=\"line\">    var a = 3;</span><br><span class=\"line\">    console.log(a); //3</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\">console.log(a); //2</span><br></pre></td></tr></table></figure>\n<p>foofoo(function foo(){})foo</p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setTimeout(function() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;,1000)</span><br></pre></td></tr></table></figure></p>\n<p></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p><br>LHS<br>RHS<br><br></p>\n</blockquote>\n<h4 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h4><p>var a = 2;</p>\n<blockquote>\n<p>JavaScriptJavaScriptvar a = 2;,</p>\n</blockquote>\n<p>. JS<br> <br>JavaScript<br> <br><br> <br><br></p>\n<p>. var a = 2<br>1.a</p>\n<p>2.a = 2aaa2a!</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo(a) &#123;</span><br><span class=\"line\">    var b = a * 2;</span><br><span class=\"line\"></span><br><span class=\"line\">    function bar(c) &#123;</span><br><span class=\"line\">        console.log(a,b,c)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    bar(b*3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo(2) //2,4,12</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cifazuoyongyu.png\" alt=\"image\"><br>1.,foo<br>2.fooa,barb<br>3.barc</p>\n<p>a,b,cfoo,bar,bazfoo,barbaz</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p>JavaScript</p>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function doSomething(a) &#123;</span><br><span class=\"line\">    b = a + doSomethingElse(a*2)</span><br><span class=\"line\">    console.log(b*3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function doSomethingElse(a) &#123;</span><br><span class=\"line\">    return a - 1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var b;</span><br><span class=\"line\">doSomething(2) //15</span><br></pre></td></tr></table></figure></p>\n<p>bdoSomethingElsedoSomethingbdoSomethingElse</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function doSomething(a) &#123;</span><br><span class=\"line\">    function doSomethingElse(a) &#123;</span><br><span class=\"line\">        return a - 1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    var b ;</span><br><span class=\"line\">    b = a + doSomethingElse(a*2)</span><br><span class=\"line\">    console.log(b*3)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">doSomething(2) //15</span><br></pre></td></tr></table></figure>\n<p>bdoSomethingElsedoSomething</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p>function<br>(functionfunction)<br>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var a = 2;</span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    var a = 3;</span><br><span class=\"line\">    console.log(a); //3</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo()</span><br><span class=\"line\">console.log(a); //2</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>foo()foo()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var a = 2;</span><br><span class=\"line\">(functgion foo() &#123;</span><br><span class=\"line\">    var a = 3;</span><br><span class=\"line\">    console.log(a); //3</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\">console.log(a); //2</span><br></pre></td></tr></table></figure>\n<p>foofoo(function foo(){})foo</p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setTimeout(function() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;,1000)</span><br></pre></td></tr></table></figure></p>\n<p></p>"},{"title":"Node.js","date":"2019-01-13T11:04:56.000Z","_content":"### Node.js\n<!-- more -->\n\n### Node.js\n> Node.js\n\n#### \n1. Node.js V8 JavaScriptJavaScriptV8 JavaScript GoogleC++JavaScriptNode.jsAPI\n2.  JavaScriptC\n\n#### I/O\n1. I/O\nI/ONode.jsI/O\n\n2. \nNode.js\n\n### Node.js\n> /\n\n1. :\n2. \n\n### \n```\n// http\nconst http = require('http');\n// createServerHTTPHTTP\nhttp.createServer(function(req,res) {\n/**\n *  req:res:\n *  200text/html\n *  utf-8\n *  endHTMl\n */\n    res.writeHead(200,('Content-Type':'text-html'));\n    res.write('<head><meta charset=\"utf-8\"/></head>')\n    res.end('hello word')\n}).listen(8081);\n\n```\n","source":"_posts/1-Node-introduction.md","raw":"---\ntitle: Node.js\ndate: 2019-01-13 19:04:56\ntags: ['Node.js']\ncategories: Node.js\n---\n### Node.js\n<!-- more -->\n\n### Node.js\n> Node.js\n\n#### \n1. Node.js V8 JavaScriptJavaScriptV8 JavaScript GoogleC++JavaScriptNode.jsAPI\n2.  JavaScriptC\n\n#### I/O\n1. I/O\nI/ONode.jsI/O\n\n2. \nNode.js\n\n### Node.js\n> /\n\n1. :\n2. \n\n### \n```\n// http\nconst http = require('http');\n// createServerHTTPHTTP\nhttp.createServer(function(req,res) {\n/**\n *  req:res:\n *  200text/html\n *  utf-8\n *  endHTMl\n */\n    res.writeHead(200,('Content-Type':'text-html'));\n    res.write('<head><meta charset=\"utf-8\"/></head>')\n    res.end('hello word')\n}).listen(8081);\n\n```\n","slug":"1-Node-introduction","published":1,"updated":"2019-01-13T12:14:33.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41a0001he6jio7c4hsg","content":"<h3 id=\"Node-js\"><a href=\"#Node-js\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3><a id=\"more\"></a>\n<h3 id=\"Node-js-1\"><a href=\"#Node-js-1\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3><blockquote>\n<p>Node.js</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>Node.js V8 JavaScriptJavaScriptV8 JavaScript GoogleC++JavaScriptNode.jsAPI</li>\n<li>JavaScriptC</li>\n</ol>\n<h4 id=\"I-O\"><a href=\"#I-O\" class=\"headerlink\" title=\"I/O\"></a>I/O</h4><ol>\n<li><p>I/O<br>I/ONode.jsI/O</p>\n</li>\n<li><p><br>Node.js</p>\n</li>\n</ol>\n<h3 id=\"Node-js\"><a href=\"#Node-js\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3><blockquote>\n<p>/</p>\n</blockquote>\n<ol>\n<li>:</li>\n<li></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// http</span><br><span class=\"line\">const http = require(&apos;http&apos;);</span><br><span class=\"line\">// createServerHTTPHTTP</span><br><span class=\"line\">http.createServer(function(req,res) &#123;</span><br><span class=\"line\">/**</span><br><span class=\"line\"> *  req:res:</span><br><span class=\"line\"> *  200text/html</span><br><span class=\"line\"> *  utf-8</span><br><span class=\"line\"> *  endHTMl</span><br><span class=\"line\"> */</span><br><span class=\"line\">    res.writeHead(200,(&apos;Content-Type&apos;:&apos;text-html&apos;));</span><br><span class=\"line\">    res.write(&apos;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;/&gt;&lt;/head&gt;&apos;)</span><br><span class=\"line\">    res.end(&apos;hello word&apos;)</span><br><span class=\"line\">&#125;).listen(8081);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"Node-js\"><a href=\"#Node-js\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3>","more":"<h3 id=\"Node-js-1\"><a href=\"#Node-js-1\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3><blockquote>\n<p>Node.js</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>Node.js V8 JavaScriptJavaScriptV8 JavaScript GoogleC++JavaScriptNode.jsAPI</li>\n<li>JavaScriptC</li>\n</ol>\n<h4 id=\"I-O\"><a href=\"#I-O\" class=\"headerlink\" title=\"I/O\"></a>I/O</h4><ol>\n<li><p>I/O<br>I/ONode.jsI/O</p>\n</li>\n<li><p><br>Node.js</p>\n</li>\n</ol>\n<h3 id=\"Node-js\"><a href=\"#Node-js\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3><blockquote>\n<p>/</p>\n</blockquote>\n<ol>\n<li>:</li>\n<li></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// http</span><br><span class=\"line\">const http = require(&apos;http&apos;);</span><br><span class=\"line\">// createServerHTTPHTTP</span><br><span class=\"line\">http.createServer(function(req,res) &#123;</span><br><span class=\"line\">/**</span><br><span class=\"line\"> *  req:res:</span><br><span class=\"line\"> *  200text/html</span><br><span class=\"line\"> *  utf-8</span><br><span class=\"line\"> *  endHTMl</span><br><span class=\"line\"> */</span><br><span class=\"line\">    res.writeHead(200,(&apos;Content-Type&apos;:&apos;text-html&apos;));</span><br><span class=\"line\">    res.write(&apos;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;/&gt;&lt;/head&gt;&apos;)</span><br><span class=\"line\">    res.end(&apos;hello word&apos;)</span><br><span class=\"line\">&#125;).listen(8081);</span><br></pre></td></tr></table></figure>"},{"title":"TypeScript","date":"2019-03-09T00:47:56.000Z","_content":"### TypeScript\n<!-- more -->\n\n### TypeScipt\n> TypeScript  JavaScript  JavaScript JavaScript TypeScript TypeScript \n\nTypeScript  JavaScript  ES6   \n\n### TS \n1.\n2.TSJS\n3.\n\n### Hello TypeScript\n```\nfunction sayHello(person:string) {\n    return 'Hello,' + person;\n}\nlet user = 'Tom';\n```\n.js\n```\nfunction sayHello(person) {\n    return 'Hello, ' + person;\n}\nvar user = 'Tom';\nconsole.log(sayHello(user));\n```\n : : \n","source":"_posts/1-ts.md","raw":"---\ntitle: TypeScript\ndate: 2019-03-09 08:47:56\ntags: ['TypeScript']\ncategories: TypeScript\n---\n### TypeScript\n<!-- more -->\n\n### TypeScipt\n> TypeScript  JavaScript  JavaScript JavaScript TypeScript TypeScript \n\nTypeScript  JavaScript  ES6   \n\n### TS \n1.\n2.TSJS\n3.\n\n### Hello TypeScript\n```\nfunction sayHello(person:string) {\n    return 'Hello,' + person;\n}\nlet user = 'Tom';\n```\n.js\n```\nfunction sayHello(person) {\n    return 'Hello, ' + person;\n}\nvar user = 'Tom';\nconsole.log(sayHello(user));\n```\n : : \n","slug":"1-ts","published":1,"updated":"2019-03-09T00:54:36.204Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41d0004he6jsoq84sr7","content":"<h3 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h3><a id=\"more\"></a>\n<h3 id=\"TypeScipt\"><a href=\"#TypeScipt\" class=\"headerlink\" title=\"TypeScipt\"></a>TypeScipt</h3><blockquote>\n<p>TypeScript  JavaScript  JavaScript JavaScript TypeScript TypeScript </p>\n</blockquote>\n<p>TypeScript  JavaScript  ES6   </p>\n<h3 id=\"TS-\"><a href=\"#TS-\" class=\"headerlink\" title=\"TS \"></a>TS </h3><p>1.<br>2.TSJS<br>3.</p>\n<h3 id=\"Hello-TypeScript\"><a href=\"#Hello-TypeScript\" class=\"headerlink\" title=\"Hello TypeScript\"></a>Hello TypeScript</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function sayHello(person:string) &#123;</span><br><span class=\"line\">    return &apos;Hello,&apos; + person;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">let user = &apos;Tom&apos;;</span><br></pre></td></tr></table></figure>\n<p>.js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function sayHello(person) &#123;</span><br><span class=\"line\">    return &apos;Hello, &apos; + person;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var user = &apos;Tom&apos;;</span><br><span class=\"line\">console.log(sayHello(user));</span><br></pre></td></tr></table></figure></p>\n<p> : : </p>\n","site":{"data":{}},"excerpt":"<h3 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h3>","more":"<h3 id=\"TypeScipt\"><a href=\"#TypeScipt\" class=\"headerlink\" title=\"TypeScipt\"></a>TypeScipt</h3><blockquote>\n<p>TypeScript  JavaScript  JavaScript JavaScript TypeScript TypeScript </p>\n</blockquote>\n<p>TypeScript  JavaScript  ES6   </p>\n<h3 id=\"TS-\"><a href=\"#TS-\" class=\"headerlink\" title=\"TS \"></a>TS </h3><p>1.<br>2.TSJS<br>3.</p>\n<h3 id=\"Hello-TypeScript\"><a href=\"#Hello-TypeScript\" class=\"headerlink\" title=\"Hello TypeScript\"></a>Hello TypeScript</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function sayHello(person:string) &#123;</span><br><span class=\"line\">    return &apos;Hello,&apos; + person;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">let user = &apos;Tom&apos;;</span><br></pre></td></tr></table></figure>\n<p>.js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function sayHello(person) &#123;</span><br><span class=\"line\">    return &apos;Hello, &apos; + person;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var user = &apos;Tom&apos;;</span><br><span class=\"line\">console.log(sayHello(user));</span><br></pre></td></tr></table></figure></p>\n<p> : : </p>"},{"title":"","date":"2019-03-31T16:00:00.000Z","_content":"### \n<!-- more -->\n\n### \n> \n\n\n>  \n  var  \n\n\n```\na = 2;\nvar a;\nconsole.log(a) //2\n------------------\n\nvar a;\na = 2;\n\n```\nJavaScriptvar a;a = 2;\n\n```\nfoo()\nfunction foo() {\n    console.log(a) //undefined\n    var a = 2;\n}\n--------------\n\nfunction foo() {\n    var a;\n    console.log(a) //undefined\n    a = 2;\n}\nfoo()\n```\nfoo\n```\nfoo() //TypeError\nvar foo = function bar() {\n    //...\n}\n```\n\n\n```\nfoo() //1\nvar foo;\nfunction foo() {\n    console.log(1)\n}\nfoo = function() {\n    console.log(2)\n}\n-----------\n\nfunction foo() {\n    console.log(1)\n}\nfoo() //1\nfoo = function() {\n    console.log(2)\n}\n```\n\n\n```\nfoo() //3\n\nfunction foo() {\n    console.log(1)\n}\n\nvar foo = function() {\n    console.log(2)\n}\n\nfunction foo() {\n    console.log(3)\n}\n```\n\n### \n> Javascript\"\"\n\n```\nfunction foo() {\n    var a = 2;\n    function bar() {\n        console.log(a)\n    }\n    return bar\n}\nvar baz = bar();\nbaz(); //2\n```\nbaz()foo()bar() \n  bar() bar()foo(),bar()bar() \n\n","source":"_posts/2-JS-tishenghebibao.md","raw":"---\ntitle: \ndate: 2019-04-1 \ntags: ['JavaScript']\ncategories: JavaScript\n---\n### \n<!-- more -->\n\n### \n> \n\n\n>  \n  var  \n\n\n```\na = 2;\nvar a;\nconsole.log(a) //2\n------------------\n\nvar a;\na = 2;\n\n```\nJavaScriptvar a;a = 2;\n\n```\nfoo()\nfunction foo() {\n    console.log(a) //undefined\n    var a = 2;\n}\n--------------\n\nfunction foo() {\n    var a;\n    console.log(a) //undefined\n    a = 2;\n}\nfoo()\n```\nfoo\n```\nfoo() //TypeError\nvar foo = function bar() {\n    //...\n}\n```\n\n\n```\nfoo() //1\nvar foo;\nfunction foo() {\n    console.log(1)\n}\nfoo = function() {\n    console.log(2)\n}\n-----------\n\nfunction foo() {\n    console.log(1)\n}\nfoo() //1\nfoo = function() {\n    console.log(2)\n}\n```\n\n\n```\nfoo() //3\n\nfunction foo() {\n    console.log(1)\n}\n\nvar foo = function() {\n    console.log(2)\n}\n\nfunction foo() {\n    console.log(3)\n}\n```\n\n### \n> Javascript\"\"\n\n```\nfunction foo() {\n    var a = 2;\n    function bar() {\n        console.log(a)\n    }\n    return bar\n}\nvar baz = bar();\nbaz(); //2\n```\nbaz()foo()bar() \n  bar() bar()foo(),bar()bar() \n\n","slug":"2-JS-tishenghebibao","published":1,"updated":"2019-04-01T13:48:24.012Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41e0005he6jkdheiqxc","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p><br><br><br><br>  var <br></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = 2;</span><br><span class=\"line\">var a;</span><br><span class=\"line\">console.log(a) //2</span><br><span class=\"line\">------------------</span><br><span class=\"line\"></span><br><span class=\"line\">var a;</span><br><span class=\"line\">a = 2;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>JavaScriptvar a;a = 2;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo()</span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(a) //undefined</span><br><span class=\"line\">    var a = 2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">--------------</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    var a;</span><br><span class=\"line\">    console.log(a) //undefined</span><br><span class=\"line\">    a = 2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo()</span><br></pre></td></tr></table></figure>\n<p>foo<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo() //TypeError</span><br><span class=\"line\">var foo = function bar() &#123;</span><br><span class=\"line\">    //...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo() //1</span><br><span class=\"line\">var foo;</span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(1)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo = function() &#123;</span><br><span class=\"line\">    console.log(2)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">-----------</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(1)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo() //1</span><br><span class=\"line\">foo = function() &#123;</span><br><span class=\"line\">    console.log(2)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo() //3</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(1)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">var foo = function() &#123;</span><br><span class=\"line\">    console.log(2)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(3)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>Javascript</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    var a = 2;</span><br><span class=\"line\">    function bar() &#123;</span><br><span class=\"line\">        console.log(a)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return bar</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var baz = bar();</span><br><span class=\"line\">baz(); //2</span><br></pre></td></tr></table></figure>\n<p>baz()foo()bar()<br>  bar() bar()foo(),bar()bar() </p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p><br><br><br><br>  var <br></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = 2;</span><br><span class=\"line\">var a;</span><br><span class=\"line\">console.log(a) //2</span><br><span class=\"line\">------------------</span><br><span class=\"line\"></span><br><span class=\"line\">var a;</span><br><span class=\"line\">a = 2;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>JavaScriptvar a;a = 2;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo()</span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(a) //undefined</span><br><span class=\"line\">    var a = 2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">--------------</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    var a;</span><br><span class=\"line\">    console.log(a) //undefined</span><br><span class=\"line\">    a = 2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo()</span><br></pre></td></tr></table></figure>\n<p>foo<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo() //TypeError</span><br><span class=\"line\">var foo = function bar() &#123;</span><br><span class=\"line\">    //...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo() //1</span><br><span class=\"line\">var foo;</span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(1)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo = function() &#123;</span><br><span class=\"line\">    console.log(2)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">-----------</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(1)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo() //1</span><br><span class=\"line\">foo = function() &#123;</span><br><span class=\"line\">    console.log(2)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo() //3</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(1)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">var foo = function() &#123;</span><br><span class=\"line\">    console.log(2)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(3)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p>Javascript</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    var a = 2;</span><br><span class=\"line\">    function bar() &#123;</span><br><span class=\"line\">        console.log(a)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return bar</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var baz = bar();</span><br><span class=\"line\">baz(); //2</span><br></pre></td></tr></table></figure>\n<p>baz()foo()bar()<br>  bar() bar()foo(),bar()bar() </p>"},{"title":"","date":"2019-03-09T01:01:32.000Z","_content":"### \n<!-- more -->\n\n### \n1.JS\n2.nullundefindES6Symbol\n\n### TypeScript\n1.\n```\nlet isDone: boolean = false;\n\n// \n// \n```\n2.\n```\nlet decLiteral: number = 6;\n```\n\n3.\n```\nlet myName:string = 'Tom';\n```\n4.\nJavaScript Void TypeScript  void \n```\nfunction alertName(): void {\n    alert('My name is Tom')\n}\n```\n void  undefined  null\n```\nlet unusable: void = undefined;\n```\n\n5.Null  Undefined\n TypeScript  null  undefined \n```\nlet u: undefined = undefined;\nlet n: null = null;\n```\nundefined  undefinednull  null\n void undefined  null  undefined  number \n```\n// \nlet num: number = undefined; \nlet u: undefined;\nlet num: number = u;\n```\n void  number \n```\nlet u: void;\nlet num: number = u;\n\n// index.ts(2,5): error TS2322: Type 'void' is not assignable to type 'number'.\n```\n\n\n","source":"_posts/2-ts-primitive-data-type.md","raw":"---\ntitle: \ndate: 2019-03-09 09:01:32\ntags: ['TypeScript']\ncategories: TypeScript\n---\n### \n<!-- more -->\n\n### \n1.JS\n2.nullundefindES6Symbol\n\n### TypeScript\n1.\n```\nlet isDone: boolean = false;\n\n// \n// \n```\n2.\n```\nlet decLiteral: number = 6;\n```\n\n3.\n```\nlet myName:string = 'Tom';\n```\n4.\nJavaScript Void TypeScript  void \n```\nfunction alertName(): void {\n    alert('My name is Tom')\n}\n```\n void  undefined  null\n```\nlet unusable: void = undefined;\n```\n\n5.Null  Undefined\n TypeScript  null  undefined \n```\nlet u: undefined = undefined;\nlet n: null = null;\n```\nundefined  undefinednull  null\n void undefined  null  undefined  number \n```\n// \nlet num: number = undefined; \nlet u: undefined;\nlet num: number = u;\n```\n void  number \n```\nlet u: void;\nlet num: number = u;\n\n// index.ts(2,5): error TS2322: Type 'void' is not assignable to type 'number'.\n```\n\n\n","slug":"2-ts-primitive-data-type","published":1,"updated":"2019-03-09T01:10:44.471Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41g0006he6jfgzni2e9","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p>1.JS<br>2.nullundefindES6Symbol</p>\n<h3 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h3><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let isDone: boolean = false;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">// </span><br></pre></td></tr></table></figure></p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let decLiteral: number = 6;</span><br></pre></td></tr></table></figure></p>\n<p>3.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let myName:string = &apos;Tom&apos;;</span><br></pre></td></tr></table></figure></p>\n<p>4.<br>JavaScript Void TypeScript  void <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function alertName(): void &#123;</span><br><span class=\"line\">    alert(&apos;My name is Tom&apos;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> void  undefined  null<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let unusable: void = undefined;</span><br></pre></td></tr></table></figure></p>\n<p>5.Null  Undefined<br> TypeScript  null  undefined <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let u: undefined = undefined;</span><br><span class=\"line\">let n: null = null;</span><br></pre></td></tr></table></figure></p>\n<p>undefined  undefinednull  null<br> void undefined  null  undefined  number <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">let num: number = undefined; </span><br><span class=\"line\">let u: undefined;</span><br><span class=\"line\">let num: number = u;</span><br></pre></td></tr></table></figure></p>\n<p> void  number <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let u: void;</span><br><span class=\"line\">let num: number = u;</span><br><span class=\"line\"></span><br><span class=\"line\">// index.ts(2,5): error TS2322: Type &apos;void&apos; is not assignable to type &apos;number&apos;.</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><p>1.JS<br>2.nullundefindES6Symbol</p>\n<h3 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h3><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let isDone: boolean = false;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">// </span><br></pre></td></tr></table></figure></p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let decLiteral: number = 6;</span><br></pre></td></tr></table></figure></p>\n<p>3.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let myName:string = &apos;Tom&apos;;</span><br></pre></td></tr></table></figure></p>\n<p>4.<br>JavaScript Void TypeScript  void <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function alertName(): void &#123;</span><br><span class=\"line\">    alert(&apos;My name is Tom&apos;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> void  undefined  null<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let unusable: void = undefined;</span><br></pre></td></tr></table></figure></p>\n<p>5.Null  Undefined<br> TypeScript  null  undefined <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let u: undefined = undefined;</span><br><span class=\"line\">let n: null = null;</span><br></pre></td></tr></table></figure></p>\n<p>undefined  undefinednull  null<br> void undefined  null  undefined  number <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">let num: number = undefined; </span><br><span class=\"line\">let u: undefined;</span><br><span class=\"line\">let num: number = u;</span><br></pre></td></tr></table></figure></p>\n<p> void  number <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let u: void;</span><br><span class=\"line\">let num: number = u;</span><br><span class=\"line\"></span><br><span class=\"line\">// index.ts(2,5): error TS2322: Type &apos;void&apos; is not assignable to type &apos;number&apos;.</span><br></pre></td></tr></table></figure></p>"},{"title":"this","date":"2019-04-01T16:00:00.000Z","_content":"### this\n<!-- more -->\n\n> this this \n\n### this\n \nthis  \n\n\n### this\n1.\n```\nfunction foo() {\n    console.log(this.a)\n}\nvar a = 2;\nfoo() //2\n```\nfoo()this.aathis,this\nfoo()  \n\nthisundefined\n\n2.\n```\nfunction foo() {\n    console.log(this)\n}\nvar obj = {\n    a: 2,\n    foo:foo\n}\nvar a  = 3;\nobj.foo() //2\n```\nfoo() obj \nobjfoo()objthis\n\n3.\n```\nfunction foo() { \n    console.log( this.a ); \n} \nvar obj = { \n    a:2 \n}; \nvar a = 3;\nfoo.call( obj ); // 2\n```\n  foo.call(..)  foo   this   obj \n  this call(..)   apply(..)  \n\n\n4.new\n new \n1. \n2.  [[   ]]  \n3. this \n4. new \n\n---\n```\nfunction foo(a) { \n    this.a = a; \n} \nvar bar = new foo(2); \nconsole.log( bar.a ); // 2\n```\n  new   foo(..)   foo(..)   this \nnew   this   new \n\n### \n>  this \n\n```\nfunction foo() { \n    //  \n    return (a) => { \n        //this foo() \n        console.log( this.a ); \n    }; \n} \nvar obj1 = { \n    a:2 \n};\nvar obj2 = { \n    a:3\n};\nvar bar = foo.call(obj1)\nbar.call(obj2) //2 3\n```\nfoo()this,foo()thisobj1thisobj1\n\n\n### this\n1.   new new   this  \n    var bar = new foo() \n2.    callapplythis \n    var bar = foo.call(obj2) \n3.  this   \n    var bar = obj1.foo() \n4.   undefined \n    var bar = foo()\n\n","source":"_posts/3-JS-this.md","raw":"---\ntitle: this\ndate: 2019-04-02\ntags: ['JavaScript']\ncategories: JavaScript\n---\n### this\n<!-- more -->\n\n> this this \n\n### this\n \nthis  \n\n\n### this\n1.\n```\nfunction foo() {\n    console.log(this.a)\n}\nvar a = 2;\nfoo() //2\n```\nfoo()this.aathis,this\nfoo()  \n\nthisundefined\n\n2.\n```\nfunction foo() {\n    console.log(this)\n}\nvar obj = {\n    a: 2,\n    foo:foo\n}\nvar a  = 3;\nobj.foo() //2\n```\nfoo() obj \nobjfoo()objthis\n\n3.\n```\nfunction foo() { \n    console.log( this.a ); \n} \nvar obj = { \n    a:2 \n}; \nvar a = 3;\nfoo.call( obj ); // 2\n```\n  foo.call(..)  foo   this   obj \n  this call(..)   apply(..)  \n\n\n4.new\n new \n1. \n2.  [[   ]]  \n3. this \n4. new \n\n---\n```\nfunction foo(a) { \n    this.a = a; \n} \nvar bar = new foo(2); \nconsole.log( bar.a ); // 2\n```\n  new   foo(..)   foo(..)   this \nnew   this   new \n\n### \n>  this \n\n```\nfunction foo() { \n    //  \n    return (a) => { \n        //this foo() \n        console.log( this.a ); \n    }; \n} \nvar obj1 = { \n    a:2 \n};\nvar obj2 = { \n    a:3\n};\nvar bar = foo.call(obj1)\nbar.call(obj2) //2 3\n```\nfoo()this,foo()thisobj1thisobj1\n\n\n### this\n1.   new new   this  \n    var bar = new foo() \n2.    callapplythis \n    var bar = foo.call(obj2) \n3.  this   \n    var bar = obj1.foo() \n4.   undefined \n    var bar = foo()\n\n","slug":"3-JS-this","published":1,"updated":"2019-04-02T11:13:27.854Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41i000ahe6j2sloq7ei","content":"<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><a id=\"more\"></a>\n<blockquote>\n<p>this this </p>\n</blockquote>\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><p><br>this <br></p>\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(this.a)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var a = 2;</span><br><span class=\"line\">foo() //2</span><br></pre></td></tr></table></figure></p>\n<p>foo()this.aathis,this<br>foo() <br><br>thisundefined</p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(this)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var obj = &#123;</span><br><span class=\"line\">    a: 2,</span><br><span class=\"line\">    foo:foo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var a  = 3;</span><br><span class=\"line\">obj.foo() //2</span><br></pre></td></tr></table></figure></p>\n<p>foo() obj <br>objfoo()objthis</p>\n<p>3.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123; </span><br><span class=\"line\">    console.log( this.a ); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">var obj = &#123; </span><br><span class=\"line\">    a:2 </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var a = 3;</span><br><span class=\"line\">foo.call( obj ); // 2</span><br></pre></td></tr></table></figure></p>\n<p>  foo.call(..)  foo   this   obj <br>  this call(..)   apply(..) <br></p>\n<p>4.new<br> new <br>1.<br>2.  [[   ]] <br>3. this<br>4. new </p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo(a) &#123; </span><br><span class=\"line\">    this.a = a; </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">var bar = new foo(2); </span><br><span class=\"line\">console.log( bar.a ); // 2</span><br></pre></td></tr></table></figure>\n<p>  new   foo(..)   foo(..)   this<br>new   this   new </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> this </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123; </span><br><span class=\"line\">    //  </span><br><span class=\"line\">    return (a) =&gt; &#123; </span><br><span class=\"line\">        //this foo() </span><br><span class=\"line\">        console.log( this.a ); </span><br><span class=\"line\">    &#125;; </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">var obj1 = &#123; </span><br><span class=\"line\">    a:2 </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">var obj2 = &#123; </span><br><span class=\"line\">    a:3</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">var bar = foo.call(obj1)</span><br><span class=\"line\">bar.call(obj2) //2 3</span><br></pre></td></tr></table></figure>\n<p>foo()this,foo()thisobj1thisobj1<br></p>\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><ol>\n<li> new new   this <br>var bar = new foo() </li>\n<li>  callapplythis <br>var bar = foo.call(obj2) </li>\n<li>this <br>var bar = obj1.foo() </li>\n<li> undefined<br>var bar = foo()</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3>","more":"<blockquote>\n<p>this this </p>\n</blockquote>\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><p><br>this <br></p>\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(this.a)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var a = 2;</span><br><span class=\"line\">foo() //2</span><br></pre></td></tr></table></figure></p>\n<p>foo()this.aathis,this<br>foo() <br><br>thisundefined</p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(this)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var obj = &#123;</span><br><span class=\"line\">    a: 2,</span><br><span class=\"line\">    foo:foo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var a  = 3;</span><br><span class=\"line\">obj.foo() //2</span><br></pre></td></tr></table></figure></p>\n<p>foo() obj <br>objfoo()objthis</p>\n<p>3.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123; </span><br><span class=\"line\">    console.log( this.a ); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">var obj = &#123; </span><br><span class=\"line\">    a:2 </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var a = 3;</span><br><span class=\"line\">foo.call( obj ); // 2</span><br></pre></td></tr></table></figure></p>\n<p>  foo.call(..)  foo   this   obj <br>  this call(..)   apply(..) <br></p>\n<p>4.new<br> new <br>1.<br>2.  [[   ]] <br>3. this<br>4. new </p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo(a) &#123; </span><br><span class=\"line\">    this.a = a; </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">var bar = new foo(2); </span><br><span class=\"line\">console.log( bar.a ); // 2</span><br></pre></td></tr></table></figure>\n<p>  new   foo(..)   foo(..)   this<br>new   this   new </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><blockquote>\n<p> this </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123; </span><br><span class=\"line\">    //  </span><br><span class=\"line\">    return (a) =&gt; &#123; </span><br><span class=\"line\">        //this foo() </span><br><span class=\"line\">        console.log( this.a ); </span><br><span class=\"line\">    &#125;; </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">var obj1 = &#123; </span><br><span class=\"line\">    a:2 </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">var obj2 = &#123; </span><br><span class=\"line\">    a:3</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">var bar = foo.call(obj1)</span><br><span class=\"line\">bar.call(obj2) //2 3</span><br></pre></td></tr></table></figure>\n<p>foo()this,foo()thisobj1thisobj1<br></p>\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><ol>\n<li> new new   this <br>var bar = new foo() </li>\n<li>  callapplythis <br>var bar = foo.call(obj2) </li>\n<li>this <br>var bar = obj1.foo() </li>\n<li> undefined<br>var bar = foo()</li>\n</ol>"},{"title":"Any","date":"2019-03-09T01:14:46.000Z","_content":"### Any\n<!-- more -->\n\n### Any\nAny\n1.\n2.any,\n```\nlet myFavoriteNumber:any = 'seven';\nmyFavoriteNumber = 7;\n```\n\n### \n1. \n2. \n```\nlet anyThing: any = 'hello';\nconsole.log(anyThing.myName);\n\nlet anyThing: any = 'Tom';\nanyThing.setName('Jerry');\n```\n\n### \n\n```\nlet something;\nsomething = 'seven';\n```\n\n","source":"_posts/3-ts-any.md","raw":"---\ntitle: Any\ndate: 2019-03-09 09:14:46\ntags: ['TypeScript']\ncategories: TypeScript\n---\n### Any\n<!-- more -->\n\n### Any\nAny\n1.\n2.any,\n```\nlet myFavoriteNumber:any = 'seven';\nmyFavoriteNumber = 7;\n```\n\n### \n1. \n2. \n```\nlet anyThing: any = 'hello';\nconsole.log(anyThing.myName);\n\nlet anyThing: any = 'Tom';\nanyThing.setName('Jerry');\n```\n\n### \n\n```\nlet something;\nsomething = 'seven';\n```\n\n","slug":"3-ts-any","published":1,"updated":"2019-03-09T01:19:56.750Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41j000che6jqi903pgg","content":"<h3 id=\"Any\"><a href=\"#Any\" class=\"headerlink\" title=\"Any\"></a>Any</h3><a id=\"more\"></a>\n<h3 id=\"Any-1\"><a href=\"#Any-1\" class=\"headerlink\" title=\"Any\"></a>Any</h3><p>Any<br>1.<br>2.any,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let myFavoriteNumber:any = &apos;seven&apos;;</span><br><span class=\"line\">myFavoriteNumber = 7;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let anyThing: any = &apos;hello&apos;;</span><br><span class=\"line\">console.log(anyThing.myName);</span><br><span class=\"line\"></span><br><span class=\"line\">let anyThing: any = &apos;Tom&apos;;</span><br><span class=\"line\">anyThing.setName(&apos;Jerry&apos;);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let something;</span><br><span class=\"line\">something = &apos;seven&apos;;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"Any\"><a href=\"#Any\" class=\"headerlink\" title=\"Any\"></a>Any</h3>","more":"<h3 id=\"Any-1\"><a href=\"#Any-1\" class=\"headerlink\" title=\"Any\"></a>Any</h3><p>Any<br>1.<br>2.any,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let myFavoriteNumber:any = &apos;seven&apos;;</span><br><span class=\"line\">myFavoriteNumber = 7;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let anyThing: any = &apos;hello&apos;;</span><br><span class=\"line\">console.log(anyThing.myName);</span><br><span class=\"line\"></span><br><span class=\"line\">let anyThing: any = &apos;Tom&apos;;</span><br><span class=\"line\">anyThing.setName(&apos;Jerry&apos;);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let something;</span><br><span class=\"line\">something = &apos;seven&apos;;</span><br></pre></td></tr></table></figure></p>"},{"title":"","date":"2019-03-09T01:27:54.000Z","_content":"### (interfacer)\n<!-- more -->\n\n### \nTypeScript Shape\n```\n//\ninterface Person {\n    name:string;\n    age: number;\n}\n\n//Person tom  Person \nlet tom:Person = {\n    name: 'Tom',\n    age: 25\n}\n```\n\n### \nkey? key?\n```\n//\ninterface Person {\n    name:string;\n    age: number;\n}\n\n//\nlet tom: Person = {\n    name: 'Tom'\n};\n```\n\n### \n1. [propName: string]  string \n2.\n\n```\ninterface Person {\n    name: string;\n    age?: number;\n    [propName: string]: any;\n}\n\nlet tom: Person = {\n    name: 'Tom',\n    gender: 'male'\n};\n```\n```\n//\ninterface Person {\n    name: string;\n    age?: number;\n    [propName: string]: string;\n}\n\nlet tom: Person = {\n    name: 'Tom',\n    age: 25,\n    gender: 'male'\n};\n```\nagenumber,number  string \n\n### \n1.readonly \n2.\n```\n//\ninterface Person {\n    readonly id: number;\n    name: string;\n    age?: number;\n    [propName: string]: any;\n}\n\nlet tom: Person = {\n    id: 89757,\n    name: 'Tom',\n    gender: 'male'\n};\n\ntom.id = 9527;\n```\n readonly  id \n\n```\ninterface Person {\n    readonly id: number;\n    name: string;\n    age?: number;\n    [propName: string]: any;\n}\n\nlet tom: Person = {\n    name: 'Tom',\n    gender: 'male'\n};\n\ntom.id = 89757;\n```\n\n1. tom  id \n2.  tom.id ","source":"_posts/4-ts-interfaces.md","raw":"---\ntitle: \ndate: 2019-03-09 09:27:54\ntags: ['TypeScript']\ncategories: TypeScript\n---\n### (interfacer)\n<!-- more -->\n\n### \nTypeScript Shape\n```\n//\ninterface Person {\n    name:string;\n    age: number;\n}\n\n//Person tom  Person \nlet tom:Person = {\n    name: 'Tom',\n    age: 25\n}\n```\n\n### \nkey? key?\n```\n//\ninterface Person {\n    name:string;\n    age: number;\n}\n\n//\nlet tom: Person = {\n    name: 'Tom'\n};\n```\n\n### \n1. [propName: string]  string \n2.\n\n```\ninterface Person {\n    name: string;\n    age?: number;\n    [propName: string]: any;\n}\n\nlet tom: Person = {\n    name: 'Tom',\n    gender: 'male'\n};\n```\n```\n//\ninterface Person {\n    name: string;\n    age?: number;\n    [propName: string]: string;\n}\n\nlet tom: Person = {\n    name: 'Tom',\n    age: 25,\n    gender: 'male'\n};\n```\nagenumber,number  string \n\n### \n1.readonly \n2.\n```\n//\ninterface Person {\n    readonly id: number;\n    name: string;\n    age?: number;\n    [propName: string]: any;\n}\n\nlet tom: Person = {\n    id: 89757,\n    name: 'Tom',\n    gender: 'male'\n};\n\ntom.id = 9527;\n```\n readonly  id \n\n```\ninterface Person {\n    readonly id: number;\n    name: string;\n    age?: number;\n    [propName: string]: any;\n}\n\nlet tom: Person = {\n    name: 'Tom',\n    gender: 'male'\n};\n\ntom.id = 89757;\n```\n\n1. tom  id \n2.  tom.id ","slug":"4-ts-interfaces","published":1,"updated":"2019-03-09T01:48:13.038Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41l000hhe6j1po2b8ih","content":"<h3 id=\"-interfacer\"><a href=\"#-interfacer\" class=\"headerlink\" title=\"(interfacer)\"></a>(interfacer)</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>TypeScript Shape<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name:string;</span><br><span class=\"line\">    age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//Person tom  Person </span><br><span class=\"line\">let tom:Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    age: 25</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>key? key?<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name:string;</span><br><span class=\"line\">    age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1. [propName: string]  string <br>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: string;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    age: 25,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>agenumber,number  string </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.readonly <br>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    readonly id: number;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    id: 89757,</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">tom.id = 9527;</span><br></pre></td></tr></table></figure></p>\n<p> readonly  id </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    readonly id: number;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">tom.id = 89757;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>tom  id </li>\n<li>tom.id </li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"-interfacer\"><a href=\"#-interfacer\" class=\"headerlink\" title=\"(interfacer)\"></a>(interfacer)</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>TypeScript Shape<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name:string;</span><br><span class=\"line\">    age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//Person tom  Person </span><br><span class=\"line\">let tom:Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    age: 25</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>key? key?<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name:string;</span><br><span class=\"line\">    age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1. [propName: string]  string <br>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: string;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    age: 25,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>agenumber,number  string </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.readonly <br>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    readonly id: number;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    id: 89757,</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">tom.id = 9527;</span><br></pre></td></tr></table></figure></p>\n<p> readonly  id </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">    readonly id: number;</span><br><span class=\"line\">    name: string;</span><br><span class=\"line\">    age?: number;</span><br><span class=\"line\">    [propName: string]: any;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">let tom: Person = &#123;</span><br><span class=\"line\">    name: &apos;Tom&apos;,</span><br><span class=\"line\">    gender: &apos;male&apos;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">tom.id = 89757;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>tom  id </li>\n<li>tom.id </li>\n</ol>"},{"title":"Node.js","date":"2019-06-11T16:00:00.000Z","_content":"\n### Node.js\n<!-- more -->\n\n### nodejsmysql\nnpm i mysql \nmysql\n```\nconfig/db.js\n//\nconst env = process.env.NODE_ENV\n\n// \nlet MYSQL_CONF\n\n/** \n *  \n */\n\n //\nif (env === 'dev') {\n   // mysql\n    MYSQL_CONF = {\n\t\thost: '127.0.0.1',\n\t\tuser: 'root',\n\t\tpassword: '',\n\t\tport: '3306',\n\t\tdatabase: 'myblog'\n\t} \n}\n\n//\nif (env === 'production') {\n    // mysql\n\tMYSQL_CONF = {\n\t\thost: '127.0.0.1',\n\t\tuser: 'root',\n\t\tpassword: '',\n\t\tport: '3306',\n\t\tdatabase: 'myblog'\n\t}\n}\n\nmodule.exports = {\n    MYSQL_CONF,\n}\n```\nmysqlpromise\n```\nmysql.js\n\nconst mysql = require('mysql');\nconst { MYSQL_CONF }  = require('../config/db');\n\nconst con = mysql.createConnection(MYSQL_CONF)\n\n//\ncon.connect()\n\n//sql\nfunction exec(sql) {\n    const promise = new Promise((resolve,reject) => {\n        con.query(sql,(err,result) => {\n            if (err) {\n                reject(err)\n                return\n            }\n            resolve(result)\n        })\n    })\n\n    return promise\n}\n\nmodule.exports = {\n    exec\n}\n```\n\n### cookiesession\n#### cookie\n1. 5kb\n2. \n3. k1=v1\n4. httpcookieserver\n5. servercookie\n6. jscookie\n\n#### jscookiecookie\n1. NetworkRequest Headers\n2. Application\n3. document.cookie\n\n#### servecookie\n1. cookie\n2. cookie\n3. \n\n#### session\n1. \n2. \n\n#### redis\n1. web server\n2. mysql\n3. \n```\nbrew install redis\nredis-server\nredis-cli\nredisset name value\nredisget name\nrediskeys *\nredisdel name\n```\n\n\n### nginx\n> nginx\n![image](/images/nginx.png)\n#### \n1. web\n2. \n3. \n\n#### \n1. Mac: brew install nginx\n2. Mac: /usr/local/etc/nginx/nginx.conf\n3.  nginx -t\n4.  nginx nginx -s reload\n5.  nginx -s stop\n```\n//\nsudo vi /usr/local/etc/nginx/nginx.conf\n\n//nginx\nlocation / {\n    proxy_pass http://localhost:8081;\n}\n\n//nginx\nlocation /api/ {\n    proxy_pass http://localhost:8000;\n    proxy_set_header Host $host;\n}\n```\n\n### \n1. sql\n2. XSScookie\n3. \n","source":"_posts/Node-tool.md","raw":"---\ntitle: Node.js\ndate: 2019-06-12\ntags: ['Node.js']\ncategories: Node.js\n---\n\n### Node.js\n<!-- more -->\n\n### nodejsmysql\nnpm i mysql \nmysql\n```\nconfig/db.js\n//\nconst env = process.env.NODE_ENV\n\n// \nlet MYSQL_CONF\n\n/** \n *  \n */\n\n //\nif (env === 'dev') {\n   // mysql\n    MYSQL_CONF = {\n\t\thost: '127.0.0.1',\n\t\tuser: 'root',\n\t\tpassword: '',\n\t\tport: '3306',\n\t\tdatabase: 'myblog'\n\t} \n}\n\n//\nif (env === 'production') {\n    // mysql\n\tMYSQL_CONF = {\n\t\thost: '127.0.0.1',\n\t\tuser: 'root',\n\t\tpassword: '',\n\t\tport: '3306',\n\t\tdatabase: 'myblog'\n\t}\n}\n\nmodule.exports = {\n    MYSQL_CONF,\n}\n```\nmysqlpromise\n```\nmysql.js\n\nconst mysql = require('mysql');\nconst { MYSQL_CONF }  = require('../config/db');\n\nconst con = mysql.createConnection(MYSQL_CONF)\n\n//\ncon.connect()\n\n//sql\nfunction exec(sql) {\n    const promise = new Promise((resolve,reject) => {\n        con.query(sql,(err,result) => {\n            if (err) {\n                reject(err)\n                return\n            }\n            resolve(result)\n        })\n    })\n\n    return promise\n}\n\nmodule.exports = {\n    exec\n}\n```\n\n### cookiesession\n#### cookie\n1. 5kb\n2. \n3. k1=v1\n4. httpcookieserver\n5. servercookie\n6. jscookie\n\n#### jscookiecookie\n1. NetworkRequest Headers\n2. Application\n3. document.cookie\n\n#### servecookie\n1. cookie\n2. cookie\n3. \n\n#### session\n1. \n2. \n\n#### redis\n1. web server\n2. mysql\n3. \n```\nbrew install redis\nredis-server\nredis-cli\nredisset name value\nredisget name\nrediskeys *\nredisdel name\n```\n\n\n### nginx\n> nginx\n![image](/images/nginx.png)\n#### \n1. web\n2. \n3. \n\n#### \n1. Mac: brew install nginx\n2. Mac: /usr/local/etc/nginx/nginx.conf\n3.  nginx -t\n4.  nginx nginx -s reload\n5.  nginx -s stop\n```\n//\nsudo vi /usr/local/etc/nginx/nginx.conf\n\n//nginx\nlocation / {\n    proxy_pass http://localhost:8081;\n}\n\n//nginx\nlocation /api/ {\n    proxy_pass http://localhost:8000;\n    proxy_set_header Host $host;\n}\n```\n\n### \n1. sql\n2. XSScookie\n3. \n","slug":"Node-tool","published":1,"updated":"2019-06-15T04:15:33.519Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41m000khe6jeb0xm7s5","content":"<h3 id=\"Node-js\"><a href=\"#Node-js\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3><a id=\"more\"></a>\n<h3 id=\"nodejsmysql\"><a href=\"#nodejsmysql\" class=\"headerlink\" title=\"nodejsmysql\"></a>nodejsmysql</h3><p>npm i mysql<br>mysql<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config/db.js</span><br><span class=\"line\">//</span><br><span class=\"line\">const env = process.env.NODE_ENV</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">let MYSQL_CONF</span><br><span class=\"line\"></span><br><span class=\"line\">/** </span><br><span class=\"line\"> *  </span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\"> //</span><br><span class=\"line\">if (env === &apos;dev&apos;) &#123;</span><br><span class=\"line\">   // mysql</span><br><span class=\"line\">    MYSQL_CONF = &#123;</span><br><span class=\"line\">\t\thost: &apos;127.0.0.1&apos;,</span><br><span class=\"line\">\t\tuser: &apos;root&apos;,</span><br><span class=\"line\">\t\tpassword: &apos;&apos;,</span><br><span class=\"line\">\t\tport: &apos;3306&apos;,</span><br><span class=\"line\">\t\tdatabase: &apos;myblog&apos;</span><br><span class=\"line\">\t&#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">if (env === &apos;production&apos;) &#123;</span><br><span class=\"line\">    // mysql</span><br><span class=\"line\">\tMYSQL_CONF = &#123;</span><br><span class=\"line\">\t\thost: &apos;127.0.0.1&apos;,</span><br><span class=\"line\">\t\tuser: &apos;root&apos;,</span><br><span class=\"line\">\t\tpassword: &apos;&apos;,</span><br><span class=\"line\">\t\tport: &apos;3306&apos;,</span><br><span class=\"line\">\t\tdatabase: &apos;myblog&apos;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    MYSQL_CONF,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>mysqlpromise<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql.js</span><br><span class=\"line\"></span><br><span class=\"line\">const mysql = require(&apos;mysql&apos;);</span><br><span class=\"line\">const &#123; MYSQL_CONF &#125;  = require(&apos;../config/db&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">const con = mysql.createConnection(MYSQL_CONF)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">con.connect()</span><br><span class=\"line\"></span><br><span class=\"line\">//sql</span><br><span class=\"line\">function exec(sql) &#123;</span><br><span class=\"line\">    const promise = new Promise((resolve,reject) =&gt; &#123;</span><br><span class=\"line\">        con.query(sql,(err,result) =&gt; &#123;</span><br><span class=\"line\">            if (err) &#123;</span><br><span class=\"line\">                reject(err)</span><br><span class=\"line\">                return</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            resolve(result)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    return promise</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    exec</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"cookiesession\"><a href=\"#cookiesession\" class=\"headerlink\" title=\"cookiesession\"></a>cookiesession</h3><h4 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h4><ol>\n<li>5kb</li>\n<li></li>\n<li>k1=v1</li>\n<li>httpcookieserver</li>\n<li>servercookie</li>\n<li>jscookie</li>\n</ol>\n<h4 id=\"jscookiecookie\"><a href=\"#jscookiecookie\" class=\"headerlink\" title=\"jscookiecookie\"></a>jscookiecookie</h4><ol>\n<li>NetworkRequest Headers</li>\n<li>Application</li>\n<li>document.cookie</li>\n</ol>\n<h4 id=\"servecookie\"><a href=\"#servecookie\" class=\"headerlink\" title=\"servecookie\"></a>servecookie</h4><ol>\n<li>cookie</li>\n<li>cookie</li>\n<li></li>\n</ol>\n<h4 id=\"session\"><a href=\"#session\" class=\"headerlink\" title=\"session\"></a>session</h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h4><ol>\n<li>web server</li>\n<li>mysql</li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install redis</span><br><span class=\"line\">redis-server</span><br><span class=\"line\">redis-cli</span><br><span class=\"line\">redisset name value</span><br><span class=\"line\">redisget name</span><br><span class=\"line\">rediskeys *</span><br><span class=\"line\">redisdel name</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h3><blockquote>\n<p>nginx<br><img src=\"/images/nginx.png\" alt=\"image\"></p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>web</li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>Mac: brew install nginx</li>\n<li>Mac: /usr/local/etc/nginx/nginx.conf</li>\n<li> nginx -t</li>\n<li> nginx nginx -s reload</li>\n<li> nginx -s stop<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">sudo vi /usr/local/etc/nginx/nginx.conf</span><br><span class=\"line\"></span><br><span class=\"line\">//nginx</span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">    proxy_pass http://localhost:8081;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//nginx</span><br><span class=\"line\">location /api/ &#123;</span><br><span class=\"line\">    proxy_pass http://localhost:8000;</span><br><span class=\"line\">    proxy_set_header Host $host;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>sql</li>\n<li>XSScookie</li>\n<li></li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"Node-js\"><a href=\"#Node-js\" class=\"headerlink\" title=\"Node.js\"></a>Node.js</h3>","more":"<h3 id=\"nodejsmysql\"><a href=\"#nodejsmysql\" class=\"headerlink\" title=\"nodejsmysql\"></a>nodejsmysql</h3><p>npm i mysql<br>mysql<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config/db.js</span><br><span class=\"line\">//</span><br><span class=\"line\">const env = process.env.NODE_ENV</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">let MYSQL_CONF</span><br><span class=\"line\"></span><br><span class=\"line\">/** </span><br><span class=\"line\"> *  </span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\"> //</span><br><span class=\"line\">if (env === &apos;dev&apos;) &#123;</span><br><span class=\"line\">   // mysql</span><br><span class=\"line\">    MYSQL_CONF = &#123;</span><br><span class=\"line\">\t\thost: &apos;127.0.0.1&apos;,</span><br><span class=\"line\">\t\tuser: &apos;root&apos;,</span><br><span class=\"line\">\t\tpassword: &apos;&apos;,</span><br><span class=\"line\">\t\tport: &apos;3306&apos;,</span><br><span class=\"line\">\t\tdatabase: &apos;myblog&apos;</span><br><span class=\"line\">\t&#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">if (env === &apos;production&apos;) &#123;</span><br><span class=\"line\">    // mysql</span><br><span class=\"line\">\tMYSQL_CONF = &#123;</span><br><span class=\"line\">\t\thost: &apos;127.0.0.1&apos;,</span><br><span class=\"line\">\t\tuser: &apos;root&apos;,</span><br><span class=\"line\">\t\tpassword: &apos;&apos;,</span><br><span class=\"line\">\t\tport: &apos;3306&apos;,</span><br><span class=\"line\">\t\tdatabase: &apos;myblog&apos;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    MYSQL_CONF,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>mysqlpromise<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql.js</span><br><span class=\"line\"></span><br><span class=\"line\">const mysql = require(&apos;mysql&apos;);</span><br><span class=\"line\">const &#123; MYSQL_CONF &#125;  = require(&apos;../config/db&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">const con = mysql.createConnection(MYSQL_CONF)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">con.connect()</span><br><span class=\"line\"></span><br><span class=\"line\">//sql</span><br><span class=\"line\">function exec(sql) &#123;</span><br><span class=\"line\">    const promise = new Promise((resolve,reject) =&gt; &#123;</span><br><span class=\"line\">        con.query(sql,(err,result) =&gt; &#123;</span><br><span class=\"line\">            if (err) &#123;</span><br><span class=\"line\">                reject(err)</span><br><span class=\"line\">                return</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            resolve(result)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    return promise</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    exec</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"cookiesession\"><a href=\"#cookiesession\" class=\"headerlink\" title=\"cookiesession\"></a>cookiesession</h3><h4 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h4><ol>\n<li>5kb</li>\n<li></li>\n<li>k1=v1</li>\n<li>httpcookieserver</li>\n<li>servercookie</li>\n<li>jscookie</li>\n</ol>\n<h4 id=\"jscookiecookie\"><a href=\"#jscookiecookie\" class=\"headerlink\" title=\"jscookiecookie\"></a>jscookiecookie</h4><ol>\n<li>NetworkRequest Headers</li>\n<li>Application</li>\n<li>document.cookie</li>\n</ol>\n<h4 id=\"servecookie\"><a href=\"#servecookie\" class=\"headerlink\" title=\"servecookie\"></a>servecookie</h4><ol>\n<li>cookie</li>\n<li>cookie</li>\n<li></li>\n</ol>\n<h4 id=\"session\"><a href=\"#session\" class=\"headerlink\" title=\"session\"></a>session</h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h4><ol>\n<li>web server</li>\n<li>mysql</li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install redis</span><br><span class=\"line\">redis-server</span><br><span class=\"line\">redis-cli</span><br><span class=\"line\">redisset name value</span><br><span class=\"line\">redisget name</span><br><span class=\"line\">rediskeys *</span><br><span class=\"line\">redisdel name</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h3><blockquote>\n<p>nginx<br><img src=\"/images/nginx.png\" alt=\"image\"></p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>web</li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>Mac: brew install nginx</li>\n<li>Mac: /usr/local/etc/nginx/nginx.conf</li>\n<li> nginx -t</li>\n<li> nginx nginx -s reload</li>\n<li> nginx -s stop<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">sudo vi /usr/local/etc/nginx/nginx.conf</span><br><span class=\"line\"></span><br><span class=\"line\">//nginx</span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">    proxy_pass http://localhost:8081;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//nginx</span><br><span class=\"line\">location /api/ &#123;</span><br><span class=\"line\">    proxy_pass http://localhost:8000;</span><br><span class=\"line\">    proxy_set_header Host $host;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>sql</li>\n<li>XSScookie</li>\n<li></li>\n</ol>"},{"title":"PM2","date":"2019-06-14T16:00:00.000Z","_content":"\n### PM2\n<!-- more -->\n\n### \n![image](/images/node-serve.png)\n\n### \n1. \n2. \n3. \n\n#### PM2\n1. \n2. CPU\n3. \n\n#### PM2\n1. \n\n```\n\nnpm i pm2 -g \n\n\npm2 --version\n\n\npm2 list\n\n id\npm2 resstart <AppName>/<id>\n\n\npm2 stop <AppName>/<id>\n\n\npm2 delete <AppName>/<id>\n\n\npm2 info <AppName>/<id>\n\n\npm2 log <AppName>/<id>\n\nCPU\npm2 monit <AppName>/<id>\n```\n\n2. \n\n```\npackage.json\n\npm2app.jsexpresskoa2 bin/www\n\"prd\": \"cross-env NODE_ENV==product pm2 start app.js\"\n```\n\n#### PM2\n1. \n\n2. PM2\n\n```\npm2.conf.json\n\n{\n  \"apps\": {\n    \"name\": \"pm2-test-server\", //\n    \"script\": \"app.js\", //expressbin/www\n    \"watch\": true, //\n    \"ignore-watch\": [\n      \"node_modules\",\n      \"logs\"\n    ], //\n    \"instances\": 4, //CPU\n    \"error_file\": \"logs/err.log\", //\n    \"out_file\": \"logs/out.log\", //console.log\n    \"log-date-format\": \"YYYY-MM-DD HH:mm:ss\", //\n  }\n}\n\npackage.json\n\"prd\": \"cross-env NODE_ENV==product pm2 start pm2.conf.json\"\n```\n\n#### PM2\n1. \n\n\n2. redis\n\nredis","source":"_posts/PM2.md","raw":"---\ntitle: PM2\ndate: 2019-06-15\ntags: ['Node.js']\ncategories: Node.js\n---\n\n### PM2\n<!-- more -->\n\n### \n![image](/images/node-serve.png)\n\n### \n1. \n2. \n3. \n\n#### PM2\n1. \n2. CPU\n3. \n\n#### PM2\n1. \n\n```\n\nnpm i pm2 -g \n\n\npm2 --version\n\n\npm2 list\n\n id\npm2 resstart <AppName>/<id>\n\n\npm2 stop <AppName>/<id>\n\n\npm2 delete <AppName>/<id>\n\n\npm2 info <AppName>/<id>\n\n\npm2 log <AppName>/<id>\n\nCPU\npm2 monit <AppName>/<id>\n```\n\n2. \n\n```\npackage.json\n\npm2app.jsexpresskoa2 bin/www\n\"prd\": \"cross-env NODE_ENV==product pm2 start app.js\"\n```\n\n#### PM2\n1. \n\n2. PM2\n\n```\npm2.conf.json\n\n{\n  \"apps\": {\n    \"name\": \"pm2-test-server\", //\n    \"script\": \"app.js\", //expressbin/www\n    \"watch\": true, //\n    \"ignore-watch\": [\n      \"node_modules\",\n      \"logs\"\n    ], //\n    \"instances\": 4, //CPU\n    \"error_file\": \"logs/err.log\", //\n    \"out_file\": \"logs/out.log\", //console.log\n    \"log-date-format\": \"YYYY-MM-DD HH:mm:ss\", //\n  }\n}\n\npackage.json\n\"prd\": \"cross-env NODE_ENV==product pm2 start pm2.conf.json\"\n```\n\n#### PM2\n1. \n\n\n2. redis\n\nredis","slug":"PM2","published":1,"updated":"2019-06-15T04:20:55.186Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41r000phe6jnlo7ayd6","content":"<h3 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/node-serve.png\" alt=\"image\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li></li>\n<li>CPU</li>\n<li></li>\n</ol>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">npm i pm2 -g </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 --version</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 list</span><br><span class=\"line\"></span><br><span class=\"line\"> id</span><br><span class=\"line\">pm2 resstart &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 stop &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 delete &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 info &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 log &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">CPU</span><br><span class=\"line\">pm2 monit &lt;AppName&gt;/&lt;id&gt;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package.json</span><br><span class=\"line\"></span><br><span class=\"line\">pm2app.jsexpresskoa2 bin/www</span><br><span class=\"line\">&quot;prd&quot;: &quot;cross-env NODE_ENV==product pm2 start app.js&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li><p></p>\n</li>\n<li><p>PM2</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2.conf.json</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;apps&quot;: &#123;</span><br><span class=\"line\">    &quot;name&quot;: &quot;pm2-test-server&quot;, //</span><br><span class=\"line\">    &quot;script&quot;: &quot;app.js&quot;, //expressbin/www</span><br><span class=\"line\">    &quot;watch&quot;: true, //</span><br><span class=\"line\">    &quot;ignore-watch&quot;: [</span><br><span class=\"line\">      &quot;node_modules&quot;,</span><br><span class=\"line\">      &quot;logs&quot;</span><br><span class=\"line\">    ], //</span><br><span class=\"line\">    &quot;instances&quot;: 4, //CPU</span><br><span class=\"line\">    &quot;error_file&quot;: &quot;logs/err.log&quot;, //</span><br><span class=\"line\">    &quot;out_file&quot;: &quot;logs/out.log&quot;, //console.log</span><br><span class=\"line\">    &quot;log-date-format&quot;: &quot;YYYY-MM-DD HH:mm:ss&quot;, //</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">package.json</span><br><span class=\"line\">&quot;prd&quot;: &quot;cross-env NODE_ENV==product pm2 start pm2.conf.json&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li><p><br></p>\n</li>\n<li><p>redis<br><br>redis</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/node-serve.png\" alt=\"image\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li></li>\n<li>CPU</li>\n<li></li>\n</ol>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">npm i pm2 -g </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 --version</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 list</span><br><span class=\"line\"></span><br><span class=\"line\"> id</span><br><span class=\"line\">pm2 resstart &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 stop &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 delete &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 info &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 log &lt;AppName&gt;/&lt;id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">CPU</span><br><span class=\"line\">pm2 monit &lt;AppName&gt;/&lt;id&gt;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package.json</span><br><span class=\"line\"></span><br><span class=\"line\">pm2app.jsexpresskoa2 bin/www</span><br><span class=\"line\">&quot;prd&quot;: &quot;cross-env NODE_ENV==product pm2 start app.js&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li><p></p>\n</li>\n<li><p>PM2</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2.conf.json</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;apps&quot;: &#123;</span><br><span class=\"line\">    &quot;name&quot;: &quot;pm2-test-server&quot;, //</span><br><span class=\"line\">    &quot;script&quot;: &quot;app.js&quot;, //expressbin/www</span><br><span class=\"line\">    &quot;watch&quot;: true, //</span><br><span class=\"line\">    &quot;ignore-watch&quot;: [</span><br><span class=\"line\">      &quot;node_modules&quot;,</span><br><span class=\"line\">      &quot;logs&quot;</span><br><span class=\"line\">    ], //</span><br><span class=\"line\">    &quot;instances&quot;: 4, //CPU</span><br><span class=\"line\">    &quot;error_file&quot;: &quot;logs/err.log&quot;, //</span><br><span class=\"line\">    &quot;out_file&quot;: &quot;logs/out.log&quot;, //console.log</span><br><span class=\"line\">    &quot;log-date-format&quot;: &quot;YYYY-MM-DD HH:mm:ss&quot;, //</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">package.json</span><br><span class=\"line\">&quot;prd&quot;: &quot;cross-env NODE_ENV==product pm2 start pm2.conf.json&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><ol>\n<li><p><br></p>\n</li>\n<li><p>redis<br><br>redis</p>\n</li>\n</ol>"},{"title":"JavaScript  async/await","date":"2018-12-27T16:00:00.000Z","_content":"\n\n\n### asyncawait\n<!-- more -->\n\nasync  await  async wait  async  function  await \n\n### async\n1.asyncasync  async \n```\nasync function test() {\n    return \"hello world\"\n}\n```\n2.asyncasync \n```\nconsole.log(test())\n//Promisea\n\nPromise\n__proto__: Promise\n[[PromiseStatus]]: \"resolved\"\n[[PromiseValue]]: \"hell\"\n```\n\n3.async  Promise async Lambda Promise  return async  Promise.resolve()  Promise \n\n### await\n1. await  async await  Promise \n\n2.asyncPromiseawaitasyncawaitasync\n\n```\nfunction test1() {\n    reuturn \"test1\"\n}\nfunction test2() {\n    reuturn \"test2\"\n}\nasync function test() {\n    const v1 = await test1();\n    const v2 = await test2();\n}\ntest()\n```\n\n3.async  Promise \n\n### async/await \n1.asyncPromiseawaitPromiseresolve\n\n2.async/await  then  Promise  async/await  Promise  then \n```\n/**\n *  n\n *  n + 200\n */\nfunction takeLongTime(n) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(n + 200), n);\n    });\n}\n\nfunction step1(n) {\n    console.log(`step1 with ${n}`);\n    return takeLongTime(n);\n}\n\nfunction step2(n) {\n    console.log(`step2 with ${n}`);\n    return takeLongTime(n);\n}\n\nfunction step3(n) {\n    console.log(`step3 with ${n}`);\n    return takeLongTime(n);\n}\n```\n\n Promise \n```\nfunction doIt() {\n    console.time(\"doIt\");\n    const time1 = 300;\n    step1(time1)\n        .then(time2 => step2(time2))\n        .then(time3 => step3(time3))\n        .then(result => {\n            console.log(`result is ${result}`);\n            console.timeEnd(\"doIt\");\n        });\n}\n\ndoIt();\n```\n\n async/await \n```\nasync function doIt() {\n    console.time(\"doIt\");\n    const time1 = 300;\n    const time2 = await step1(time1);\n    const time3 = await step2(time2);\n    const result = await step3(time3);\n    console.log(`result is ${result}`);\n    console.timeEnd(\"doIt\");\n}\n\ndoIt();\n```\n\n### \n.then(..).catch(..)try catch\n```\nconst start = async function () {\n    try {\n        console.log('start');\n        await sleep(3000); // \n        \n        // \n        console.log('end');\n    } catch (err) {\n        console.log(err); //  `error`\n    }\n};\n```\n\n\n","source":"_posts/async.md","raw":"---\ntitle: JavaScript  async/await\ndate: 2018-12-28 \ntags: ['JavaScript']\ncategories: JavaScript\n---\n\n\n\n### asyncawait\n<!-- more -->\n\nasync  await  async wait  async  function  await \n\n### async\n1.asyncasync  async \n```\nasync function test() {\n    return \"hello world\"\n}\n```\n2.asyncasync \n```\nconsole.log(test())\n//Promisea\n\nPromise\n__proto__: Promise\n[[PromiseStatus]]: \"resolved\"\n[[PromiseValue]]: \"hell\"\n```\n\n3.async  Promise async Lambda Promise  return async  Promise.resolve()  Promise \n\n### await\n1. await  async await  Promise \n\n2.asyncPromiseawaitasyncawaitasync\n\n```\nfunction test1() {\n    reuturn \"test1\"\n}\nfunction test2() {\n    reuturn \"test2\"\n}\nasync function test() {\n    const v1 = await test1();\n    const v2 = await test2();\n}\ntest()\n```\n\n3.async  Promise \n\n### async/await \n1.asyncPromiseawaitPromiseresolve\n\n2.async/await  then  Promise  async/await  Promise  then \n```\n/**\n *  n\n *  n + 200\n */\nfunction takeLongTime(n) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(n + 200), n);\n    });\n}\n\nfunction step1(n) {\n    console.log(`step1 with ${n}`);\n    return takeLongTime(n);\n}\n\nfunction step2(n) {\n    console.log(`step2 with ${n}`);\n    return takeLongTime(n);\n}\n\nfunction step3(n) {\n    console.log(`step3 with ${n}`);\n    return takeLongTime(n);\n}\n```\n\n Promise \n```\nfunction doIt() {\n    console.time(\"doIt\");\n    const time1 = 300;\n    step1(time1)\n        .then(time2 => step2(time2))\n        .then(time3 => step3(time3))\n        .then(result => {\n            console.log(`result is ${result}`);\n            console.timeEnd(\"doIt\");\n        });\n}\n\ndoIt();\n```\n\n async/await \n```\nasync function doIt() {\n    console.time(\"doIt\");\n    const time1 = 300;\n    const time2 = await step1(time1);\n    const time3 = await step2(time2);\n    const result = await step3(time3);\n    console.log(`result is ${result}`);\n    console.timeEnd(\"doIt\");\n}\n\ndoIt();\n```\n\n### \n.then(..).catch(..)try catch\n```\nconst start = async function () {\n    try {\n        console.log('start');\n        await sleep(3000); // \n        \n        // \n        console.log('end');\n    } catch (err) {\n        console.log(err); //  `error`\n    }\n};\n```\n\n\n","slug":"async","published":1,"updated":"2018-12-28T14:06:13.803Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41s000she6j0n1f4ly2","content":"<h3 id=\"asyncawait\"><a href=\"#asyncawait\" class=\"headerlink\" title=\"asyncawait\"></a>asyncawait</h3><a id=\"more\"></a>\n<p>async  await  async wait  async  function  await </p>\n<h3 id=\"async\"><a href=\"#async\" class=\"headerlink\" title=\"async\"></a>async</h3><p>1.asyncasync  async <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async function test() &#123;</span><br><span class=\"line\">    return &quot;hello world&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2.asyncasync <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log(test())</span><br><span class=\"line\">//Promisea</span><br><span class=\"line\"></span><br><span class=\"line\">Promise</span><br><span class=\"line\">__proto__: Promise</span><br><span class=\"line\">[[PromiseStatus]]: &quot;resolved&quot;</span><br><span class=\"line\">[[PromiseValue]]: &quot;hell&quot;</span><br></pre></td></tr></table></figure></p>\n<p>3.async  Promise async Lambda Promise  return async  Promise.resolve()  Promise </p>\n<h3 id=\"await\"><a href=\"#await\" class=\"headerlink\" title=\"await\"></a>await</h3><p>1. await  async await  Promise </p>\n<p>2.asyncPromiseawaitasyncawaitasync</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function test1() &#123;</span><br><span class=\"line\">    reuturn &quot;test1&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function test2() &#123;</span><br><span class=\"line\">    reuturn &quot;test2&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">async function test() &#123;</span><br><span class=\"line\">    const v1 = await test1();</span><br><span class=\"line\">    const v2 = await test2();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test()</span><br></pre></td></tr></table></figure>\n<p>3.async  Promise </p>\n<h3 id=\"async-await-\"><a href=\"#async-await-\" class=\"headerlink\" title=\"async/await \"></a>async/await </h3><p>1.asyncPromiseawaitPromiseresolve</p>\n<p>2.async/await  then  Promise  async/await  Promise  then <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> *  n</span><br><span class=\"line\"> *  n + 200</span><br><span class=\"line\"> */</span><br><span class=\"line\">function takeLongTime(n) &#123;</span><br><span class=\"line\">    return new Promise(resolve =&gt; &#123;</span><br><span class=\"line\">        setTimeout(() =&gt; resolve(n + 200), n);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function step1(n) &#123;</span><br><span class=\"line\">    console.log(`step1 with $&#123;n&#125;`);</span><br><span class=\"line\">    return takeLongTime(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function step2(n) &#123;</span><br><span class=\"line\">    console.log(`step2 with $&#123;n&#125;`);</span><br><span class=\"line\">    return takeLongTime(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function step3(n) &#123;</span><br><span class=\"line\">    console.log(`step3 with $&#123;n&#125;`);</span><br><span class=\"line\">    return takeLongTime(n);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> Promise <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function doIt() &#123;</span><br><span class=\"line\">    console.time(&quot;doIt&quot;);</span><br><span class=\"line\">    const time1 = 300;</span><br><span class=\"line\">    step1(time1)</span><br><span class=\"line\">        .then(time2 =&gt; step2(time2))</span><br><span class=\"line\">        .then(time3 =&gt; step3(time3))</span><br><span class=\"line\">        .then(result =&gt; &#123;</span><br><span class=\"line\">            console.log(`result is $&#123;result&#125;`);</span><br><span class=\"line\">            console.timeEnd(&quot;doIt&quot;);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">doIt();</span><br></pre></td></tr></table></figure></p>\n<p> async/await <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async function doIt() &#123;</span><br><span class=\"line\">    console.time(&quot;doIt&quot;);</span><br><span class=\"line\">    const time1 = 300;</span><br><span class=\"line\">    const time2 = await step1(time1);</span><br><span class=\"line\">    const time3 = await step2(time2);</span><br><span class=\"line\">    const result = await step3(time3);</span><br><span class=\"line\">    console.log(`result is $&#123;result&#125;`);</span><br><span class=\"line\">    console.timeEnd(&quot;doIt&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">doIt();</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>.then(..).catch(..)try catch<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const start = async function () &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        console.log(&apos;start&apos;);</span><br><span class=\"line\">        await sleep(3000); // </span><br><span class=\"line\">        </span><br><span class=\"line\">        // </span><br><span class=\"line\">        console.log(&apos;end&apos;);</span><br><span class=\"line\">    &#125; catch (err) &#123;</span><br><span class=\"line\">        console.log(err); //  `error`</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"asyncawait\"><a href=\"#asyncawait\" class=\"headerlink\" title=\"asyncawait\"></a>asyncawait</h3>","more":"<p>async  await  async wait  async  function  await </p>\n<h3 id=\"async\"><a href=\"#async\" class=\"headerlink\" title=\"async\"></a>async</h3><p>1.asyncasync  async <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async function test() &#123;</span><br><span class=\"line\">    return &quot;hello world&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2.asyncasync <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log(test())</span><br><span class=\"line\">//Promisea</span><br><span class=\"line\"></span><br><span class=\"line\">Promise</span><br><span class=\"line\">__proto__: Promise</span><br><span class=\"line\">[[PromiseStatus]]: &quot;resolved&quot;</span><br><span class=\"line\">[[PromiseValue]]: &quot;hell&quot;</span><br></pre></td></tr></table></figure></p>\n<p>3.async  Promise async Lambda Promise  return async  Promise.resolve()  Promise </p>\n<h3 id=\"await\"><a href=\"#await\" class=\"headerlink\" title=\"await\"></a>await</h3><p>1. await  async await  Promise </p>\n<p>2.asyncPromiseawaitasyncawaitasync</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function test1() &#123;</span><br><span class=\"line\">    reuturn &quot;test1&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function test2() &#123;</span><br><span class=\"line\">    reuturn &quot;test2&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">async function test() &#123;</span><br><span class=\"line\">    const v1 = await test1();</span><br><span class=\"line\">    const v2 = await test2();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test()</span><br></pre></td></tr></table></figure>\n<p>3.async  Promise </p>\n<h3 id=\"async-await-\"><a href=\"#async-await-\" class=\"headerlink\" title=\"async/await \"></a>async/await </h3><p>1.asyncPromiseawaitPromiseresolve</p>\n<p>2.async/await  then  Promise  async/await  Promise  then <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> *  n</span><br><span class=\"line\"> *  n + 200</span><br><span class=\"line\"> */</span><br><span class=\"line\">function takeLongTime(n) &#123;</span><br><span class=\"line\">    return new Promise(resolve =&gt; &#123;</span><br><span class=\"line\">        setTimeout(() =&gt; resolve(n + 200), n);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function step1(n) &#123;</span><br><span class=\"line\">    console.log(`step1 with $&#123;n&#125;`);</span><br><span class=\"line\">    return takeLongTime(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function step2(n) &#123;</span><br><span class=\"line\">    console.log(`step2 with $&#123;n&#125;`);</span><br><span class=\"line\">    return takeLongTime(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function step3(n) &#123;</span><br><span class=\"line\">    console.log(`step3 with $&#123;n&#125;`);</span><br><span class=\"line\">    return takeLongTime(n);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> Promise <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function doIt() &#123;</span><br><span class=\"line\">    console.time(&quot;doIt&quot;);</span><br><span class=\"line\">    const time1 = 300;</span><br><span class=\"line\">    step1(time1)</span><br><span class=\"line\">        .then(time2 =&gt; step2(time2))</span><br><span class=\"line\">        .then(time3 =&gt; step3(time3))</span><br><span class=\"line\">        .then(result =&gt; &#123;</span><br><span class=\"line\">            console.log(`result is $&#123;result&#125;`);</span><br><span class=\"line\">            console.timeEnd(&quot;doIt&quot;);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">doIt();</span><br></pre></td></tr></table></figure></p>\n<p> async/await <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async function doIt() &#123;</span><br><span class=\"line\">    console.time(&quot;doIt&quot;);</span><br><span class=\"line\">    const time1 = 300;</span><br><span class=\"line\">    const time2 = await step1(time1);</span><br><span class=\"line\">    const time3 = await step2(time2);</span><br><span class=\"line\">    const result = await step3(time3);</span><br><span class=\"line\">    console.log(`result is $&#123;result&#125;`);</span><br><span class=\"line\">    console.timeEnd(&quot;doIt&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">doIt();</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>.then(..).catch(..)try catch<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const start = async function () &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        console.log(&apos;start&apos;);</span><br><span class=\"line\">        await sleep(3000); // </span><br><span class=\"line\">        </span><br><span class=\"line\">        // </span><br><span class=\"line\">        console.log(&apos;end&apos;);</span><br><span class=\"line\">    &#125; catch (err) &#123;</span><br><span class=\"line\">        console.log(err); //  `error`</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>"},{"title":"axios","date":"2019-04-17T12:32:49.000Z","_content":"\n### axios\n<!-- more -->\n\n```\nrequest.js\n\nimport _axios from 'axios';\nimport qs from  'qs';\n\n// axios \nconst axios = _axios.create({\n    //,baseURLnull,localhost,\n    baseURL:process.env.NODE_ENV=='development'?null:'http://xxx.xx.xx:8080/',\n    transformRequest:[function(data){       \n        data = qs.stringify(data);\n        return data\n    }],\n    headers:{\n        'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    transformResponse: [function (data) {\n        //  data \n        let _data = JSON.parse(data);\n        return _data;\n    }],\n    withCredentials:true,  // \n    timeout: 5000,  //  `timeout` \n})\naxios.defaults.withCredentials = true\n\n// \naxios.interceptors.request.use(\n    config => {  \n        //\n        // if (token) {\n        //     config.headers['X-Token'] = getToken()\n        // }\n        return config\n    },\n    error => {\n        // \n        console.log('err' + error) // for debug\n        return Promise.reject(error)\n    }\n)\n\n// \naxios.interceptors.response.use(\n  response => {\n    //\n    const res = response.data\n    //20000\n    if (res.code !== 20000) {\n      return Promise.reject(res.message || 'error')\n    } else {\n      return response\n    }\n  },\n  error => {\n    //\n    console.log('err' + error) // for debug\n    return Promise.reject(error)\n  }\n)\nexport default axios;\n```\n\n```\n//api.js\n\nimport http from request.js\n\n//get\n\nexport const getGet = ({id}) => {\n    let params = { ID }\n    return http.get('url',params)\n}\n\n//post\nexport const getPost = ({id}) => {\n    let data = { ID }\n    return http.post('url',data)\n}\n```\n","source":"_posts/axios.md","raw":"---\ntitle: axios\ndate: 2019-04-17 20:32:49\ntags: [\"vue\"]\ncategories: vue\n---\n\n### axios\n<!-- more -->\n\n```\nrequest.js\n\nimport _axios from 'axios';\nimport qs from  'qs';\n\n// axios \nconst axios = _axios.create({\n    //,baseURLnull,localhost,\n    baseURL:process.env.NODE_ENV=='development'?null:'http://xxx.xx.xx:8080/',\n    transformRequest:[function(data){       \n        data = qs.stringify(data);\n        return data\n    }],\n    headers:{\n        'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    transformResponse: [function (data) {\n        //  data \n        let _data = JSON.parse(data);\n        return _data;\n    }],\n    withCredentials:true,  // \n    timeout: 5000,  //  `timeout` \n})\naxios.defaults.withCredentials = true\n\n// \naxios.interceptors.request.use(\n    config => {  \n        //\n        // if (token) {\n        //     config.headers['X-Token'] = getToken()\n        // }\n        return config\n    },\n    error => {\n        // \n        console.log('err' + error) // for debug\n        return Promise.reject(error)\n    }\n)\n\n// \naxios.interceptors.response.use(\n  response => {\n    //\n    const res = response.data\n    //20000\n    if (res.code !== 20000) {\n      return Promise.reject(res.message || 'error')\n    } else {\n      return response\n    }\n  },\n  error => {\n    //\n    console.log('err' + error) // for debug\n    return Promise.reject(error)\n  }\n)\nexport default axios;\n```\n\n```\n//api.js\n\nimport http from request.js\n\n//get\n\nexport const getGet = ({id}) => {\n    let params = { ID }\n    return http.get('url',params)\n}\n\n//post\nexport const getPost = ({id}) => {\n    let data = { ID }\n    return http.post('url',data)\n}\n```\n","slug":"axios","published":1,"updated":"2019-04-17T14:36:45.709Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41v000xhe6j38vwo1vz","content":"<h3 id=\"axios\"><a href=\"#axios\" class=\"headerlink\" title=\"axios\"></a>axios</h3><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request.js</span><br><span class=\"line\"></span><br><span class=\"line\">import _axios from &apos;axios&apos;;</span><br><span class=\"line\">import qs from  &apos;qs&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">// axios </span><br><span class=\"line\">const axios = _axios.create(&#123;</span><br><span class=\"line\">    //,baseURLnull,localhost,</span><br><span class=\"line\">    baseURL:process.env.NODE_ENV==&apos;development&apos;?null:&apos;http://xxx.xx.xx:8080/&apos;,</span><br><span class=\"line\">    transformRequest:[function(data)&#123;       </span><br><span class=\"line\">        data = qs.stringify(data);</span><br><span class=\"line\">        return data</span><br><span class=\"line\">    &#125;],</span><br><span class=\"line\">    headers:&#123;</span><br><span class=\"line\">        &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    transformResponse: [function (data) &#123;</span><br><span class=\"line\">        //  data </span><br><span class=\"line\">        let _data = JSON.parse(data);</span><br><span class=\"line\">        return _data;</span><br><span class=\"line\">    &#125;],</span><br><span class=\"line\">    withCredentials:true,  // </span><br><span class=\"line\">    timeout: 5000,  //  `timeout` </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">axios.defaults.withCredentials = true</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">axios.interceptors.request.use(</span><br><span class=\"line\">    config =&gt; &#123;  </span><br><span class=\"line\">        //</span><br><span class=\"line\">        // if (token) &#123;</span><br><span class=\"line\">        //     config.headers[&apos;X-Token&apos;] = getToken()</span><br><span class=\"line\">        // &#125;</span><br><span class=\"line\">        return config</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    error =&gt; &#123;</span><br><span class=\"line\">        // </span><br><span class=\"line\">        console.log(&apos;err&apos; + error) // for debug</span><br><span class=\"line\">        return Promise.reject(error)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">axios.interceptors.response.use(</span><br><span class=\"line\">  response =&gt; &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    const res = response.data</span><br><span class=\"line\">    //20000</span><br><span class=\"line\">    if (res.code !== 20000) &#123;</span><br><span class=\"line\">      return Promise.reject(res.message || &apos;error&apos;)</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      return response</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  error =&gt; &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    console.log(&apos;err&apos; + error) // for debug</span><br><span class=\"line\">    return Promise.reject(error)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">export default axios;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//api.js</span><br><span class=\"line\"></span><br><span class=\"line\">import http from request.js</span><br><span class=\"line\"></span><br><span class=\"line\">//get</span><br><span class=\"line\"></span><br><span class=\"line\">export const getGet = (&#123;id&#125;) =&gt; &#123;</span><br><span class=\"line\">    let params = &#123; ID &#125;</span><br><span class=\"line\">    return http.get(&apos;url&apos;,params)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//post</span><br><span class=\"line\">export const getPost = (&#123;id&#125;) =&gt; &#123;</span><br><span class=\"line\">    let data = &#123; ID &#125;</span><br><span class=\"line\">    return http.post(&apos;url&apos;,data)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"axios\"><a href=\"#axios\" class=\"headerlink\" title=\"axios\"></a>axios</h3>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">request.js</span><br><span class=\"line\"></span><br><span class=\"line\">import _axios from &apos;axios&apos;;</span><br><span class=\"line\">import qs from  &apos;qs&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">// axios </span><br><span class=\"line\">const axios = _axios.create(&#123;</span><br><span class=\"line\">    //,baseURLnull,localhost,</span><br><span class=\"line\">    baseURL:process.env.NODE_ENV==&apos;development&apos;?null:&apos;http://xxx.xx.xx:8080/&apos;,</span><br><span class=\"line\">    transformRequest:[function(data)&#123;       </span><br><span class=\"line\">        data = qs.stringify(data);</span><br><span class=\"line\">        return data</span><br><span class=\"line\">    &#125;],</span><br><span class=\"line\">    headers:&#123;</span><br><span class=\"line\">        &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    transformResponse: [function (data) &#123;</span><br><span class=\"line\">        //  data </span><br><span class=\"line\">        let _data = JSON.parse(data);</span><br><span class=\"line\">        return _data;</span><br><span class=\"line\">    &#125;],</span><br><span class=\"line\">    withCredentials:true,  // </span><br><span class=\"line\">    timeout: 5000,  //  `timeout` </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">axios.defaults.withCredentials = true</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">axios.interceptors.request.use(</span><br><span class=\"line\">    config =&gt; &#123;  </span><br><span class=\"line\">        //</span><br><span class=\"line\">        // if (token) &#123;</span><br><span class=\"line\">        //     config.headers[&apos;X-Token&apos;] = getToken()</span><br><span class=\"line\">        // &#125;</span><br><span class=\"line\">        return config</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    error =&gt; &#123;</span><br><span class=\"line\">        // </span><br><span class=\"line\">        console.log(&apos;err&apos; + error) // for debug</span><br><span class=\"line\">        return Promise.reject(error)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">axios.interceptors.response.use(</span><br><span class=\"line\">  response =&gt; &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    const res = response.data</span><br><span class=\"line\">    //20000</span><br><span class=\"line\">    if (res.code !== 20000) &#123;</span><br><span class=\"line\">      return Promise.reject(res.message || &apos;error&apos;)</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      return response</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  error =&gt; &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    console.log(&apos;err&apos; + error) // for debug</span><br><span class=\"line\">    return Promise.reject(error)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\">export default axios;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//api.js</span><br><span class=\"line\"></span><br><span class=\"line\">import http from request.js</span><br><span class=\"line\"></span><br><span class=\"line\">//get</span><br><span class=\"line\"></span><br><span class=\"line\">export const getGet = (&#123;id&#125;) =&gt; &#123;</span><br><span class=\"line\">    let params = &#123; ID &#125;</span><br><span class=\"line\">    return http.get(&apos;url&apos;,params)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//post</span><br><span class=\"line\">export const getPost = (&#123;id&#125;) =&gt; &#123;</span><br><span class=\"line\">    let data = &#123; ID &#125;</span><br><span class=\"line\">    return http.post(&apos;url&apos;,data)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2018-09-28T13:08:24.000Z","_content":"\n### ?\n<!--more-->\n> \n\n    \n\n    \n\n    \n\n    \n    \n    \n\n> \n\n    \n\n    \n\n    \n\n    \n","source":"_posts/blog-start.md","raw":"---\ntitle: \ndate: 2018-09-28 21:08:24\ntags: ['']\ncategories: \n---\n\n### ?\n<!--more-->\n> \n\n    \n\n    \n\n    \n\n    \n    \n    \n\n> \n\n    \n\n    \n\n    \n\n    \n","slug":"blog-start","published":1,"updated":"2018-09-28T13:36:54.089Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41w0010he6jjd9eatqt","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"?\"></a>?</h3><a id=\"more\"></a>\n<blockquote>\n<p></p>\n</blockquote>\n<pre><code>\n\n\n\n\n\n\n\n\n</code></pre><blockquote>\n<p></p>\n</blockquote>\n<pre><code>\n\n\n\n\n\n\n</code></pre>","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"?\"></a>?</h3>","more":"<blockquote>\n<p></p>\n</blockquote>\n<pre><code>\n\n\n\n\n\n\n\n\n</code></pre><blockquote>\n<p></p>\n</blockquote>\n<pre><code>\n\n\n\n\n\n\n</code></pre>"},{"title":"elementel-upload","date":"2019-04-09T14:12:12.000Z","_content":"\n### elementel-upload\n<!-- more -->\n### el-upload\n```\n<el-upload   \n    action=\"\"                                             \n    list-type=\"picture-card\"\n    :on-change=\"uploadChange\"\n    :file-list=\"fileList\"\n    :limit=\"5\"                          \n    :auto-upload=\"false\">                           \n    <i class=\"el-icon-plus\"></i>\n</el-upload>\n```\nlist-type:\non-change:\nfile-list:\nlimit: \nauto-upload:el-upload false\n\n### base64\n```\nuploadChange(file,fileList) {\n    var reader = new FileReader();\n    reader.readAsDataURL(file.raw);\n    reader.onload = (e) =>{ \n        //reader.resultbase64\n        let imgStr = reader.result\n    }  \n}\n```\n","source":"_posts/ele-upload.md","raw":"---\ntitle: elementel-upload\ndate: 2019-04-09 22:12:12\ntags: ['JavaScript']\ncategories: JavaScript\n---\n\n### elementel-upload\n<!-- more -->\n### el-upload\n```\n<el-upload   \n    action=\"\"                                             \n    list-type=\"picture-card\"\n    :on-change=\"uploadChange\"\n    :file-list=\"fileList\"\n    :limit=\"5\"                          \n    :auto-upload=\"false\">                           \n    <i class=\"el-icon-plus\"></i>\n</el-upload>\n```\nlist-type:\non-change:\nfile-list:\nlimit: \nauto-upload:el-upload false\n\n### base64\n```\nuploadChange(file,fileList) {\n    var reader = new FileReader();\n    reader.readAsDataURL(file.raw);\n    reader.onload = (e) =>{ \n        //reader.resultbase64\n        let imgStr = reader.result\n    }  \n}\n```\n","slug":"ele-upload","published":1,"updated":"2019-04-09T14:19:39.298Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41x0015he6jswf4vynl","content":"<h3 id=\"elementel-upload\"><a href=\"#elementel-upload\" class=\"headerlink\" title=\"elementel-upload\"></a>elementel-upload</h3><a id=\"more\"></a>\n<h3 id=\"el-upload\"><a href=\"#el-upload\" class=\"headerlink\" title=\"el-upload\"></a>el-upload</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;el-upload   </span><br><span class=\"line\">    action=&quot;&quot;                                             </span><br><span class=\"line\">    list-type=&quot;picture-card&quot;</span><br><span class=\"line\">    :on-change=&quot;uploadChange&quot;</span><br><span class=\"line\">    :file-list=&quot;fileList&quot;</span><br><span class=\"line\">    :limit=&quot;5&quot;                          </span><br><span class=\"line\">    :auto-upload=&quot;false&quot;&gt;                           </span><br><span class=\"line\">    &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt;</span><br><span class=\"line\">&lt;/el-upload&gt;</span><br></pre></td></tr></table></figure>\n<p>list-type:<br>on-change:<br>file-list:<br>limit: <br>auto-upload:el-upload false</p>\n<h3 id=\"base64\"><a href=\"#base64\" class=\"headerlink\" title=\"base64\"></a>base64</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uploadChange(file,fileList) &#123;</span><br><span class=\"line\">    var reader = new FileReader();</span><br><span class=\"line\">    reader.readAsDataURL(file.raw);</span><br><span class=\"line\">    reader.onload = (e) =&gt;&#123; </span><br><span class=\"line\">        //reader.resultbase64</span><br><span class=\"line\">        let imgStr = reader.result</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"elementel-upload\"><a href=\"#elementel-upload\" class=\"headerlink\" title=\"elementel-upload\"></a>elementel-upload</h3>","more":"<h3 id=\"el-upload\"><a href=\"#el-upload\" class=\"headerlink\" title=\"el-upload\"></a>el-upload</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;el-upload   </span><br><span class=\"line\">    action=&quot;&quot;                                             </span><br><span class=\"line\">    list-type=&quot;picture-card&quot;</span><br><span class=\"line\">    :on-change=&quot;uploadChange&quot;</span><br><span class=\"line\">    :file-list=&quot;fileList&quot;</span><br><span class=\"line\">    :limit=&quot;5&quot;                          </span><br><span class=\"line\">    :auto-upload=&quot;false&quot;&gt;                           </span><br><span class=\"line\">    &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt;</span><br><span class=\"line\">&lt;/el-upload&gt;</span><br></pre></td></tr></table></figure>\n<p>list-type:<br>on-change:<br>file-list:<br>limit: <br>auto-upload:el-upload false</p>\n<h3 id=\"base64\"><a href=\"#base64\" class=\"headerlink\" title=\"base64\"></a>base64</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uploadChange(file,fileList) &#123;</span><br><span class=\"line\">    var reader = new FileReader();</span><br><span class=\"line\">    reader.readAsDataURL(file.raw);</span><br><span class=\"line\">    reader.onload = (e) =&gt;&#123; </span><br><span class=\"line\">        //reader.resultbase64</span><br><span class=\"line\">        let imgStr = reader.result</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2018-09-30T13:45:40.000Z","_content":"\n### hexo + github \n<!-- more -->\n\n### \n\n1.[node](https://nodejs.org/zh-cn/)nodenode -v\n\n2.[git](https://git-scm.com/)[](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)\n\n3.[github](https://github.com/)\n\n(MacHomebrewbrew install gitbrew install node)\n\n### hexo\n\n``` bash\nnpm install -g hexo\n```\n\n### \ncd(blog)\n``` bash\nhexo init\n```\nblognode_modules,\n``` bash\nhexo install\n```\nhexohttp://localhost:4000hexo\n```bash\nhexo s\n```\n\n### github\n\n1.githubssh keygithub\n\n2.github,+(New repository),.github.io(github)\n\n3.Create repository\n\n4.cdblog_config.yml\n```bash\ndeploy:\n    type: git\n    repository: https://github.com/xxx/xxx.github.io.git\n    branch: master\n```\nrepositoryxxx,xxx.github.io\n\n### \ncdblog\n```bash\nhexo new \"postName\"\n```\npostName/blog/source/_posts\n\ncdblog\n```bash\nhexo g\n```\n```bash\nhexo d\n```\n\n### theme\nhexo,githubClone or download\ncdblog\n```bash\ngit clone https://github.com/iissnan/hexo-theme-next themes/next\n```\ncdblog()\n```bash\nhexo clean\n```\n```bash\nhexo g\n```\n```bash\nhexo d\n```\nthemeblog/_config.ymlblog/themes/next/_config.yml\n\n### \n1.~~\n\n2.\n\n3.blog/sourceCNAMEwww.xxx.com\n\n4.4\n```bash\n\nA\n:www\n\n192.30.252.154\n```\n```\n\nA\n:@\n\n192.30.252.154\n```\n```\n\nA\n:www\n\n192.30.252.153\n```\n```\n\nA\n:@\n\n192.30.252.153\n```\n\n### \nhexo + github4\n\n\n\n\n\n\n\n\n\n    \n","source":"_posts/blog-construct.md","raw":"---\ntitle: \ndate: 2018-09-30 21:45:40\ntags: ['github']\ncategories: \n---\n\n### hexo + github \n<!-- more -->\n\n### \n\n1.[node](https://nodejs.org/zh-cn/)nodenode -v\n\n2.[git](https://git-scm.com/)[](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)\n\n3.[github](https://github.com/)\n\n(MacHomebrewbrew install gitbrew install node)\n\n### hexo\n\n``` bash\nnpm install -g hexo\n```\n\n### \ncd(blog)\n``` bash\nhexo init\n```\nblognode_modules,\n``` bash\nhexo install\n```\nhexohttp://localhost:4000hexo\n```bash\nhexo s\n```\n\n### github\n\n1.githubssh keygithub\n\n2.github,+(New repository),.github.io(github)\n\n3.Create repository\n\n4.cdblog_config.yml\n```bash\ndeploy:\n    type: git\n    repository: https://github.com/xxx/xxx.github.io.git\n    branch: master\n```\nrepositoryxxx,xxx.github.io\n\n### \ncdblog\n```bash\nhexo new \"postName\"\n```\npostName/blog/source/_posts\n\ncdblog\n```bash\nhexo g\n```\n```bash\nhexo d\n```\n\n### theme\nhexo,githubClone or download\ncdblog\n```bash\ngit clone https://github.com/iissnan/hexo-theme-next themes/next\n```\ncdblog()\n```bash\nhexo clean\n```\n```bash\nhexo g\n```\n```bash\nhexo d\n```\nthemeblog/_config.ymlblog/themes/next/_config.yml\n\n### \n1.~~\n\n2.\n\n3.blog/sourceCNAMEwww.xxx.com\n\n4.4\n```bash\n\nA\n:www\n\n192.30.252.154\n```\n```\n\nA\n:@\n\n192.30.252.154\n```\n```\n\nA\n:www\n\n192.30.252.153\n```\n```\n\nA\n:@\n\n192.30.252.153\n```\n\n### \nhexo + github4\n\n\n\n\n\n\n\n\n\n    \n","slug":"blog-construct","published":1,"updated":"2018-09-30T14:53:31.805Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq41z0018he6jcixjga7m","content":"<h3 id=\"hexo-github-\"><a href=\"#hexo-github-\" class=\"headerlink\" title=\"hexo + github \"></a>hexo + github </h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.<a href=\"https://nodejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">node</a>nodenode -v</p>\n<p>2.<a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener\">git</a><a href=\"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>3.<a href=\"https://github.com/\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<p>(MacHomebrewbrew install gitbrew install node)</p>\n<h3 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>cd(blog)<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init</span><br></pre></td></tr></table></figure></p>\n<p>blognode_modules,<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo install</span><br></pre></td></tr></table></figure></p>\n<p>hexo<a href=\"http://localhost:4000hexo\" target=\"_blank\" rel=\"noopener\">http://localhost:4000hexo</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h3><p>1.githubssh keygithub</p>\n<p>2.github,+(New repository),.github.io(github)</p>\n<p>3.Create repository</p>\n<p>4.cdblog_config.yml<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">    <span class=\"built_in\">type</span>: git</span><br><span class=\"line\">    repository: https://github.com/xxx/xxx.github.io.git</span><br><span class=\"line\">    branch: master</span><br></pre></td></tr></table></figure></p>\n<p>repositoryxxx,xxx.github.io</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>cdblog<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"postName\"</span></span><br></pre></td></tr></table></figure></p>\n<p>postName/blog/source/_posts</p>\n<p>cdblog<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n<h3 id=\"theme\"><a href=\"#theme\" class=\"headerlink\" title=\"theme\"></a>theme</h3><p>hexo,githubClone or download<br>cdblog<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></p>\n<p>cdblog()<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n<p>themeblog/_config.ymlblog/themes/next/_config.yml</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.~~</p>\n<p>2.</p>\n<p>3.blog/sourceCNAME<a href=\"http://www.xxx.com\" target=\"_blank\" rel=\"noopener\">www.xxx.com</a></p>\n<p>4.4<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:www</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.154</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:@</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.154</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:www</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.153</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:@</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.153</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>hexo + github4<br></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"hexo-github-\"><a href=\"#hexo-github-\" class=\"headerlink\" title=\"hexo + github \"></a>hexo + github </h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.<a href=\"https://nodejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">node</a>nodenode -v</p>\n<p>2.<a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener\">git</a><a href=\"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>3.<a href=\"https://github.com/\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<p>(MacHomebrewbrew install gitbrew install node)</p>\n<h3 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>cd(blog)<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init</span><br></pre></td></tr></table></figure></p>\n<p>blognode_modules,<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo install</span><br></pre></td></tr></table></figure></p>\n<p>hexo<a href=\"http://localhost:4000hexo\" target=\"_blank\" rel=\"noopener\">http://localhost:4000hexo</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h3><p>1.githubssh keygithub</p>\n<p>2.github,+(New repository),.github.io(github)</p>\n<p>3.Create repository</p>\n<p>4.cdblog_config.yml<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">    <span class=\"built_in\">type</span>: git</span><br><span class=\"line\">    repository: https://github.com/xxx/xxx.github.io.git</span><br><span class=\"line\">    branch: master</span><br></pre></td></tr></table></figure></p>\n<p>repositoryxxx,xxx.github.io</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>cdblog<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"postName\"</span></span><br></pre></td></tr></table></figure></p>\n<p>postName/blog/source/_posts</p>\n<p>cdblog<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n<h3 id=\"theme\"><a href=\"#theme\" class=\"headerlink\" title=\"theme\"></a>theme</h3><p>hexo,githubClone or download<br>cdblog<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></p>\n<p>cdblog()<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n<p>themeblog/_config.ymlblog/themes/next/_config.yml</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.~~</p>\n<p>2.</p>\n<p>3.blog/sourceCNAME<a href=\"http://www.xxx.com\" target=\"_blank\" rel=\"noopener\">www.xxx.com</a></p>\n<p>4.4<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:www</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.154</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:@</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.154</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:www</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.153</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">A</span><br><span class=\"line\">:@</span><br><span class=\"line\"></span><br><span class=\"line\">192.30.252.153</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>hexo + github4<br></p>"},{"title":"express","date":"2019-06-13T10:18:51.000Z","_content":"\n### express\n<!-- more -->\n\n### express\n1. npm install express-generator -g\n2. express express-test\n3. npm install\n4. npm start\n\n### \napp.js\n```\nvar express = require('express');\nvar router = express.Router();\n\nrouter.get('/list', function(req, res, next) {\n  //res.jsonjsonjson\n  res.json({\n    errno: 0,\n    data: [1,2,3]\n  })\n});\nmodule.exports = router;\n```\n```\nvar express = require('express');\nvar router = express.Router();\n\nrouter.post('/login', function(req, res, next) {\n  const { username,password } = req.body\n  res.json({\n    errno: 0,\n    data: {\n      username,\n      password\n    }\n  })\n});\n\nmodule.exports = router;\n```\n\n### sessionredis\n1. redis\n2. connect-redissession\n3. session\n\n```\nconst expressSession = require('express-session');\nconst RedisStore = require('connect-redis')(expressSession)\n\nconst redisClient = require('./db/redis')\nconst sessionStore = new RedisStore({\n  client: redisClient\n})\n\napp.use(expressSession({\n  name: 'session-name', // cookienameconnect.sid\n  secret: 'my_session_secret', //  128 \n  store: sessionStore,\n  cookie: {\n    path: '/', //\n    resave: true,\n    saveUninitialized: false,\n    httpOnly: true, //,cookie\n    maxAge: 24*60*60*1000 //24\n  }\n}))\n```\n\n### \n1. (middleware),request object(req),response object(res)web-\n2. app.use()\n\n```\nfunction middleware(req,res,next){\n  // \n\n  // \n  next();\n}\n```\nnext()\n\n### \n1. app.use\n2. httppathmethod\n3. nextnext\n\n```\nlink-express.js\n\nconst http = require('http')\nconst slice = Array.prototype.slice\n\n/**  \n * LikeExpressclass,\n * usegetpostregister()\n * register()pathstackinfostack\n * listen()servercallback\n * callbackres.jsonJSON\n * url,methodmatch\n * matchroutes.allmethodstack\n * next\n * \n*/\n\nclass LikeExpress {\n  constructor() {\n    //\n    this.routes = {\n      all: [], //app.use(...)\n      get: [],\n      post: []\n    }\n  }\n\n  register(path) {\n    const info = {}\n    \n    /**\n     * \n     * \n     * , \n     */ \n    if (typeof path === 'string') {\n      info.path = path\n      //stack\n      info.stack = slice.call(arguments,1)\n    }else {\n      info.path = '/'\n      //stack\n      info.stack = slice.call(arguments,0)\n    }\n    return info\n  }\n\n  //\n  use() {\n    //applyregister(),register()info\n    const info = this.register.apply(this,arguments)\n    this.routes.all.push(info)\n  }\n\n  get() {\n    const info = this.register.apply(this,arguments)\n    this.routes.get.push(info)\n  }\n\n  post() {\n    const info = this.register.apply(this,arguments)\n    this.routes.post.push(info)\n  }\n\n  match(method,url) {\n    let stack = []\n    if (url === '/favicon.ico') {\n      return stack\n    }\n\n    //routes\n    let curRoutes = []\n    curRoutes = curRoutes.concat(this.routes.all)\n    curRoutes = curRoutes.concat(this.routes[method])\n\n    curRoutes.forEach(routeInfo => {\n      if (url.indexOf(routeInfo.path === 0)) {\n        stack = stack.concat(routeInfo.stack)\n      }\n    })\n    return stack\n  }\n\n  //next\n  handle(req,res,stack) {\n    const next = () => {\n      //\n      const middleware = stack.shift()\n      if (middleware) {\n        //\n        middleware(req,res,next)\n      }\n    }\n  }\n\n  callback() {\n    return (req,res) => {\n      res.json = (data) => {\n        res.setHeader('Content-type','application/json')\n        res.end(JSON.stringify(data))\n      }\n      const url = req.url\n      const method = req.method.toLowerCase()\n\n      const resultList = this.match(method,url)\n      this.handle(req,res,resultList)\n    }\n  }\n\n  listen(...args) {\n    const server = http.createServer(this.callback())\n    server.listen(...args)\n  }\n}\n\n/**\n * \n */\nmodule.exports = () => {\n  return new LikeExpress()\n}\n```\n\n### -morgan\nlogsaccess.log\n\n\n```\nconst ENV = process.env.NODE_ENV\nif (ENV !== 'production') {\n  app.use(logger('dev'))\n} else {\n  //\n  const logFileName = path.join(__dirname,'logs','access.log')\n  const writeStream = fs.createWriteStream(logFileName,{\n    flags: 'a'\n  })\n  app.use(logger('combined',{\n    stream: writeStream\n  }))\n}\n```","source":"_posts/express.md","raw":"---\ntitle: express\ndate: 2019-06-13 18:18:51\ntags: ['Node.js']\ncategories: Node.js\n---\n\n### express\n<!-- more -->\n\n### express\n1. npm install express-generator -g\n2. express express-test\n3. npm install\n4. npm start\n\n### \napp.js\n```\nvar express = require('express');\nvar router = express.Router();\n\nrouter.get('/list', function(req, res, next) {\n  //res.jsonjsonjson\n  res.json({\n    errno: 0,\n    data: [1,2,3]\n  })\n});\nmodule.exports = router;\n```\n```\nvar express = require('express');\nvar router = express.Router();\n\nrouter.post('/login', function(req, res, next) {\n  const { username,password } = req.body\n  res.json({\n    errno: 0,\n    data: {\n      username,\n      password\n    }\n  })\n});\n\nmodule.exports = router;\n```\n\n### sessionredis\n1. redis\n2. connect-redissession\n3. session\n\n```\nconst expressSession = require('express-session');\nconst RedisStore = require('connect-redis')(expressSession)\n\nconst redisClient = require('./db/redis')\nconst sessionStore = new RedisStore({\n  client: redisClient\n})\n\napp.use(expressSession({\n  name: 'session-name', // cookienameconnect.sid\n  secret: 'my_session_secret', //  128 \n  store: sessionStore,\n  cookie: {\n    path: '/', //\n    resave: true,\n    saveUninitialized: false,\n    httpOnly: true, //,cookie\n    maxAge: 24*60*60*1000 //24\n  }\n}))\n```\n\n### \n1. (middleware),request object(req),response object(res)web-\n2. app.use()\n\n```\nfunction middleware(req,res,next){\n  // \n\n  // \n  next();\n}\n```\nnext()\n\n### \n1. app.use\n2. httppathmethod\n3. nextnext\n\n```\nlink-express.js\n\nconst http = require('http')\nconst slice = Array.prototype.slice\n\n/**  \n * LikeExpressclass,\n * usegetpostregister()\n * register()pathstackinfostack\n * listen()servercallback\n * callbackres.jsonJSON\n * url,methodmatch\n * matchroutes.allmethodstack\n * next\n * \n*/\n\nclass LikeExpress {\n  constructor() {\n    //\n    this.routes = {\n      all: [], //app.use(...)\n      get: [],\n      post: []\n    }\n  }\n\n  register(path) {\n    const info = {}\n    \n    /**\n     * \n     * \n     * , \n     */ \n    if (typeof path === 'string') {\n      info.path = path\n      //stack\n      info.stack = slice.call(arguments,1)\n    }else {\n      info.path = '/'\n      //stack\n      info.stack = slice.call(arguments,0)\n    }\n    return info\n  }\n\n  //\n  use() {\n    //applyregister(),register()info\n    const info = this.register.apply(this,arguments)\n    this.routes.all.push(info)\n  }\n\n  get() {\n    const info = this.register.apply(this,arguments)\n    this.routes.get.push(info)\n  }\n\n  post() {\n    const info = this.register.apply(this,arguments)\n    this.routes.post.push(info)\n  }\n\n  match(method,url) {\n    let stack = []\n    if (url === '/favicon.ico') {\n      return stack\n    }\n\n    //routes\n    let curRoutes = []\n    curRoutes = curRoutes.concat(this.routes.all)\n    curRoutes = curRoutes.concat(this.routes[method])\n\n    curRoutes.forEach(routeInfo => {\n      if (url.indexOf(routeInfo.path === 0)) {\n        stack = stack.concat(routeInfo.stack)\n      }\n    })\n    return stack\n  }\n\n  //next\n  handle(req,res,stack) {\n    const next = () => {\n      //\n      const middleware = stack.shift()\n      if (middleware) {\n        //\n        middleware(req,res,next)\n      }\n    }\n  }\n\n  callback() {\n    return (req,res) => {\n      res.json = (data) => {\n        res.setHeader('Content-type','application/json')\n        res.end(JSON.stringify(data))\n      }\n      const url = req.url\n      const method = req.method.toLowerCase()\n\n      const resultList = this.match(method,url)\n      this.handle(req,res,resultList)\n    }\n  }\n\n  listen(...args) {\n    const server = http.createServer(this.callback())\n    server.listen(...args)\n  }\n}\n\n/**\n * \n */\nmodule.exports = () => {\n  return new LikeExpress()\n}\n```\n\n### -morgan\nlogsaccess.log\n\n\n```\nconst ENV = process.env.NODE_ENV\nif (ENV !== 'production') {\n  app.use(logger('dev'))\n} else {\n  //\n  const logFileName = path.join(__dirname,'logs','access.log')\n  const writeStream = fs.createWriteStream(logFileName,{\n    flags: 'a'\n  })\n  app.use(logger('combined',{\n    stream: writeStream\n  }))\n}\n```","slug":"express","published":1,"updated":"2019-06-13T10:21:30.413Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq421001dhe6jraawb6k1","content":"<h3 id=\"express\"><a href=\"#express\" class=\"headerlink\" title=\"express\"></a>express</h3><a id=\"more\"></a>\n<h3 id=\"express\"><a href=\"#express\" class=\"headerlink\" title=\"express\"></a>express</h3><ol>\n<li>npm install express-generator -g</li>\n<li>express express-test</li>\n<li>npm install</li>\n<li>npm start</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>app.js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var express = require(&apos;express&apos;);</span><br><span class=\"line\">var router = express.Router();</span><br><span class=\"line\"></span><br><span class=\"line\">router.get(&apos;/list&apos;, function(req, res, next) &#123;</span><br><span class=\"line\">  //res.jsonjsonjson</span><br><span class=\"line\">  res.json(&#123;</span><br><span class=\"line\">    errno: 0,</span><br><span class=\"line\">    data: [1,2,3]</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">module.exports = router;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var express = require(&apos;express&apos;);</span><br><span class=\"line\">var router = express.Router();</span><br><span class=\"line\"></span><br><span class=\"line\">router.post(&apos;/login&apos;, function(req, res, next) &#123;</span><br><span class=\"line\">  const &#123; username,password &#125; = req.body</span><br><span class=\"line\">  res.json(&#123;</span><br><span class=\"line\">    errno: 0,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      username,</span><br><span class=\"line\">      password</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = router;</span><br></pre></td></tr></table></figure>\n<h3 id=\"sessionredis\"><a href=\"#sessionredis\" class=\"headerlink\" title=\"sessionredis\"></a>sessionredis</h3><ol>\n<li>redis</li>\n<li>connect-redissession</li>\n<li>session</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const expressSession = require(&apos;express-session&apos;);</span><br><span class=\"line\">const RedisStore = require(&apos;connect-redis&apos;)(expressSession)</span><br><span class=\"line\"></span><br><span class=\"line\">const redisClient = require(&apos;./db/redis&apos;)</span><br><span class=\"line\">const sessionStore = new RedisStore(&#123;</span><br><span class=\"line\">  client: redisClient</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(expressSession(&#123;</span><br><span class=\"line\">  name: &apos;session-name&apos;, // cookienameconnect.sid</span><br><span class=\"line\">  secret: &apos;my_session_secret&apos;, //  128 </span><br><span class=\"line\">  store: sessionStore,</span><br><span class=\"line\">  cookie: &#123;</span><br><span class=\"line\">    path: &apos;/&apos;, //</span><br><span class=\"line\">    resave: true,</span><br><span class=\"line\">    saveUninitialized: false,</span><br><span class=\"line\">    httpOnly: true, //,cookie</span><br><span class=\"line\">    maxAge: 24*60*60*1000 //24</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>(middleware),request object(req),response object(res)web-</li>\n<li>app.use()</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function middleware(req,res,next)&#123;</span><br><span class=\"line\">  // </span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  next();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>next()</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>app.use</li>\n<li>httppathmethod</li>\n<li>nextnext</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">link-express.js</span><br><span class=\"line\"></span><br><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\">const slice = Array.prototype.slice</span><br><span class=\"line\"></span><br><span class=\"line\">/**  </span><br><span class=\"line\"> * LikeExpressclass,</span><br><span class=\"line\"> * usegetpostregister()</span><br><span class=\"line\"> * register()pathstackinfostack</span><br><span class=\"line\"> * listen()servercallback</span><br><span class=\"line\"> * callbackres.jsonJSON</span><br><span class=\"line\"> * url,methodmatch</span><br><span class=\"line\"> * matchroutes.allmethodstack</span><br><span class=\"line\"> * next</span><br><span class=\"line\"> * </span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">class LikeExpress &#123;</span><br><span class=\"line\">  constructor() &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    this.routes = &#123;</span><br><span class=\"line\">      all: [], //app.use(...)</span><br><span class=\"line\">      get: [],</span><br><span class=\"line\">      post: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  register(path) &#123;</span><br><span class=\"line\">    const info = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     * </span><br><span class=\"line\">     * , </span><br><span class=\"line\">     */ </span><br><span class=\"line\">    if (typeof path === &apos;string&apos;) &#123;</span><br><span class=\"line\">      info.path = path</span><br><span class=\"line\">      //stack</span><br><span class=\"line\">      info.stack = slice.call(arguments,1)</span><br><span class=\"line\">    &#125;else &#123;</span><br><span class=\"line\">      info.path = &apos;/&apos;</span><br><span class=\"line\">      //stack</span><br><span class=\"line\">      info.stack = slice.call(arguments,0)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return info</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  use() &#123;</span><br><span class=\"line\">    //applyregister(),register()info</span><br><span class=\"line\">    const info = this.register.apply(this,arguments)</span><br><span class=\"line\">    this.routes.all.push(info)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  get() &#123;</span><br><span class=\"line\">    const info = this.register.apply(this,arguments)</span><br><span class=\"line\">    this.routes.get.push(info)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  post() &#123;</span><br><span class=\"line\">    const info = this.register.apply(this,arguments)</span><br><span class=\"line\">    this.routes.post.push(info)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  match(method,url) &#123;</span><br><span class=\"line\">    let stack = []</span><br><span class=\"line\">    if (url === &apos;/favicon.ico&apos;) &#123;</span><br><span class=\"line\">      return stack</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //routes</span><br><span class=\"line\">    let curRoutes = []</span><br><span class=\"line\">    curRoutes = curRoutes.concat(this.routes.all)</span><br><span class=\"line\">    curRoutes = curRoutes.concat(this.routes[method])</span><br><span class=\"line\"></span><br><span class=\"line\">    curRoutes.forEach(routeInfo =&gt; &#123;</span><br><span class=\"line\">      if (url.indexOf(routeInfo.path === 0)) &#123;</span><br><span class=\"line\">        stack = stack.concat(routeInfo.stack)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    return stack</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //next</span><br><span class=\"line\">  handle(req,res,stack) &#123;</span><br><span class=\"line\">    const next = () =&gt; &#123;</span><br><span class=\"line\">      //</span><br><span class=\"line\">      const middleware = stack.shift()</span><br><span class=\"line\">      if (middleware) &#123;</span><br><span class=\"line\">        //</span><br><span class=\"line\">        middleware(req,res,next)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  callback() &#123;</span><br><span class=\"line\">    return (req,res) =&gt; &#123;</span><br><span class=\"line\">      res.json = (data) =&gt; &#123;</span><br><span class=\"line\">        res.setHeader(&apos;Content-type&apos;,&apos;application/json&apos;)</span><br><span class=\"line\">        res.end(JSON.stringify(data))</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      const url = req.url</span><br><span class=\"line\">      const method = req.method.toLowerCase()</span><br><span class=\"line\"></span><br><span class=\"line\">      const resultList = this.match(method,url)</span><br><span class=\"line\">      this.handle(req,res,resultList)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  listen(...args) &#123;</span><br><span class=\"line\">    const server = http.createServer(this.callback())</span><br><span class=\"line\">    server.listen(...args)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> */</span><br><span class=\"line\">module.exports = () =&gt; &#123;</span><br><span class=\"line\">  return new LikeExpress()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-morgan\"><a href=\"#-morgan\" class=\"headerlink\" title=\"-morgan\"></a>-morgan</h3><p>logsaccess.log<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const ENV = process.env.NODE_ENV</span><br><span class=\"line\">if (ENV !== &apos;production&apos;) &#123;</span><br><span class=\"line\">  app.use(logger(&apos;dev&apos;))</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">  //</span><br><span class=\"line\">  const logFileName = path.join(__dirname,&apos;logs&apos;,&apos;access.log&apos;)</span><br><span class=\"line\">  const writeStream = fs.createWriteStream(logFileName,&#123;</span><br><span class=\"line\">    flags: &apos;a&apos;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  app.use(logger(&apos;combined&apos;,&#123;</span><br><span class=\"line\">    stream: writeStream</span><br><span class=\"line\">  &#125;))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"express\"><a href=\"#express\" class=\"headerlink\" title=\"express\"></a>express</h3>","more":"<h3 id=\"express\"><a href=\"#express\" class=\"headerlink\" title=\"express\"></a>express</h3><ol>\n<li>npm install express-generator -g</li>\n<li>express express-test</li>\n<li>npm install</li>\n<li>npm start</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>app.js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var express = require(&apos;express&apos;);</span><br><span class=\"line\">var router = express.Router();</span><br><span class=\"line\"></span><br><span class=\"line\">router.get(&apos;/list&apos;, function(req, res, next) &#123;</span><br><span class=\"line\">  //res.jsonjsonjson</span><br><span class=\"line\">  res.json(&#123;</span><br><span class=\"line\">    errno: 0,</span><br><span class=\"line\">    data: [1,2,3]</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">module.exports = router;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var express = require(&apos;express&apos;);</span><br><span class=\"line\">var router = express.Router();</span><br><span class=\"line\"></span><br><span class=\"line\">router.post(&apos;/login&apos;, function(req, res, next) &#123;</span><br><span class=\"line\">  const &#123; username,password &#125; = req.body</span><br><span class=\"line\">  res.json(&#123;</span><br><span class=\"line\">    errno: 0,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      username,</span><br><span class=\"line\">      password</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = router;</span><br></pre></td></tr></table></figure>\n<h3 id=\"sessionredis\"><a href=\"#sessionredis\" class=\"headerlink\" title=\"sessionredis\"></a>sessionredis</h3><ol>\n<li>redis</li>\n<li>connect-redissession</li>\n<li>session</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const expressSession = require(&apos;express-session&apos;);</span><br><span class=\"line\">const RedisStore = require(&apos;connect-redis&apos;)(expressSession)</span><br><span class=\"line\"></span><br><span class=\"line\">const redisClient = require(&apos;./db/redis&apos;)</span><br><span class=\"line\">const sessionStore = new RedisStore(&#123;</span><br><span class=\"line\">  client: redisClient</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(expressSession(&#123;</span><br><span class=\"line\">  name: &apos;session-name&apos;, // cookienameconnect.sid</span><br><span class=\"line\">  secret: &apos;my_session_secret&apos;, //  128 </span><br><span class=\"line\">  store: sessionStore,</span><br><span class=\"line\">  cookie: &#123;</span><br><span class=\"line\">    path: &apos;/&apos;, //</span><br><span class=\"line\">    resave: true,</span><br><span class=\"line\">    saveUninitialized: false,</span><br><span class=\"line\">    httpOnly: true, //,cookie</span><br><span class=\"line\">    maxAge: 24*60*60*1000 //24</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>(middleware),request object(req),response object(res)web-</li>\n<li>app.use()</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function middleware(req,res,next)&#123;</span><br><span class=\"line\">  // </span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  next();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>next()</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>app.use</li>\n<li>httppathmethod</li>\n<li>nextnext</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">link-express.js</span><br><span class=\"line\"></span><br><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\">const slice = Array.prototype.slice</span><br><span class=\"line\"></span><br><span class=\"line\">/**  </span><br><span class=\"line\"> * LikeExpressclass,</span><br><span class=\"line\"> * usegetpostregister()</span><br><span class=\"line\"> * register()pathstackinfostack</span><br><span class=\"line\"> * listen()servercallback</span><br><span class=\"line\"> * callbackres.jsonJSON</span><br><span class=\"line\"> * url,methodmatch</span><br><span class=\"line\"> * matchroutes.allmethodstack</span><br><span class=\"line\"> * next</span><br><span class=\"line\"> * </span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">class LikeExpress &#123;</span><br><span class=\"line\">  constructor() &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    this.routes = &#123;</span><br><span class=\"line\">      all: [], //app.use(...)</span><br><span class=\"line\">      get: [],</span><br><span class=\"line\">      post: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  register(path) &#123;</span><br><span class=\"line\">    const info = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * </span><br><span class=\"line\">     * </span><br><span class=\"line\">     * , </span><br><span class=\"line\">     */ </span><br><span class=\"line\">    if (typeof path === &apos;string&apos;) &#123;</span><br><span class=\"line\">      info.path = path</span><br><span class=\"line\">      //stack</span><br><span class=\"line\">      info.stack = slice.call(arguments,1)</span><br><span class=\"line\">    &#125;else &#123;</span><br><span class=\"line\">      info.path = &apos;/&apos;</span><br><span class=\"line\">      //stack</span><br><span class=\"line\">      info.stack = slice.call(arguments,0)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return info</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  use() &#123;</span><br><span class=\"line\">    //applyregister(),register()info</span><br><span class=\"line\">    const info = this.register.apply(this,arguments)</span><br><span class=\"line\">    this.routes.all.push(info)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  get() &#123;</span><br><span class=\"line\">    const info = this.register.apply(this,arguments)</span><br><span class=\"line\">    this.routes.get.push(info)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  post() &#123;</span><br><span class=\"line\">    const info = this.register.apply(this,arguments)</span><br><span class=\"line\">    this.routes.post.push(info)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  match(method,url) &#123;</span><br><span class=\"line\">    let stack = []</span><br><span class=\"line\">    if (url === &apos;/favicon.ico&apos;) &#123;</span><br><span class=\"line\">      return stack</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //routes</span><br><span class=\"line\">    let curRoutes = []</span><br><span class=\"line\">    curRoutes = curRoutes.concat(this.routes.all)</span><br><span class=\"line\">    curRoutes = curRoutes.concat(this.routes[method])</span><br><span class=\"line\"></span><br><span class=\"line\">    curRoutes.forEach(routeInfo =&gt; &#123;</span><br><span class=\"line\">      if (url.indexOf(routeInfo.path === 0)) &#123;</span><br><span class=\"line\">        stack = stack.concat(routeInfo.stack)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    return stack</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //next</span><br><span class=\"line\">  handle(req,res,stack) &#123;</span><br><span class=\"line\">    const next = () =&gt; &#123;</span><br><span class=\"line\">      //</span><br><span class=\"line\">      const middleware = stack.shift()</span><br><span class=\"line\">      if (middleware) &#123;</span><br><span class=\"line\">        //</span><br><span class=\"line\">        middleware(req,res,next)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  callback() &#123;</span><br><span class=\"line\">    return (req,res) =&gt; &#123;</span><br><span class=\"line\">      res.json = (data) =&gt; &#123;</span><br><span class=\"line\">        res.setHeader(&apos;Content-type&apos;,&apos;application/json&apos;)</span><br><span class=\"line\">        res.end(JSON.stringify(data))</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      const url = req.url</span><br><span class=\"line\">      const method = req.method.toLowerCase()</span><br><span class=\"line\"></span><br><span class=\"line\">      const resultList = this.match(method,url)</span><br><span class=\"line\">      this.handle(req,res,resultList)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  listen(...args) &#123;</span><br><span class=\"line\">    const server = http.createServer(this.callback())</span><br><span class=\"line\">    server.listen(...args)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> */</span><br><span class=\"line\">module.exports = () =&gt; &#123;</span><br><span class=\"line\">  return new LikeExpress()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-morgan\"><a href=\"#-morgan\" class=\"headerlink\" title=\"-morgan\"></a>-morgan</h3><p>logsaccess.log<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const ENV = process.env.NODE_ENV</span><br><span class=\"line\">if (ENV !== &apos;production&apos;) &#123;</span><br><span class=\"line\">  app.use(logger(&apos;dev&apos;))</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">  //</span><br><span class=\"line\">  const logFileName = path.join(__dirname,&apos;logs&apos;,&apos;access.log&apos;)</span><br><span class=\"line\">  const writeStream = fs.createWriteStream(logFileName,&#123;</span><br><span class=\"line\">    flags: &apos;a&apos;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  app.use(logger(&apos;combined&apos;,&#123;</span><br><span class=\"line\">    stream: writeStream</span><br><span class=\"line\">  &#125;))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"JavaScript","_content":"\n### JavaScript\n<!-- more -->\n\n>  array ()\n\n#### \n> \n\n```\nvar arr = [1,[2,3],[4,[5,6]]]\n\nfunction flatten(arr) {\n    var result = []\n    for (var i = 0, len = arr.length; i < len; i++) {\n        //,\n        if (Array.isArray(arr[i])) {\n            result = result.concat(flatten(arr[i]))\n        }else {\n            result.push(arr[i])\n        }\n    }\n    return result\n}\n\nconsole.log(flatten(arr))\n```\n\n### reduce\n> reducer()\n\n```\nvar arr = [1,[2,3],[4,[5,6]]]\n\nfunction flatten(arr) {\n    return arr.reduce(function(prev,next) {\n        return prev.concat(Array.isArray(next) ? flatten(next) : next)\n    },[])\n}\n\nconsole.log(flatten(arr))\n```\n\n### ES6 \n> ES6whileArray.some()\n\n1. while\nwhile \n\n2. Array.some()\n1Boolean(1truefalse)\n\n```\nvar arr = [1,[2,3],[4,[5,6]]]\n\nfunction flatten(arr) {\n    while(arr.some(item => Array.isArray(item))) {\n        arr = [].concat(...arr)\n    }\n    return arr\n}\nconsole.log(flatten(arr))\n```\n","source":"_posts/flatten.md","raw":"---\ntitle: JavaScript\ntags: ['JavaScript']\ncategories: JavaScript\n---\n\n### JavaScript\n<!-- more -->\n\n>  array ()\n\n#### \n> \n\n```\nvar arr = [1,[2,3],[4,[5,6]]]\n\nfunction flatten(arr) {\n    var result = []\n    for (var i = 0, len = arr.length; i < len; i++) {\n        //,\n        if (Array.isArray(arr[i])) {\n            result = result.concat(flatten(arr[i]))\n        }else {\n            result.push(arr[i])\n        }\n    }\n    return result\n}\n\nconsole.log(flatten(arr))\n```\n\n### reduce\n> reducer()\n\n```\nvar arr = [1,[2,3],[4,[5,6]]]\n\nfunction flatten(arr) {\n    return arr.reduce(function(prev,next) {\n        return prev.concat(Array.isArray(next) ? flatten(next) : next)\n    },[])\n}\n\nconsole.log(flatten(arr))\n```\n\n### ES6 \n> ES6whileArray.some()\n\n1. while\nwhile \n\n2. Array.some()\n1Boolean(1truefalse)\n\n```\nvar arr = [1,[2,3],[4,[5,6]]]\n\nfunction flatten(arr) {\n    while(arr.some(item => Array.isArray(item))) {\n        arr = [].concat(...arr)\n    }\n    return arr\n}\nconsole.log(flatten(arr))\n```\n","slug":"flatten","published":1,"date":"2019-10-24T02:34:28.240Z","updated":"2019-10-24T02:40:54.883Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq423001ghe6j910lfltr","content":"<h3 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h3><a id=\"more\"></a>\n<blockquote>\n<p> array ()</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var arr = [1,[2,3],[4,[5,6]]]</span><br><span class=\"line\"></span><br><span class=\"line\">function flatten(arr) &#123;</span><br><span class=\"line\">    var result = []</span><br><span class=\"line\">    for (var i = 0, len = arr.length; i &lt; len; i++) &#123;</span><br><span class=\"line\">        //,</span><br><span class=\"line\">        if (Array.isArray(arr[i])) &#123;</span><br><span class=\"line\">            result = result.concat(flatten(arr[i]))</span><br><span class=\"line\">        &#125;else &#123;</span><br><span class=\"line\">            result.push(arr[i])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>\n<h3 id=\"reduce\"><a href=\"#reduce\" class=\"headerlink\" title=\"reduce\"></a>reduce</h3><blockquote>\n<p>reducer()</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var arr = [1,[2,3],[4,[5,6]]]</span><br><span class=\"line\"></span><br><span class=\"line\">function flatten(arr) &#123;</span><br><span class=\"line\">    return arr.reduce(function(prev,next) &#123;</span><br><span class=\"line\">        return prev.concat(Array.isArray(next) ? flatten(next) : next)</span><br><span class=\"line\">    &#125;,[])</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>\n<h3 id=\"ES6-\"><a href=\"#ES6-\" class=\"headerlink\" title=\"ES6 \"></a>ES6 </h3><blockquote>\n<p>ES6whileArray.some()</p>\n</blockquote>\n<ol>\n<li><p>while<br>while </p>\n</li>\n<li><p>Array.some()<br>1Boolean(1truefalse)</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var arr = [1,[2,3],[4,[5,6]]]</span><br><span class=\"line\"></span><br><span class=\"line\">function flatten(arr) &#123;</span><br><span class=\"line\">    while(arr.some(item =&gt; Array.isArray(item))) &#123;</span><br><span class=\"line\">        arr = [].concat(...arr)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return arr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h3>","more":"<blockquote>\n<p> array ()</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var arr = [1,[2,3],[4,[5,6]]]</span><br><span class=\"line\"></span><br><span class=\"line\">function flatten(arr) &#123;</span><br><span class=\"line\">    var result = []</span><br><span class=\"line\">    for (var i = 0, len = arr.length; i &lt; len; i++) &#123;</span><br><span class=\"line\">        //,</span><br><span class=\"line\">        if (Array.isArray(arr[i])) &#123;</span><br><span class=\"line\">            result = result.concat(flatten(arr[i]))</span><br><span class=\"line\">        &#125;else &#123;</span><br><span class=\"line\">            result.push(arr[i])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>\n<h3 id=\"reduce\"><a href=\"#reduce\" class=\"headerlink\" title=\"reduce\"></a>reduce</h3><blockquote>\n<p>reducer()</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var arr = [1,[2,3],[4,[5,6]]]</span><br><span class=\"line\"></span><br><span class=\"line\">function flatten(arr) &#123;</span><br><span class=\"line\">    return arr.reduce(function(prev,next) &#123;</span><br><span class=\"line\">        return prev.concat(Array.isArray(next) ? flatten(next) : next)</span><br><span class=\"line\">    &#125;,[])</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>\n<h3 id=\"ES6-\"><a href=\"#ES6-\" class=\"headerlink\" title=\"ES6 \"></a>ES6 </h3><blockquote>\n<p>ES6whileArray.some()</p>\n</blockquote>\n<ol>\n<li><p>while<br>while </p>\n</li>\n<li><p>Array.some()<br>1Boolean(1truefalse)</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var arr = [1,[2,3],[4,[5,6]]]</span><br><span class=\"line\"></span><br><span class=\"line\">function flatten(arr) &#123;</span><br><span class=\"line\">    while(arr.some(item =&gt; Array.isArray(item))) &#123;</span><br><span class=\"line\">        arr = [].concat(...arr)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return arr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>"},{"title":"Flutter - Flutter ","date":"2020-05-23T02:12:13.000Z","_content":"\n### Mac  Flutter \n\n<!-- more -->\n\n### \n\n1. open .bash_profile\n\nFlutter \n\n```\nexport PUB_HOSTED_URL=https://pub.flutter-io.cn\nexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn\n```\n\n2. Flutter SDK()\n\n SDK , Flutter SDK  bin \n SDK  /Users//Documents/flutter/bin\n\n```\nexport PATH=`pwd`/flutter/bin:$PATH\n\nSDK\nexport PATH= /Users//Documents/flutter/bin :$PATH\n```\n\n3. flutter doctor \n\n4.\n\n```\nflutter create my_app\n```\n\n### iOS \n\n1. Xcode flutter  SDK  Xcode \n\n2. open -a Simulator \n\n3. flutter run \n\n### Android \n\n1. Android Studio\n\n2.\n\n```\n#Android \nexport ANDROID_HOME=/Users//Library/Android/sdk\n#Android \nexport PATH=${PATH}:${ANDROID_HOME}/emulator\n#Android tools \nexport PATH=${PATH}:${ANDROID_HOME}/tools\n#Android \nexport PATH=${PATH}:${ANDROID_HOME}/platform-tools\n#Android NDK\nANDROID_NDK_HOME=/Users//Library/Android/ndk/android-ndk-r10e\n```\n\n3.\n Preferences > Plugins (macOS), File > Settings > Plugins (Windows & Linux)\n FlutterDart \n\n Android Studio  SDK \n\n### VScode \n\n1.command + shift + p ,Flutter: New Project  Flutter \n\n2. Dart  Flutter \n\n3. No Device \n\n4.command + shift + p  Debug: Start Debugging \n\n### \n\nFlutter  RN \n","source":"_posts/flutter-1-create-flutter.md","raw":"---\ntitle: Flutter - Flutter \ndate: 2020-05-23 10:12:13\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### Mac  Flutter \n\n<!-- more -->\n\n### \n\n1. open .bash_profile\n\nFlutter \n\n```\nexport PUB_HOSTED_URL=https://pub.flutter-io.cn\nexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn\n```\n\n2. Flutter SDK()\n\n SDK , Flutter SDK  bin \n SDK  /Users//Documents/flutter/bin\n\n```\nexport PATH=`pwd`/flutter/bin:$PATH\n\nSDK\nexport PATH= /Users//Documents/flutter/bin :$PATH\n```\n\n3. flutter doctor \n\n4.\n\n```\nflutter create my_app\n```\n\n### iOS \n\n1. Xcode flutter  SDK  Xcode \n\n2. open -a Simulator \n\n3. flutter run \n\n### Android \n\n1. Android Studio\n\n2.\n\n```\n#Android \nexport ANDROID_HOME=/Users//Library/Android/sdk\n#Android \nexport PATH=${PATH}:${ANDROID_HOME}/emulator\n#Android tools \nexport PATH=${PATH}:${ANDROID_HOME}/tools\n#Android \nexport PATH=${PATH}:${ANDROID_HOME}/platform-tools\n#Android NDK\nANDROID_NDK_HOME=/Users//Library/Android/ndk/android-ndk-r10e\n```\n\n3.\n Preferences > Plugins (macOS), File > Settings > Plugins (Windows & Linux)\n FlutterDart \n\n Android Studio  SDK \n\n### VScode \n\n1.command + shift + p ,Flutter: New Project  Flutter \n\n2. Dart  Flutter \n\n3. No Device \n\n4.command + shift + p  Debug: Start Debugging \n\n### \n\nFlutter  RN \n","slug":"flutter-1-create-flutter","published":1,"updated":"2020-05-23T02:17:26.027Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq425001jhe6ja7mjm4j4","content":"<h3 id=\"Mac--Flutter-\"><a href=\"#Mac--Flutter-\" class=\"headerlink\" title=\"Mac  Flutter \"></a>Mac  Flutter </h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1. open .bash_profile</p>\n<p>Flutter </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class=\"line\">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure>\n<p>2. Flutter SDK()</p>\n<p> SDK , Flutter SDK  bin <br> SDK  /Users//Documents/flutter/bin</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=`pwd`/flutter/bin:$PATH</span><br><span class=\"line\"></span><br><span class=\"line\">SDK</span><br><span class=\"line\">export PATH= /Users//Documents/flutter/bin :$PATH</span><br></pre></td></tr></table></figure>\n<p>3. flutter doctor </p>\n<p>4.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create my_app</span><br></pre></td></tr></table></figure>\n<h3 id=\"iOS-\"><a href=\"#iOS-\" class=\"headerlink\" title=\"iOS \"></a>iOS </h3><p>1. Xcode flutter  SDK  Xcode </p>\n<p>2. open -a Simulator </p>\n<p>3. flutter run </p>\n<h3 id=\"Android-\"><a href=\"#Android-\" class=\"headerlink\" title=\"Android \"></a>Android </h3><p>1. Android Studio</p>\n<p>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Android </span><br><span class=\"line\">export ANDROID_HOME=/Users//Library/Android/sdk</span><br><span class=\"line\">#Android </span><br><span class=\"line\">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/emulator</span><br><span class=\"line\">#Android tools </span><br><span class=\"line\">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/tools</span><br><span class=\"line\">#Android </span><br><span class=\"line\">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/platform-tools</span><br><span class=\"line\">#Android NDK</span><br><span class=\"line\">ANDROID_NDK_HOME=/Users//Library/Android/ndk/android-ndk-r10e</span><br></pre></td></tr></table></figure>\n<p>3.<br> Preferences &gt; Plugins (macOS), File &gt; Settings &gt; Plugins (Windows &amp; Linux)<br> FlutterDart </p>\n<p> Android Studio  SDK </p>\n<h3 id=\"VScode-\"><a href=\"#VScode-\" class=\"headerlink\" title=\"VScode \"></a>VScode </h3><p>1.command + shift + p ,Flutter: New Project  Flutter </p>\n<p>2. Dart  Flutter </p>\n<p>3. No Device </p>\n<p>4.command + shift + p  Debug: Start Debugging </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Flutter  RN </p>\n","site":{"data":{}},"excerpt":"<h3 id=\"Mac--Flutter-\"><a href=\"#Mac--Flutter-\" class=\"headerlink\" title=\"Mac  Flutter \"></a>Mac  Flutter </h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1. open .bash_profile</p>\n<p>Flutter </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class=\"line\">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure>\n<p>2. Flutter SDK()</p>\n<p> SDK , Flutter SDK  bin <br> SDK  /Users//Documents/flutter/bin</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=`pwd`/flutter/bin:$PATH</span><br><span class=\"line\"></span><br><span class=\"line\">SDK</span><br><span class=\"line\">export PATH= /Users//Documents/flutter/bin :$PATH</span><br></pre></td></tr></table></figure>\n<p>3. flutter doctor </p>\n<p>4.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create my_app</span><br></pre></td></tr></table></figure>\n<h3 id=\"iOS-\"><a href=\"#iOS-\" class=\"headerlink\" title=\"iOS \"></a>iOS </h3><p>1. Xcode flutter  SDK  Xcode </p>\n<p>2. open -a Simulator </p>\n<p>3. flutter run </p>\n<h3 id=\"Android-\"><a href=\"#Android-\" class=\"headerlink\" title=\"Android \"></a>Android </h3><p>1. Android Studio</p>\n<p>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Android </span><br><span class=\"line\">export ANDROID_HOME=/Users//Library/Android/sdk</span><br><span class=\"line\">#Android </span><br><span class=\"line\">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/emulator</span><br><span class=\"line\">#Android tools </span><br><span class=\"line\">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/tools</span><br><span class=\"line\">#Android </span><br><span class=\"line\">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/platform-tools</span><br><span class=\"line\">#Android NDK</span><br><span class=\"line\">ANDROID_NDK_HOME=/Users//Library/Android/ndk/android-ndk-r10e</span><br></pre></td></tr></table></figure>\n<p>3.<br> Preferences &gt; Plugins (macOS), File &gt; Settings &gt; Plugins (Windows &amp; Linux)<br> FlutterDart </p>\n<p> Android Studio  SDK </p>\n<h3 id=\"VScode-\"><a href=\"#VScode-\" class=\"headerlink\" title=\"VScode \"></a>VScode </h3><p>1.command + shift + p ,Flutter: New Project  Flutter </p>\n<p>2. Dart  Flutter </p>\n<p>3. No Device </p>\n<p>4.command + shift + p  Debug: Start Debugging </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Flutter  RN </p>"},{"title":"Flutter - Flutter ","date":"2020-05-27T01:54:52.000Z","_content":"\n### Flutter\n\n<!-- more -->\n\n###  Flutter \n\n1.: https://pub.flutter-io.cn/\n\n2., Readme\n\n### \n\n1.StatelessWidget\nStatelessWidget \n\n2.StatefulWidget \nStatefulWidget  widget  setState  StatefulWidget  setState  Flutter Flutter  build \n\n3.Scaffold\nScaffoldUIappBarbottomNavigationBarfloatingActionButtonbody\n\n4.ScaffoldappBar\n\n\n\n```\nhome: Scaffold(\n   appBar: AppBar(title: Text('Flutter')),\n)\n```\n\n5.ScaffoldbottomNavigationBar()\n\n```\nbottomNavigationBar: BottomNavigationBar(\n  currentIndex: _currentIndex, //\n  onTap: (index) {\n    setState(() {\n      _currentIndex = index;\n    });\n  },//\n  items: [\n    BottomNavigationBarItem(\n      icon: Icon(Icons.home,color: Colors.grey),\n      activeIcon: Icon(Icons.home, color: Colors.blue),\n      title: Text('')\n    ),\n    BottomNavigationBarItem(\n      icon: Icon(Icons.list,color: Colors.grey),\n      activeIcon: Icon(Icons.list, color: Colors.blue),\n      title: Text('')\n    )\n  ]\n),\n```\n6.ScaffoldfloatingActionButton()\n\n```\nfloatingActionButton: FloatingActionButton(\n  onPressed: null,\n  child: Text('')\n),\n```\n\n### Flutter\n\n1.\n\n```\n@override\nWidget build(BuildContext context) {\n  return MaterialApp(\n    routes: <String,WidgetBuilder> {\n      'less': (BuildContext context) => FlutterLaoutPage()\n    },\n  );\n}\n```\n\n2.\n\n```\nNavigator.pushNamed(context, 'less');\n```\nor\n```\nNavigator.push(context, MaterialPageRoute(builder: (context) => FlutterLaoutPage()));\n```\n\n### \n\n1.GestureDetector\n\n\n2.\n\n```\n body: FractionallySizedBox(\n  widthFactor: 1,\n  child: Stack(\n    children: <Widget>[\n      GestureDetector(\n        onTap: () => _pringMsg(''),\n        onDoubleTap: () => _pringMsg(''),\n        onLongPress: () => _pringMsg(''),\n        onTapCancel: () => _pringMsg(''),\n        onTapUp: (e) => _pringMsg(''),\n        onTapDown: (e) => _pringMsg(''),\n        child: Container(\n          padding: EdgeInsets.all(60),\n          decoration: BoxDecoration(color: Colors.blueAccent),\n          child: Text(\n            '',\n            style: TextStyle(\n              fontSize: 36,\n              color: Colors.white\n            )\n          ),\n        )\n      ),\n      Text(printString),\n      Positioned(\n        left: moveX,\n        top: moveY,\n        child: GestureDetector(\n          onPanUpdate: (e) => _doMove(e),\n          child: Container(\n            width: 72,\n            height: 72,\n            decoration:BoxDecoration(\n              color:Colors.amber,\n              borderRadius: BorderRadius.circular(36)\n            ),\n          ),\n        ),\n      )\n    ],\n  ),\n),\n\n_pringMsg(String msg) {\n  setState(() {\n    printString += ' , $msg';\n  });\n}\n\n_doMove(DragUpdateDetails e) {\n  setState(() {\n    moveY += e.delta.dy;\n    moveX += e.delta.dx;\n  });\n}\n```\n\n### \n\n```\nurl_launcher: ^5.0.2\n\n//\n_launchURL() async {\n  const url = 'http://www.liufupeng.cn/';\n  if (await canLaunch(url)) {\n    await launch(url);\n  } else {\n    throw 'Could not launch $url';\n  }\n}\n\n//\n_openMap() async {\n  //android\n  const url = 'geo:52.32.4.917'; //APP schema\n  if (await canLaunch(url)) {\n    await launch(url);\n  } else {\n    //ios\n    const url = 'http://maps.apple.com/?ll=geo:52.32.4.917';\n    if (await canLaunch(url)) {\n        await launch(url);\n    }else {\n      throw 'Could not launch $url';\n    }\n  }\n}\n```\n\n### \n\n1.StatelessWidgetcreateElementbuild\n\n2.StatefulWidget\n\n\ncreateStateinitState\n\n\ndidChangeDependenciesbuilddidUpdateWidget\n\n\ndeactivatedispose\n\n```\nimport 'package:flutter/material.dart';\n\nclass LfiecycleState extends StatefulWidget {\n  @override\n  _LfiecycleState createState() => _LfiecycleState();\n}\n\nclass _LfiecycleState extends State<LfiecycleState> {\n\n  int _count = 0;\n\n  // channel\n  @override\n  void initState() {\n    print('----initState----');\n    super.initState();\n  }\n\n  //State\n  //widgetinitState()\n  //StatefulWidgetInheritedWidgetStateInheritedWidget\n  //InheritedWidgetWidget\n  @override\n  void didChangeDependencies() {\n    print('----didChangeDependencies----');\n    super.didChangeDependencies();\n  }\n\n  //\n  //didChangeDependencies()\n  //setState\n  @override\n  Widget build(BuildContext context) {\n    print('----build----');\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('')\n        ),\n        body: Center(\n          child: Column(\n            children: <Widget>[\n              RaisedButton(\n                onPressed: () {\n                  setState(() {\n                    _count +=1;\n                  });\n                },\n                child: Text(''),\n              ),\n              Text(_count.toString())\n            ]\n          ),\n        ),\n      )\n    );\n  }\n\n  //\n  //oldWidgetwidget\n  // if (oldWidget.x != widget.x) {}\n  @override\n  void didUpdateWidget(LfiecycleState oldWidget) { \n    print('----didUpdateWidget----');\n    super.didUpdateWidget(oldWidget);\n  }\n\n  @override\n  void deactivate() { \n    print('----deactivate----');\n    super.deactivate();\n  }\n\n  @override\n  void dispose() { \n    print('----dispose----');\n    super.dispose();\n  }\n}\n```\n\n","source":"_posts/flutter-2-base.md","raw":"---\ntitle: Flutter - Flutter \ndate: 2020-05-27 09:54:52\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### Flutter\n\n<!-- more -->\n\n###  Flutter \n\n1.: https://pub.flutter-io.cn/\n\n2., Readme\n\n### \n\n1.StatelessWidget\nStatelessWidget \n\n2.StatefulWidget \nStatefulWidget  widget  setState  StatefulWidget  setState  Flutter Flutter  build \n\n3.Scaffold\nScaffoldUIappBarbottomNavigationBarfloatingActionButtonbody\n\n4.ScaffoldappBar\n\n\n\n```\nhome: Scaffold(\n   appBar: AppBar(title: Text('Flutter')),\n)\n```\n\n5.ScaffoldbottomNavigationBar()\n\n```\nbottomNavigationBar: BottomNavigationBar(\n  currentIndex: _currentIndex, //\n  onTap: (index) {\n    setState(() {\n      _currentIndex = index;\n    });\n  },//\n  items: [\n    BottomNavigationBarItem(\n      icon: Icon(Icons.home,color: Colors.grey),\n      activeIcon: Icon(Icons.home, color: Colors.blue),\n      title: Text('')\n    ),\n    BottomNavigationBarItem(\n      icon: Icon(Icons.list,color: Colors.grey),\n      activeIcon: Icon(Icons.list, color: Colors.blue),\n      title: Text('')\n    )\n  ]\n),\n```\n6.ScaffoldfloatingActionButton()\n\n```\nfloatingActionButton: FloatingActionButton(\n  onPressed: null,\n  child: Text('')\n),\n```\n\n### Flutter\n\n1.\n\n```\n@override\nWidget build(BuildContext context) {\n  return MaterialApp(\n    routes: <String,WidgetBuilder> {\n      'less': (BuildContext context) => FlutterLaoutPage()\n    },\n  );\n}\n```\n\n2.\n\n```\nNavigator.pushNamed(context, 'less');\n```\nor\n```\nNavigator.push(context, MaterialPageRoute(builder: (context) => FlutterLaoutPage()));\n```\n\n### \n\n1.GestureDetector\n\n\n2.\n\n```\n body: FractionallySizedBox(\n  widthFactor: 1,\n  child: Stack(\n    children: <Widget>[\n      GestureDetector(\n        onTap: () => _pringMsg(''),\n        onDoubleTap: () => _pringMsg(''),\n        onLongPress: () => _pringMsg(''),\n        onTapCancel: () => _pringMsg(''),\n        onTapUp: (e) => _pringMsg(''),\n        onTapDown: (e) => _pringMsg(''),\n        child: Container(\n          padding: EdgeInsets.all(60),\n          decoration: BoxDecoration(color: Colors.blueAccent),\n          child: Text(\n            '',\n            style: TextStyle(\n              fontSize: 36,\n              color: Colors.white\n            )\n          ),\n        )\n      ),\n      Text(printString),\n      Positioned(\n        left: moveX,\n        top: moveY,\n        child: GestureDetector(\n          onPanUpdate: (e) => _doMove(e),\n          child: Container(\n            width: 72,\n            height: 72,\n            decoration:BoxDecoration(\n              color:Colors.amber,\n              borderRadius: BorderRadius.circular(36)\n            ),\n          ),\n        ),\n      )\n    ],\n  ),\n),\n\n_pringMsg(String msg) {\n  setState(() {\n    printString += ' , $msg';\n  });\n}\n\n_doMove(DragUpdateDetails e) {\n  setState(() {\n    moveY += e.delta.dy;\n    moveX += e.delta.dx;\n  });\n}\n```\n\n### \n\n```\nurl_launcher: ^5.0.2\n\n//\n_launchURL() async {\n  const url = 'http://www.liufupeng.cn/';\n  if (await canLaunch(url)) {\n    await launch(url);\n  } else {\n    throw 'Could not launch $url';\n  }\n}\n\n//\n_openMap() async {\n  //android\n  const url = 'geo:52.32.4.917'; //APP schema\n  if (await canLaunch(url)) {\n    await launch(url);\n  } else {\n    //ios\n    const url = 'http://maps.apple.com/?ll=geo:52.32.4.917';\n    if (await canLaunch(url)) {\n        await launch(url);\n    }else {\n      throw 'Could not launch $url';\n    }\n  }\n}\n```\n\n### \n\n1.StatelessWidgetcreateElementbuild\n\n2.StatefulWidget\n\n\ncreateStateinitState\n\n\ndidChangeDependenciesbuilddidUpdateWidget\n\n\ndeactivatedispose\n\n```\nimport 'package:flutter/material.dart';\n\nclass LfiecycleState extends StatefulWidget {\n  @override\n  _LfiecycleState createState() => _LfiecycleState();\n}\n\nclass _LfiecycleState extends State<LfiecycleState> {\n\n  int _count = 0;\n\n  // channel\n  @override\n  void initState() {\n    print('----initState----');\n    super.initState();\n  }\n\n  //State\n  //widgetinitState()\n  //StatefulWidgetInheritedWidgetStateInheritedWidget\n  //InheritedWidgetWidget\n  @override\n  void didChangeDependencies() {\n    print('----didChangeDependencies----');\n    super.didChangeDependencies();\n  }\n\n  //\n  //didChangeDependencies()\n  //setState\n  @override\n  Widget build(BuildContext context) {\n    print('----build----');\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('')\n        ),\n        body: Center(\n          child: Column(\n            children: <Widget>[\n              RaisedButton(\n                onPressed: () {\n                  setState(() {\n                    _count +=1;\n                  });\n                },\n                child: Text(''),\n              ),\n              Text(_count.toString())\n            ]\n          ),\n        ),\n      )\n    );\n  }\n\n  //\n  //oldWidgetwidget\n  // if (oldWidget.x != widget.x) {}\n  @override\n  void didUpdateWidget(LfiecycleState oldWidget) { \n    print('----didUpdateWidget----');\n    super.didUpdateWidget(oldWidget);\n  }\n\n  @override\n  void deactivate() { \n    print('----deactivate----');\n    super.deactivate();\n  }\n\n  @override\n  void dispose() { \n    print('----dispose----');\n    super.dispose();\n  }\n}\n```\n\n","slug":"flutter-2-base","published":1,"updated":"2020-05-27T01:56:03.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq427001ohe6jro6eg7ge","content":"<h3 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h3><a id=\"more\"></a>\n<h3 id=\"-Flutter-\"><a href=\"#-Flutter-\" class=\"headerlink\" title=\" Flutter \"></a> Flutter </h3><p>1.: <a href=\"https://pub.flutter-io.cn/\" target=\"_blank\" rel=\"noopener\">https://pub.flutter-io.cn/</a></p>\n<p>2., Readme</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.StatelessWidget<br>StatelessWidget </p>\n<p>2.StatefulWidget<br>StatefulWidget  widget  setState  StatefulWidget  setState  Flutter Flutter  build </p>\n<p>3.Scaffold<br>ScaffoldUIappBarbottomNavigationBarfloatingActionButtonbody</p>\n<p>4.ScaffoldappBar</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">home: Scaffold(</span><br><span class=\"line\">   appBar: AppBar(title: Text(&apos;Flutter&apos;)),</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p>5.ScaffoldbottomNavigationBar()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bottomNavigationBar: BottomNavigationBar(</span><br><span class=\"line\">  currentIndex: _currentIndex, //</span><br><span class=\"line\">  onTap: (index) &#123;</span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      _currentIndex = index;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;,//</span><br><span class=\"line\">  items: [</span><br><span class=\"line\">    BottomNavigationBarItem(</span><br><span class=\"line\">      icon: Icon(Icons.home,color: Colors.grey),</span><br><span class=\"line\">      activeIcon: Icon(Icons.home, color: Colors.blue),</span><br><span class=\"line\">      title: Text(&apos;&apos;)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    BottomNavigationBarItem(</span><br><span class=\"line\">      icon: Icon(Icons.list,color: Colors.grey),</span><br><span class=\"line\">      activeIcon: Icon(Icons.list, color: Colors.blue),</span><br><span class=\"line\">      title: Text(&apos;&apos;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  ]</span><br><span class=\"line\">),</span><br></pre></td></tr></table></figure>\n<p>6.ScaffoldfloatingActionButton()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">floatingActionButton: FloatingActionButton(</span><br><span class=\"line\">  onPressed: null,</span><br><span class=\"line\">  child: Text(&apos;&apos;)</span><br><span class=\"line\">),</span><br></pre></td></tr></table></figure>\n<h3 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h3><p>1.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@override</span><br><span class=\"line\">Widget build(BuildContext context) &#123;</span><br><span class=\"line\">  return MaterialApp(</span><br><span class=\"line\">    routes: &lt;String,WidgetBuilder&gt; &#123;</span><br><span class=\"line\">      &apos;less&apos;: (BuildContext context) =&gt; FlutterLaoutPage()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Navigator.pushNamed(context, &apos;less&apos;);</span><br></pre></td></tr></table></figure>\n<p>or<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; FlutterLaoutPage()));</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.GestureDetector<br></p>\n<p>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> body: FractionallySizedBox(</span><br><span class=\"line\">  widthFactor: 1,</span><br><span class=\"line\">  child: Stack(</span><br><span class=\"line\">    children: &lt;Widget&gt;[</span><br><span class=\"line\">      GestureDetector(</span><br><span class=\"line\">        onTap: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onDoubleTap: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onLongPress: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onTapCancel: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onTapUp: (e) =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onTapDown: (e) =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        child: Container(</span><br><span class=\"line\">          padding: EdgeInsets.all(60),</span><br><span class=\"line\">          decoration: BoxDecoration(color: Colors.blueAccent),</span><br><span class=\"line\">          child: Text(</span><br><span class=\"line\">            &apos;&apos;,</span><br><span class=\"line\">            style: TextStyle(</span><br><span class=\"line\">              fontSize: 36,</span><br><span class=\"line\">              color: Colors.white</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        )</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      Text(printString),</span><br><span class=\"line\">      Positioned(</span><br><span class=\"line\">        left: moveX,</span><br><span class=\"line\">        top: moveY,</span><br><span class=\"line\">        child: GestureDetector(</span><br><span class=\"line\">          onPanUpdate: (e) =&gt; _doMove(e),</span><br><span class=\"line\">          child: Container(</span><br><span class=\"line\">            width: 72,</span><br><span class=\"line\">            height: 72,</span><br><span class=\"line\">            decoration:BoxDecoration(</span><br><span class=\"line\">              color:Colors.amber,</span><br><span class=\"line\">              borderRadius: BorderRadius.circular(36)</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      )</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  ),</span><br><span class=\"line\">),</span><br><span class=\"line\"></span><br><span class=\"line\">_pringMsg(String msg) &#123;</span><br><span class=\"line\">  setState(() &#123;</span><br><span class=\"line\">    printString += &apos; , $msg&apos;;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">_doMove(DragUpdateDetails e) &#123;</span><br><span class=\"line\">  setState(() &#123;</span><br><span class=\"line\">    moveY += e.delta.dy;</span><br><span class=\"line\">    moveX += e.delta.dx;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url_launcher: ^5.0.2</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">_launchURL() async &#123;</span><br><span class=\"line\">  const url = &apos;http://www.liufupeng.cn/&apos;;</span><br><span class=\"line\">  if (await canLaunch(url)) &#123;</span><br><span class=\"line\">    await launch(url);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    throw &apos;Could not launch $url&apos;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">_openMap() async &#123;</span><br><span class=\"line\">  //android</span><br><span class=\"line\">  const url = &apos;geo:52.32.4.917&apos;; //APP schema</span><br><span class=\"line\">  if (await canLaunch(url)) &#123;</span><br><span class=\"line\">    await launch(url);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    //ios</span><br><span class=\"line\">    const url = &apos;http://maps.apple.com/?ll=geo:52.32.4.917&apos;;</span><br><span class=\"line\">    if (await canLaunch(url)) &#123;</span><br><span class=\"line\">        await launch(url);</span><br><span class=\"line\">    &#125;else &#123;</span><br><span class=\"line\">      throw &apos;Could not launch $url&apos;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.StatelessWidgetcreateElementbuild</p>\n<p>2.StatefulWidget</p>\n<p><br>createStateinitState</p>\n<p><br>didChangeDependenciesbuilddidUpdateWidget</p>\n<p><br>deactivatedispose</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class LfiecycleState extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _LfiecycleState createState() =&gt; _LfiecycleState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _LfiecycleState extends State&lt;LfiecycleState&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  int _count = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">  // channel</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void initState() &#123;</span><br><span class=\"line\">    print(&apos;----initState----&apos;);</span><br><span class=\"line\">    super.initState();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //State</span><br><span class=\"line\">  //widgetinitState()</span><br><span class=\"line\">  //StatefulWidgetInheritedWidgetStateInheritedWidget</span><br><span class=\"line\">  //InheritedWidgetWidget</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void didChangeDependencies() &#123;</span><br><span class=\"line\">    print(&apos;----didChangeDependencies----&apos;);</span><br><span class=\"line\">    super.didChangeDependencies();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  //didChangeDependencies()</span><br><span class=\"line\">  //setState</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    print(&apos;----build----&apos;);</span><br><span class=\"line\">    return MaterialApp(</span><br><span class=\"line\">      home: Scaffold(</span><br><span class=\"line\">        appBar: AppBar(</span><br><span class=\"line\">          title: Text(&apos;&apos;)</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        body: Center(</span><br><span class=\"line\">          child: Column(</span><br><span class=\"line\">            children: &lt;Widget&gt;[</span><br><span class=\"line\">              RaisedButton(</span><br><span class=\"line\">                onPressed: () &#123;</span><br><span class=\"line\">                  setState(() &#123;</span><br><span class=\"line\">                    _count +=1;</span><br><span class=\"line\">                  &#125;);</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                child: Text(&apos;&apos;),</span><br><span class=\"line\">              ),</span><br><span class=\"line\">              Text(_count.toString())</span><br><span class=\"line\">            ]</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  //oldWidgetwidget</span><br><span class=\"line\">  // if (oldWidget.x != widget.x) &#123;&#125;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void didUpdateWidget(LfiecycleState oldWidget) &#123; </span><br><span class=\"line\">    print(&apos;----didUpdateWidget----&apos;);</span><br><span class=\"line\">    super.didUpdateWidget(oldWidget);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void deactivate() &#123; </span><br><span class=\"line\">    print(&apos;----deactivate----&apos;);</span><br><span class=\"line\">    super.deactivate();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void dispose() &#123; </span><br><span class=\"line\">    print(&apos;----dispose----&apos;);</span><br><span class=\"line\">    super.dispose();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h3>","more":"<h3 id=\"-Flutter-\"><a href=\"#-Flutter-\" class=\"headerlink\" title=\" Flutter \"></a> Flutter </h3><p>1.: <a href=\"https://pub.flutter-io.cn/\" target=\"_blank\" rel=\"noopener\">https://pub.flutter-io.cn/</a></p>\n<p>2., Readme</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.StatelessWidget<br>StatelessWidget </p>\n<p>2.StatefulWidget<br>StatefulWidget  widget  setState  StatefulWidget  setState  Flutter Flutter  build </p>\n<p>3.Scaffold<br>ScaffoldUIappBarbottomNavigationBarfloatingActionButtonbody</p>\n<p>4.ScaffoldappBar</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">home: Scaffold(</span><br><span class=\"line\">   appBar: AppBar(title: Text(&apos;Flutter&apos;)),</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p>5.ScaffoldbottomNavigationBar()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bottomNavigationBar: BottomNavigationBar(</span><br><span class=\"line\">  currentIndex: _currentIndex, //</span><br><span class=\"line\">  onTap: (index) &#123;</span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      _currentIndex = index;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;,//</span><br><span class=\"line\">  items: [</span><br><span class=\"line\">    BottomNavigationBarItem(</span><br><span class=\"line\">      icon: Icon(Icons.home,color: Colors.grey),</span><br><span class=\"line\">      activeIcon: Icon(Icons.home, color: Colors.blue),</span><br><span class=\"line\">      title: Text(&apos;&apos;)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    BottomNavigationBarItem(</span><br><span class=\"line\">      icon: Icon(Icons.list,color: Colors.grey),</span><br><span class=\"line\">      activeIcon: Icon(Icons.list, color: Colors.blue),</span><br><span class=\"line\">      title: Text(&apos;&apos;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  ]</span><br><span class=\"line\">),</span><br></pre></td></tr></table></figure>\n<p>6.ScaffoldfloatingActionButton()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">floatingActionButton: FloatingActionButton(</span><br><span class=\"line\">  onPressed: null,</span><br><span class=\"line\">  child: Text(&apos;&apos;)</span><br><span class=\"line\">),</span><br></pre></td></tr></table></figure>\n<h3 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h3><p>1.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@override</span><br><span class=\"line\">Widget build(BuildContext context) &#123;</span><br><span class=\"line\">  return MaterialApp(</span><br><span class=\"line\">    routes: &lt;String,WidgetBuilder&gt; &#123;</span><br><span class=\"line\">      &apos;less&apos;: (BuildContext context) =&gt; FlutterLaoutPage()</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Navigator.pushNamed(context, &apos;less&apos;);</span><br></pre></td></tr></table></figure>\n<p>or<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; FlutterLaoutPage()));</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.GestureDetector<br></p>\n<p>2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> body: FractionallySizedBox(</span><br><span class=\"line\">  widthFactor: 1,</span><br><span class=\"line\">  child: Stack(</span><br><span class=\"line\">    children: &lt;Widget&gt;[</span><br><span class=\"line\">      GestureDetector(</span><br><span class=\"line\">        onTap: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onDoubleTap: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onLongPress: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onTapCancel: () =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onTapUp: (e) =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        onTapDown: (e) =&gt; _pringMsg(&apos;&apos;),</span><br><span class=\"line\">        child: Container(</span><br><span class=\"line\">          padding: EdgeInsets.all(60),</span><br><span class=\"line\">          decoration: BoxDecoration(color: Colors.blueAccent),</span><br><span class=\"line\">          child: Text(</span><br><span class=\"line\">            &apos;&apos;,</span><br><span class=\"line\">            style: TextStyle(</span><br><span class=\"line\">              fontSize: 36,</span><br><span class=\"line\">              color: Colors.white</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        )</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      Text(printString),</span><br><span class=\"line\">      Positioned(</span><br><span class=\"line\">        left: moveX,</span><br><span class=\"line\">        top: moveY,</span><br><span class=\"line\">        child: GestureDetector(</span><br><span class=\"line\">          onPanUpdate: (e) =&gt; _doMove(e),</span><br><span class=\"line\">          child: Container(</span><br><span class=\"line\">            width: 72,</span><br><span class=\"line\">            height: 72,</span><br><span class=\"line\">            decoration:BoxDecoration(</span><br><span class=\"line\">              color:Colors.amber,</span><br><span class=\"line\">              borderRadius: BorderRadius.circular(36)</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      )</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  ),</span><br><span class=\"line\">),</span><br><span class=\"line\"></span><br><span class=\"line\">_pringMsg(String msg) &#123;</span><br><span class=\"line\">  setState(() &#123;</span><br><span class=\"line\">    printString += &apos; , $msg&apos;;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">_doMove(DragUpdateDetails e) &#123;</span><br><span class=\"line\">  setState(() &#123;</span><br><span class=\"line\">    moveY += e.delta.dy;</span><br><span class=\"line\">    moveX += e.delta.dx;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url_launcher: ^5.0.2</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">_launchURL() async &#123;</span><br><span class=\"line\">  const url = &apos;http://www.liufupeng.cn/&apos;;</span><br><span class=\"line\">  if (await canLaunch(url)) &#123;</span><br><span class=\"line\">    await launch(url);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    throw &apos;Could not launch $url&apos;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">_openMap() async &#123;</span><br><span class=\"line\">  //android</span><br><span class=\"line\">  const url = &apos;geo:52.32.4.917&apos;; //APP schema</span><br><span class=\"line\">  if (await canLaunch(url)) &#123;</span><br><span class=\"line\">    await launch(url);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    //ios</span><br><span class=\"line\">    const url = &apos;http://maps.apple.com/?ll=geo:52.32.4.917&apos;;</span><br><span class=\"line\">    if (await canLaunch(url)) &#123;</span><br><span class=\"line\">        await launch(url);</span><br><span class=\"line\">    &#125;else &#123;</span><br><span class=\"line\">      throw &apos;Could not launch $url&apos;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.StatelessWidgetcreateElementbuild</p>\n<p>2.StatefulWidget</p>\n<p><br>createStateinitState</p>\n<p><br>didChangeDependenciesbuilddidUpdateWidget</p>\n<p><br>deactivatedispose</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class LfiecycleState extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _LfiecycleState createState() =&gt; _LfiecycleState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _LfiecycleState extends State&lt;LfiecycleState&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  int _count = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">  // channel</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void initState() &#123;</span><br><span class=\"line\">    print(&apos;----initState----&apos;);</span><br><span class=\"line\">    super.initState();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //State</span><br><span class=\"line\">  //widgetinitState()</span><br><span class=\"line\">  //StatefulWidgetInheritedWidgetStateInheritedWidget</span><br><span class=\"line\">  //InheritedWidgetWidget</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void didChangeDependencies() &#123;</span><br><span class=\"line\">    print(&apos;----didChangeDependencies----&apos;);</span><br><span class=\"line\">    super.didChangeDependencies();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  //didChangeDependencies()</span><br><span class=\"line\">  //setState</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    print(&apos;----build----&apos;);</span><br><span class=\"line\">    return MaterialApp(</span><br><span class=\"line\">      home: Scaffold(</span><br><span class=\"line\">        appBar: AppBar(</span><br><span class=\"line\">          title: Text(&apos;&apos;)</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        body: Center(</span><br><span class=\"line\">          child: Column(</span><br><span class=\"line\">            children: &lt;Widget&gt;[</span><br><span class=\"line\">              RaisedButton(</span><br><span class=\"line\">                onPressed: () &#123;</span><br><span class=\"line\">                  setState(() &#123;</span><br><span class=\"line\">                    _count +=1;</span><br><span class=\"line\">                  &#125;);</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                child: Text(&apos;&apos;),</span><br><span class=\"line\">              ),</span><br><span class=\"line\">              Text(_count.toString())</span><br><span class=\"line\">            ]</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  //oldWidgetwidget</span><br><span class=\"line\">  // if (oldWidget.x != widget.x) &#123;&#125;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void didUpdateWidget(LfiecycleState oldWidget) &#123; </span><br><span class=\"line\">    print(&apos;----didUpdateWidget----&apos;);</span><br><span class=\"line\">    super.didUpdateWidget(oldWidget);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void deactivate() &#123; </span><br><span class=\"line\">    print(&apos;----deactivate----&apos;);</span><br><span class=\"line\">    super.deactivate();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void dispose() &#123; </span><br><span class=\"line\">    print(&apos;----dispose----&apos;);</span><br><span class=\"line\">    super.dispose();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Flutter - Flutter ","date":"2020-06-02T07:09:46.000Z","_content":"\n### Flutter \n\n<!-- more -->\n\n### Flutter\n\n1.https://github.com/flutter/flutter/tree/master/examples\n\n2.https://github.com/flutter/samples\n\n3.https://github.com/nisrulz/flutter-examples\n\n4.https://github.com/iampawan/FlutterExampleApps\n\n### BottomNavigationBar \n\nBottomNavigationBarPageView\n\n```\nimport 'package:flutter/material.dart';\nimport 'package:flutter_trip/pages/home_page.dart';\nimport 'package:flutter_trip/pages/my_page.dart';\nimport 'package:flutter_trip/pages/search_page.dart';\nimport 'package:flutter_trip/pages/travel_page.dart';\n\nclass TabNavigator extends StatefulWidget {\n  @override\n  _TabNavigatorState createState() => _TabNavigatorState();\n}\n\nclass _TabNavigatorState extends State<TabNavigator> {\n  final _defaultColor = Colors.grey;\n  final _activeColor = Colors.blue;\n  int _currentIndex = 0;\n  final PageController _controller = PageController();\n  \n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: PageView(\n        controller: _controller,\n        children: <Widget>[\n          HomePage(),\n          SearchPage(),\n          TravelPage(),\n          MyPage(),\n        ],\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex, //\n        onTap: (index) {\n          _controller.jumpToPage(index); //index\n          setState(() {\n            _currentIndex = index;\n          });\n        }, \n        type: BottomNavigationBarType.fixed,\n        items: [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home, color: _defaultColor),\n            activeIcon: Icon(Icons.home, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 0 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.search, color: _defaultColor),\n            activeIcon: Icon(Icons.search, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 1 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.camera_alt, color: _defaultColor),\n            activeIcon: Icon(Icons.camera_alt, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 2 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.account_circle, color: _defaultColor),\n            activeIcon: Icon(Icons.account_circle, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 3 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n        ] \n      ),\n    );\n  }\n}\n\n```\n\n### \n\nhttps://github.com/best-flutter/flutter_swiper/blob/master/README-ZH.md\n\n```\nflutter_swiper: ^1.1.4\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_swiper/flutter_swiper.dart';\n\nclass HomePage extends StatefulWidget {\n  @override\n  _HomePageState createState() => _HomePageState();\n}\n\nclass _HomePageState extends State<HomePage> {\n  List _imageUrls = [\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150'\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          children:<Widget>[\n            Container(\n              height: 160,\n              child: Swiper(\n                itemCount: _imageUrls.length,\n                autoplay: true,\n                itemBuilder: (BuildContext context, int index) {\n                  return Image.network(\n                    _imageUrls[index],\n                    fit: BoxFit.fill\n                  );\n                },\n                pagination:SwiperPagination(),\n              )\n            )\n          ]\n        ),\n      ),\n    );\n  }\n}\n\n```\n\n### \n\nListViewNotificationListener(), MediaQuery.removePaddingStackWidget\n\n```\nimport 'package:flutter/material.dart';\nimport 'package:flutter_swiper/flutter_swiper.dart';\n\nconst APPBAR_SCROLL_OFFSET = 100;\n\nclass HomePage extends StatefulWidget {\n  @override\n  _HomePageState createState() => _HomePageState();\n}\n\nclass _HomePageState extends State<HomePage> {\n  List _imageUrls = [\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150'\n  ];\n\n  double appBarAlpha = 0;\n\n  //\n  _onScroll(offset) {\n    double alpha = offset / APPBAR_SCROLL_OFFSET;\n    print(alpha);\n    if (alpha < 0) {\n      alpha = 0;\n    }else if (alpha > 1) {\n      alpha = 1;\n    }\n     \n    setState(() {\n      appBarAlpha = alpha;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Stack(\n        children: <Widget> [\n          MediaQuery.removePadding(\n            removeTop: true,\n            context: context, \n            child: NotificationListener(\n              onNotification: (scrollNotification) {\n                if (scrollNotification is ScrollNotification && scrollNotification.depth == 0) {\n                  _onScroll(scrollNotification.metrics.pixels);\n                 \n                }    \n              },\n              child: ListView(\n                children: <Widget>[\n                  Container(\n                    height: 160,\n                    child: Swiper(\n                      itemCount: _imageUrls.length,\n                      autoplay: true,\n                      itemBuilder: (BuildContext context, int index) {\n                        return Image.network(\n                          _imageUrls[index],\n                          fit: BoxFit.fill\n                        );\n                      },\n                      pagination:SwiperPagination(),\n                    )\n                  )\n                ]\n              )\n            )\n          ),\n          Opacity(\n            opacity: appBarAlpha,\n            child: Container(\n              height: 60,\n              decoration: BoxDecoration(color: Colors.white),\n              child: Center(\n                child: Padding(\n                  padding: EdgeInsets.only(top: 20),\n                  child: Text('')\n                )\n              ),\n            ),\n          ),\n        ]\n      )\n    );\n  }\n}\n\n```\n","source":"_posts/flutter-3.md","raw":"---\ntitle: Flutter - Flutter \ndate: 2020-06-02 15:09:46\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### Flutter \n\n<!-- more -->\n\n### Flutter\n\n1.https://github.com/flutter/flutter/tree/master/examples\n\n2.https://github.com/flutter/samples\n\n3.https://github.com/nisrulz/flutter-examples\n\n4.https://github.com/iampawan/FlutterExampleApps\n\n### BottomNavigationBar \n\nBottomNavigationBarPageView\n\n```\nimport 'package:flutter/material.dart';\nimport 'package:flutter_trip/pages/home_page.dart';\nimport 'package:flutter_trip/pages/my_page.dart';\nimport 'package:flutter_trip/pages/search_page.dart';\nimport 'package:flutter_trip/pages/travel_page.dart';\n\nclass TabNavigator extends StatefulWidget {\n  @override\n  _TabNavigatorState createState() => _TabNavigatorState();\n}\n\nclass _TabNavigatorState extends State<TabNavigator> {\n  final _defaultColor = Colors.grey;\n  final _activeColor = Colors.blue;\n  int _currentIndex = 0;\n  final PageController _controller = PageController();\n  \n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: PageView(\n        controller: _controller,\n        children: <Widget>[\n          HomePage(),\n          SearchPage(),\n          TravelPage(),\n          MyPage(),\n        ],\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex, //\n        onTap: (index) {\n          _controller.jumpToPage(index); //index\n          setState(() {\n            _currentIndex = index;\n          });\n        }, \n        type: BottomNavigationBarType.fixed,\n        items: [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home, color: _defaultColor),\n            activeIcon: Icon(Icons.home, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 0 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.search, color: _defaultColor),\n            activeIcon: Icon(Icons.search, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 1 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.camera_alt, color: _defaultColor),\n            activeIcon: Icon(Icons.camera_alt, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 2 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.account_circle, color: _defaultColor),\n            activeIcon: Icon(Icons.account_circle, color: _activeColor),\n            title: Text(\n              '',\n              style: TextStyle(\n                color: _currentIndex != 3 ? _defaultColor : _activeColor\n              )\n            )\n          ),\n        ] \n      ),\n    );\n  }\n}\n\n```\n\n### \n\nhttps://github.com/best-flutter/flutter_swiper/blob/master/README-ZH.md\n\n```\nflutter_swiper: ^1.1.4\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_swiper/flutter_swiper.dart';\n\nclass HomePage extends StatefulWidget {\n  @override\n  _HomePageState createState() => _HomePageState();\n}\n\nclass _HomePageState extends State<HomePage> {\n  List _imageUrls = [\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150'\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          children:<Widget>[\n            Container(\n              height: 160,\n              child: Swiper(\n                itemCount: _imageUrls.length,\n                autoplay: true,\n                itemBuilder: (BuildContext context, int index) {\n                  return Image.network(\n                    _imageUrls[index],\n                    fit: BoxFit.fill\n                  );\n                },\n                pagination:SwiperPagination(),\n              )\n            )\n          ]\n        ),\n      ),\n    );\n  }\n}\n\n```\n\n### \n\nListViewNotificationListener(), MediaQuery.removePaddingStackWidget\n\n```\nimport 'package:flutter/material.dart';\nimport 'package:flutter_swiper/flutter_swiper.dart';\n\nconst APPBAR_SCROLL_OFFSET = 100;\n\nclass HomePage extends StatefulWidget {\n  @override\n  _HomePageState createState() => _HomePageState();\n}\n\nclass _HomePageState extends State<HomePage> {\n  List _imageUrls = [\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150',\n    'http://via.placeholder.com/350x150'\n  ];\n\n  double appBarAlpha = 0;\n\n  //\n  _onScroll(offset) {\n    double alpha = offset / APPBAR_SCROLL_OFFSET;\n    print(alpha);\n    if (alpha < 0) {\n      alpha = 0;\n    }else if (alpha > 1) {\n      alpha = 1;\n    }\n     \n    setState(() {\n      appBarAlpha = alpha;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Stack(\n        children: <Widget> [\n          MediaQuery.removePadding(\n            removeTop: true,\n            context: context, \n            child: NotificationListener(\n              onNotification: (scrollNotification) {\n                if (scrollNotification is ScrollNotification && scrollNotification.depth == 0) {\n                  _onScroll(scrollNotification.metrics.pixels);\n                 \n                }    \n              },\n              child: ListView(\n                children: <Widget>[\n                  Container(\n                    height: 160,\n                    child: Swiper(\n                      itemCount: _imageUrls.length,\n                      autoplay: true,\n                      itemBuilder: (BuildContext context, int index) {\n                        return Image.network(\n                          _imageUrls[index],\n                          fit: BoxFit.fill\n                        );\n                      },\n                      pagination:SwiperPagination(),\n                    )\n                  )\n                ]\n              )\n            )\n          ),\n          Opacity(\n            opacity: appBarAlpha,\n            child: Container(\n              height: 60,\n              decoration: BoxDecoration(color: Colors.white),\n              child: Center(\n                child: Padding(\n                  padding: EdgeInsets.only(top: 20),\n                  child: Text('')\n                )\n              ),\n            ),\n          ),\n        ]\n      )\n    );\n  }\n}\n\n```\n","slug":"flutter-3","published":1,"updated":"2020-06-02T08:59:24.328Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq428001rhe6j0c9rt6yr","content":"<h3 id=\"Flutter-\"><a href=\"#Flutter-\" class=\"headerlink\" title=\"Flutter \"></a>Flutter </h3><a id=\"more\"></a>\n<h3 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h3><p>1.<a href=\"https://github.com/flutter/flutter/tree/master/examples\" target=\"_blank\" rel=\"noopener\">https://github.com/flutter/flutter/tree/master/examples</a></p>\n<p>2.<a href=\"https://github.com/flutter/samples\" target=\"_blank\" rel=\"noopener\">https://github.com/flutter/samples</a></p>\n<p>3.<a href=\"https://github.com/nisrulz/flutter-examples\" target=\"_blank\" rel=\"noopener\">https://github.com/nisrulz/flutter-examples</a></p>\n<p>4.<a href=\"https://github.com/iampawan/FlutterExampleApps\" target=\"_blank\" rel=\"noopener\">https://github.com/iampawan/FlutterExampleApps</a></p>\n<h3 id=\"BottomNavigationBar-\"><a href=\"#BottomNavigationBar-\" class=\"headerlink\" title=\"BottomNavigationBar \"></a>BottomNavigationBar </h3><p>BottomNavigationBarPageView</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/home_page.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/my_page.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/search_page.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/travel_page.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class TabNavigator extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _TabNavigatorState createState() =&gt; _TabNavigatorState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _TabNavigatorState extends State&lt;TabNavigator&gt; &#123;</span><br><span class=\"line\">  final _defaultColor = Colors.grey;</span><br><span class=\"line\">  final _activeColor = Colors.blue;</span><br><span class=\"line\">  int _currentIndex = 0;</span><br><span class=\"line\">  final PageController _controller = PageController();</span><br><span class=\"line\">  </span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: PageView(</span><br><span class=\"line\">        controller: _controller,</span><br><span class=\"line\">        children: &lt;Widget&gt;[</span><br><span class=\"line\">          HomePage(),</span><br><span class=\"line\">          SearchPage(),</span><br><span class=\"line\">          TravelPage(),</span><br><span class=\"line\">          MyPage(),</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      bottomNavigationBar: BottomNavigationBar(</span><br><span class=\"line\">        currentIndex: _currentIndex, //</span><br><span class=\"line\">        onTap: (index) &#123;</span><br><span class=\"line\">          _controller.jumpToPage(index); //index</span><br><span class=\"line\">          setState(() &#123;</span><br><span class=\"line\">            _currentIndex = index;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        type: BottomNavigationBarType.fixed,</span><br><span class=\"line\">        items: [</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.home, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.home, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 0 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.search, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.search, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 1 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.camera_alt, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.camera_alt, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 2 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.account_circle, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.account_circle, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 3 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ] </span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://github.com/best-flutter/flutter_swiper/blob/master/README-ZH.md\" target=\"_blank\" rel=\"noopener\">https://github.com/best-flutter/flutter_swiper/blob/master/README-ZH.md</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter_swiper: ^1.1.4</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_swiper/flutter_swiper.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class HomePage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _HomePageState createState() =&gt; _HomePageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _HomePageState extends State&lt;HomePage&gt; &#123;</span><br><span class=\"line\">  List _imageUrls = [</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;</span><br><span class=\"line\">  ];</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Center(</span><br><span class=\"line\">        child: Column(</span><br><span class=\"line\">          children:&lt;Widget&gt;[</span><br><span class=\"line\">            Container(</span><br><span class=\"line\">              height: 160,</span><br><span class=\"line\">              child: Swiper(</span><br><span class=\"line\">                itemCount: _imageUrls.length,</span><br><span class=\"line\">                autoplay: true,</span><br><span class=\"line\">                itemBuilder: (BuildContext context, int index) &#123;</span><br><span class=\"line\">                  return Image.network(</span><br><span class=\"line\">                    _imageUrls[index],</span><br><span class=\"line\">                    fit: BoxFit.fill</span><br><span class=\"line\">                  );</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                pagination:SwiperPagination(),</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ListViewNotificationListener(), MediaQuery.removePaddingStackWidget</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_swiper/flutter_swiper.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const APPBAR_SCROLL_OFFSET = 100;</span><br><span class=\"line\"></span><br><span class=\"line\">class HomePage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _HomePageState createState() =&gt; _HomePageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _HomePageState extends State&lt;HomePage&gt; &#123;</span><br><span class=\"line\">  List _imageUrls = [</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;</span><br><span class=\"line\">  ];</span><br><span class=\"line\"></span><br><span class=\"line\">  double appBarAlpha = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  _onScroll(offset) &#123;</span><br><span class=\"line\">    double alpha = offset / APPBAR_SCROLL_OFFSET;</span><br><span class=\"line\">    print(alpha);</span><br><span class=\"line\">    if (alpha &lt; 0) &#123;</span><br><span class=\"line\">      alpha = 0;</span><br><span class=\"line\">    &#125;else if (alpha &gt; 1) &#123;</span><br><span class=\"line\">      alpha = 1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      appBarAlpha = alpha;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Stack(</span><br><span class=\"line\">        children: &lt;Widget&gt; [</span><br><span class=\"line\">          MediaQuery.removePadding(</span><br><span class=\"line\">            removeTop: true,</span><br><span class=\"line\">            context: context, </span><br><span class=\"line\">            child: NotificationListener(</span><br><span class=\"line\">              onNotification: (scrollNotification) &#123;</span><br><span class=\"line\">                if (scrollNotification is ScrollNotification &amp;&amp; scrollNotification.depth == 0) &#123;</span><br><span class=\"line\">                  _onScroll(scrollNotification.metrics.pixels);</span><br><span class=\"line\">                 </span><br><span class=\"line\">                &#125;    </span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">              child: ListView(</span><br><span class=\"line\">                children: &lt;Widget&gt;[</span><br><span class=\"line\">                  Container(</span><br><span class=\"line\">                    height: 160,</span><br><span class=\"line\">                    child: Swiper(</span><br><span class=\"line\">                      itemCount: _imageUrls.length,</span><br><span class=\"line\">                      autoplay: true,</span><br><span class=\"line\">                      itemBuilder: (BuildContext context, int index) &#123;</span><br><span class=\"line\">                        return Image.network(</span><br><span class=\"line\">                          _imageUrls[index],</span><br><span class=\"line\">                          fit: BoxFit.fill</span><br><span class=\"line\">                        );</span><br><span class=\"line\">                      &#125;,</span><br><span class=\"line\">                      pagination:SwiperPagination(),</span><br><span class=\"line\">                    )</span><br><span class=\"line\">                  )</span><br><span class=\"line\">                ]</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          Opacity(</span><br><span class=\"line\">            opacity: appBarAlpha,</span><br><span class=\"line\">            child: Container(</span><br><span class=\"line\">              height: 60,</span><br><span class=\"line\">              decoration: BoxDecoration(color: Colors.white),</span><br><span class=\"line\">              child: Center(</span><br><span class=\"line\">                child: Padding(</span><br><span class=\"line\">                  padding: EdgeInsets.only(top: 20),</span><br><span class=\"line\">                  child: Text(&apos;&apos;)</span><br><span class=\"line\">                )</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"Flutter-\"><a href=\"#Flutter-\" class=\"headerlink\" title=\"Flutter \"></a>Flutter </h3>","more":"<h3 id=\"Flutter\"><a href=\"#Flutter\" class=\"headerlink\" title=\"Flutter\"></a>Flutter</h3><p>1.<a href=\"https://github.com/flutter/flutter/tree/master/examples\" target=\"_blank\" rel=\"noopener\">https://github.com/flutter/flutter/tree/master/examples</a></p>\n<p>2.<a href=\"https://github.com/flutter/samples\" target=\"_blank\" rel=\"noopener\">https://github.com/flutter/samples</a></p>\n<p>3.<a href=\"https://github.com/nisrulz/flutter-examples\" target=\"_blank\" rel=\"noopener\">https://github.com/nisrulz/flutter-examples</a></p>\n<p>4.<a href=\"https://github.com/iampawan/FlutterExampleApps\" target=\"_blank\" rel=\"noopener\">https://github.com/iampawan/FlutterExampleApps</a></p>\n<h3 id=\"BottomNavigationBar-\"><a href=\"#BottomNavigationBar-\" class=\"headerlink\" title=\"BottomNavigationBar \"></a>BottomNavigationBar </h3><p>BottomNavigationBarPageView</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/home_page.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/my_page.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/search_page.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_trip/pages/travel_page.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class TabNavigator extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _TabNavigatorState createState() =&gt; _TabNavigatorState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _TabNavigatorState extends State&lt;TabNavigator&gt; &#123;</span><br><span class=\"line\">  final _defaultColor = Colors.grey;</span><br><span class=\"line\">  final _activeColor = Colors.blue;</span><br><span class=\"line\">  int _currentIndex = 0;</span><br><span class=\"line\">  final PageController _controller = PageController();</span><br><span class=\"line\">  </span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: PageView(</span><br><span class=\"line\">        controller: _controller,</span><br><span class=\"line\">        children: &lt;Widget&gt;[</span><br><span class=\"line\">          HomePage(),</span><br><span class=\"line\">          SearchPage(),</span><br><span class=\"line\">          TravelPage(),</span><br><span class=\"line\">          MyPage(),</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      bottomNavigationBar: BottomNavigationBar(</span><br><span class=\"line\">        currentIndex: _currentIndex, //</span><br><span class=\"line\">        onTap: (index) &#123;</span><br><span class=\"line\">          _controller.jumpToPage(index); //index</span><br><span class=\"line\">          setState(() &#123;</span><br><span class=\"line\">            _currentIndex = index;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        type: BottomNavigationBarType.fixed,</span><br><span class=\"line\">        items: [</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.home, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.home, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 0 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.search, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.search, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 1 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.camera_alt, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.camera_alt, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 2 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          BottomNavigationBarItem(</span><br><span class=\"line\">            icon: Icon(Icons.account_circle, color: _defaultColor),</span><br><span class=\"line\">            activeIcon: Icon(Icons.account_circle, color: _activeColor),</span><br><span class=\"line\">            title: Text(</span><br><span class=\"line\">              &apos;&apos;,</span><br><span class=\"line\">              style: TextStyle(</span><br><span class=\"line\">                color: _currentIndex != 3 ? _defaultColor : _activeColor</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ] </span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://github.com/best-flutter/flutter_swiper/blob/master/README-ZH.md\" target=\"_blank\" rel=\"noopener\">https://github.com/best-flutter/flutter_swiper/blob/master/README-ZH.md</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter_swiper: ^1.1.4</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_swiper/flutter_swiper.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class HomePage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _HomePageState createState() =&gt; _HomePageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _HomePageState extends State&lt;HomePage&gt; &#123;</span><br><span class=\"line\">  List _imageUrls = [</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;</span><br><span class=\"line\">  ];</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Center(</span><br><span class=\"line\">        child: Column(</span><br><span class=\"line\">          children:&lt;Widget&gt;[</span><br><span class=\"line\">            Container(</span><br><span class=\"line\">              height: 160,</span><br><span class=\"line\">              child: Swiper(</span><br><span class=\"line\">                itemCount: _imageUrls.length,</span><br><span class=\"line\">                autoplay: true,</span><br><span class=\"line\">                itemBuilder: (BuildContext context, int index) &#123;</span><br><span class=\"line\">                  return Image.network(</span><br><span class=\"line\">                    _imageUrls[index],</span><br><span class=\"line\">                    fit: BoxFit.fill</span><br><span class=\"line\">                  );</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                pagination:SwiperPagination(),</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ListViewNotificationListener(), MediaQuery.removePaddingStackWidget</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_swiper/flutter_swiper.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const APPBAR_SCROLL_OFFSET = 100;</span><br><span class=\"line\"></span><br><span class=\"line\">class HomePage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _HomePageState createState() =&gt; _HomePageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _HomePageState extends State&lt;HomePage&gt; &#123;</span><br><span class=\"line\">  List _imageUrls = [</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;,</span><br><span class=\"line\">    &apos;http://via.placeholder.com/350x150&apos;</span><br><span class=\"line\">  ];</span><br><span class=\"line\"></span><br><span class=\"line\">  double appBarAlpha = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  _onScroll(offset) &#123;</span><br><span class=\"line\">    double alpha = offset / APPBAR_SCROLL_OFFSET;</span><br><span class=\"line\">    print(alpha);</span><br><span class=\"line\">    if (alpha &lt; 0) &#123;</span><br><span class=\"line\">      alpha = 0;</span><br><span class=\"line\">    &#125;else if (alpha &gt; 1) &#123;</span><br><span class=\"line\">      alpha = 1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      appBarAlpha = alpha;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Stack(</span><br><span class=\"line\">        children: &lt;Widget&gt; [</span><br><span class=\"line\">          MediaQuery.removePadding(</span><br><span class=\"line\">            removeTop: true,</span><br><span class=\"line\">            context: context, </span><br><span class=\"line\">            child: NotificationListener(</span><br><span class=\"line\">              onNotification: (scrollNotification) &#123;</span><br><span class=\"line\">                if (scrollNotification is ScrollNotification &amp;&amp; scrollNotification.depth == 0) &#123;</span><br><span class=\"line\">                  _onScroll(scrollNotification.metrics.pixels);</span><br><span class=\"line\">                 </span><br><span class=\"line\">                &#125;    </span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">              child: ListView(</span><br><span class=\"line\">                children: &lt;Widget&gt;[</span><br><span class=\"line\">                  Container(</span><br><span class=\"line\">                    height: 160,</span><br><span class=\"line\">                    child: Swiper(</span><br><span class=\"line\">                      itemCount: _imageUrls.length,</span><br><span class=\"line\">                      autoplay: true,</span><br><span class=\"line\">                      itemBuilder: (BuildContext context, int index) &#123;</span><br><span class=\"line\">                        return Image.network(</span><br><span class=\"line\">                          _imageUrls[index],</span><br><span class=\"line\">                          fit: BoxFit.fill</span><br><span class=\"line\">                        );</span><br><span class=\"line\">                      &#125;,</span><br><span class=\"line\">                      pagination:SwiperPagination(),</span><br><span class=\"line\">                    )</span><br><span class=\"line\">                  )</span><br><span class=\"line\">                ]</span><br><span class=\"line\">              )</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ),</span><br><span class=\"line\">          Opacity(</span><br><span class=\"line\">            opacity: appBarAlpha,</span><br><span class=\"line\">            child: Container(</span><br><span class=\"line\">              height: 60,</span><br><span class=\"line\">              decoration: BoxDecoration(color: Colors.white),</span><br><span class=\"line\">              child: Center(</span><br><span class=\"line\">                child: Padding(</span><br><span class=\"line\">                  padding: EdgeInsets.only(top: 20),</span><br><span class=\"line\">                  child: Text(&apos;&apos;)</span><br><span class=\"line\">                )</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          ),</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Flutter - ","date":"2020-06-05T01:58:42.000Z","_content":"\n### \n\n<!-- more -->\n\n### \n\n1.scrollDirection: Axis.horizontal \n\n2.toList()List\n\n```\nconst CITY_NAMES = ['','','','','','','','',''];\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        height: 100,\n        child:ListView(\n          scrollDirection: Axis.horizontal,\n          children:  _buildList()\n        )\n      )\n    );\n  }\n\n  List<Widget>_buildList() {\n    return CITY_NAMES.map((city) => _item(city)).toList();\n  }\n  \n  Widget _item(city) {\n    return Container(\n      width: 160,\n      margin: EdgeInsets.only(right:15),\n      alignment:Alignment.center,\n      decoration: BoxDecoration(color: Colors.teal),\n      child: Text(\n        city,\n        style: TextStyle(color: Colors.white, fontSize: 20),\n      ),\n    );\n  }\n}\n\n```\n\n### \n\nwidgetsListkeysExpansionTileWidget\n\n```\nconst CITY_NAMES = {\n  '': ['','','','',''],\n  '': ['', '','',''],\n  '': ['','',''],\n};\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        child:ListView(\n          children:  _buildList()\n        )\n      )\n    );\n  }\n\n  List<Widget>_buildList() {\n    List<Widget> widgets = [];\n    CITY_NAMES.keys.forEach((key) {\n      widgets.add(_item(key,CITY_NAMES[key]));\n    });\n    return widgets;\n  }\n  \n  Widget _item(String city, List<String> subCities) {\n    return ExpansionTile(\n      title: Text(\n        city,\n        style: TextStyle(color: Colors.black54,fontSize: 20),\n      ),\n      children: subCities.map((subCity) => _buildSub(subCity)).toList()\n    );\n  }\n\n  Widget _buildSub(String subCity) {\n    return FractionallySizedBox(\n      widthFactor: 1,\n      child: Container(\n        height: 50,\n        margin: EdgeInsets.only(bottom:5),\n        decoration: BoxDecoration(color: Colors.black54),\n        child: Text(subCity),\n      ),\n    );\n  }\n}\n```\n\n### \n\nGridView.count\n\n```\nconst CITY_NAMES = ['','','','','','','','',''];\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: GridView.count(\n          crossAxisCount: 4,\n          children: _buildList(),\n        )\n    );\n  }\n\n  List<Widget>_buildList() {\n    return CITY_NAMES.map((city) => _item(city)).toList();\n  }\n  \n  Widget _item(city) {\n    return Container(\n      height: 80,\n      margin: EdgeInsets.only(bottom: 5),\n      alignment:Alignment.center,\n      decoration: BoxDecoration(color: Colors.teal),\n      child: Text(\n        city,\n        style: TextStyle(color: Colors.white, fontSize: 20),\n      ),\n    );\n  }\n}\n\n```\n\n### \n\n1.RefreshIndicatoronRefresh\n\n2.ScrollController(), initStatedispose\n\n```\nconst CITY_NAMES = ['','','','','','','','',''];\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n\n  List<String> cityNames =  ['','','','','','','','',''];\n\n  ScrollController _scrollController = ScrollController();\n\n  @override\n  void initState() {\n    _scrollController.addListener(() {\n      if(_scrollController.position.pixels == _scrollController.position.maxScrollExtent) {\n        _loadData();\n      }\n    });\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _scrollController.dispose();\n    super.dispose();\n  }\n\n  _loadData() async {\n    await Future.delayed(Duration(milliseconds: 200));\n\n    setState(() {\n      List<String> list = List<String>.from(cityNames);\n      list.addAll(cityNames);\n      cityNames = list;\n    });\n\n    print('');\n  }\n\n  Future<Null> _handleRefresh() async {\n    await Future.delayed(Duration(seconds: 2));\n    setState(() {\n      cityNames = cityNames.reversed.toList();\n    });\n    print('');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: RefreshIndicator(\n        child: ListView(\n          controller: _scrollController,\n          children: _buildList()\n        ), \n        onRefresh: _handleRefresh\n      )\n    );\n  }\n  \n  List<Widget>_buildList() {\n    return cityNames.map((city) => _item(city)).toList();\n  }\n  \n  Widget _item(city) {\n    return Container(\n      height: 80,\n      margin: EdgeInsets.only(bottom: 5),\n      alignment:Alignment.center,\n      decoration: BoxDecoration(color: Colors.teal),\n      child: Text(\n        city,\n        style: TextStyle(color: Colors.white, fontSize: 20),\n      ),\n    );\n  }\n}\n```\n","source":"_posts/flutter-4-list.md","raw":"---\ntitle: Flutter - \ndate: 2020-06-05 09:58:42\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### \n\n<!-- more -->\n\n### \n\n1.scrollDirection: Axis.horizontal \n\n2.toList()List\n\n```\nconst CITY_NAMES = ['','','','','','','','',''];\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        height: 100,\n        child:ListView(\n          scrollDirection: Axis.horizontal,\n          children:  _buildList()\n        )\n      )\n    );\n  }\n\n  List<Widget>_buildList() {\n    return CITY_NAMES.map((city) => _item(city)).toList();\n  }\n  \n  Widget _item(city) {\n    return Container(\n      width: 160,\n      margin: EdgeInsets.only(right:15),\n      alignment:Alignment.center,\n      decoration: BoxDecoration(color: Colors.teal),\n      child: Text(\n        city,\n        style: TextStyle(color: Colors.white, fontSize: 20),\n      ),\n    );\n  }\n}\n\n```\n\n### \n\nwidgetsListkeysExpansionTileWidget\n\n```\nconst CITY_NAMES = {\n  '': ['','','','',''],\n  '': ['', '','',''],\n  '': ['','',''],\n};\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        child:ListView(\n          children:  _buildList()\n        )\n      )\n    );\n  }\n\n  List<Widget>_buildList() {\n    List<Widget> widgets = [];\n    CITY_NAMES.keys.forEach((key) {\n      widgets.add(_item(key,CITY_NAMES[key]));\n    });\n    return widgets;\n  }\n  \n  Widget _item(String city, List<String> subCities) {\n    return ExpansionTile(\n      title: Text(\n        city,\n        style: TextStyle(color: Colors.black54,fontSize: 20),\n      ),\n      children: subCities.map((subCity) => _buildSub(subCity)).toList()\n    );\n  }\n\n  Widget _buildSub(String subCity) {\n    return FractionallySizedBox(\n      widthFactor: 1,\n      child: Container(\n        height: 50,\n        margin: EdgeInsets.only(bottom:5),\n        decoration: BoxDecoration(color: Colors.black54),\n        child: Text(subCity),\n      ),\n    );\n  }\n}\n```\n\n### \n\nGridView.count\n\n```\nconst CITY_NAMES = ['','','','','','','','',''];\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: GridView.count(\n          crossAxisCount: 4,\n          children: _buildList(),\n        )\n    );\n  }\n\n  List<Widget>_buildList() {\n    return CITY_NAMES.map((city) => _item(city)).toList();\n  }\n  \n  Widget _item(city) {\n    return Container(\n      height: 80,\n      margin: EdgeInsets.only(bottom: 5),\n      alignment:Alignment.center,\n      decoration: BoxDecoration(color: Colors.teal),\n      child: Text(\n        city,\n        style: TextStyle(color: Colors.white, fontSize: 20),\n      ),\n    );\n  }\n}\n\n```\n\n### \n\n1.RefreshIndicatoronRefresh\n\n2.ScrollController(), initStatedispose\n\n```\nconst CITY_NAMES = ['','','','','','','','',''];\n\nclass SearchPage extends StatefulWidget {\n  @override\n  _SearchPageState createState() => _SearchPageState();\n}\n\nclass _SearchPageState extends State<SearchPage> {\n\n  List<String> cityNames =  ['','','','','','','','',''];\n\n  ScrollController _scrollController = ScrollController();\n\n  @override\n  void initState() {\n    _scrollController.addListener(() {\n      if(_scrollController.position.pixels == _scrollController.position.maxScrollExtent) {\n        _loadData();\n      }\n    });\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _scrollController.dispose();\n    super.dispose();\n  }\n\n  _loadData() async {\n    await Future.delayed(Duration(milliseconds: 200));\n\n    setState(() {\n      List<String> list = List<String>.from(cityNames);\n      list.addAll(cityNames);\n      cityNames = list;\n    });\n\n    print('');\n  }\n\n  Future<Null> _handleRefresh() async {\n    await Future.delayed(Duration(seconds: 2));\n    setState(() {\n      cityNames = cityNames.reversed.toList();\n    });\n    print('');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: RefreshIndicator(\n        child: ListView(\n          controller: _scrollController,\n          children: _buildList()\n        ), \n        onRefresh: _handleRefresh\n      )\n    );\n  }\n  \n  List<Widget>_buildList() {\n    return cityNames.map((city) => _item(city)).toList();\n  }\n  \n  Widget _item(city) {\n    return Container(\n      height: 80,\n      margin: EdgeInsets.only(bottom: 5),\n      alignment:Alignment.center,\n      decoration: BoxDecoration(color: Colors.teal),\n      child: Text(\n        city,\n        style: TextStyle(color: Colors.white, fontSize: 20),\n      ),\n    );\n  }\n}\n```\n","slug":"flutter-4-list","published":1,"updated":"2020-06-05T01:59:34.612Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42a001vhe6j1wdl3af1","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.scrollDirection: Axis.horizontal </p>\n<p>2.toList()List</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Container(</span><br><span class=\"line\">        height: 100,</span><br><span class=\"line\">        child:ListView(</span><br><span class=\"line\">          scrollDirection: Axis.horizontal,</span><br><span class=\"line\">          children:  _buildList()</span><br><span class=\"line\">        )</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    return CITY_NAMES.map((city) =&gt; _item(city)).toList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(city) &#123;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      width: 160,</span><br><span class=\"line\">      margin: EdgeInsets.only(right:15),</span><br><span class=\"line\">      alignment:Alignment.center,</span><br><span class=\"line\">      decoration: BoxDecoration(color: Colors.teal),</span><br><span class=\"line\">      child: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.white, fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>widgetsListkeysExpansionTileWidget</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = &#123;</span><br><span class=\"line\">  &apos;&apos;: [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;],</span><br><span class=\"line\">  &apos;&apos;: [&apos;&apos;, &apos;&apos;,&apos;&apos;,&apos;&apos;],</span><br><span class=\"line\">  &apos;&apos;: [&apos;&apos;,&apos;&apos;,&apos;&apos;],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Container(</span><br><span class=\"line\">        child:ListView(</span><br><span class=\"line\">          children:  _buildList()</span><br><span class=\"line\">        )</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    List&lt;Widget&gt; widgets = [];</span><br><span class=\"line\">    CITY_NAMES.keys.forEach((key) &#123;</span><br><span class=\"line\">      widgets.add(_item(key,CITY_NAMES[key]));</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return widgets;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(String city, List&lt;String&gt; subCities) &#123;</span><br><span class=\"line\">    return ExpansionTile(</span><br><span class=\"line\">      title: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.black54,fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      children: subCities.map((subCity) =&gt; _buildSub(subCity)).toList()</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  Widget _buildSub(String subCity) &#123;</span><br><span class=\"line\">    return FractionallySizedBox(</span><br><span class=\"line\">      widthFactor: 1,</span><br><span class=\"line\">      child: Container(</span><br><span class=\"line\">        height: 50,</span><br><span class=\"line\">        margin: EdgeInsets.only(bottom:5),</span><br><span class=\"line\">        decoration: BoxDecoration(color: Colors.black54),</span><br><span class=\"line\">        child: Text(subCity),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>GridView.count</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: GridView.count(</span><br><span class=\"line\">          crossAxisCount: 4,</span><br><span class=\"line\">          children: _buildList(),</span><br><span class=\"line\">        )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    return CITY_NAMES.map((city) =&gt; _item(city)).toList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(city) &#123;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      height: 80,</span><br><span class=\"line\">      margin: EdgeInsets.only(bottom: 5),</span><br><span class=\"line\">      alignment:Alignment.center,</span><br><span class=\"line\">      decoration: BoxDecoration(color: Colors.teal),</span><br><span class=\"line\">      child: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.white, fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.RefreshIndicatoronRefresh</p>\n<p>2.ScrollController(), initStatedispose</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;String&gt; cityNames =  [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">  ScrollController _scrollController = ScrollController();</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void initState() &#123;</span><br><span class=\"line\">    _scrollController.addListener(() &#123;</span><br><span class=\"line\">      if(_scrollController.position.pixels == _scrollController.position.maxScrollExtent) &#123;</span><br><span class=\"line\">        _loadData();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    super.initState();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void dispose() &#123;</span><br><span class=\"line\">    _scrollController.dispose();</span><br><span class=\"line\">    super.dispose();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  _loadData() async &#123;</span><br><span class=\"line\">    await Future.delayed(Duration(milliseconds: 200));</span><br><span class=\"line\"></span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      List&lt;String&gt; list = List&lt;String&gt;.from(cityNames);</span><br><span class=\"line\">      list.addAll(cityNames);</span><br><span class=\"line\">      cityNames = list;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    print(&apos;&apos;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  Future&lt;Null&gt; _handleRefresh() async &#123;</span><br><span class=\"line\">    await Future.delayed(Duration(seconds: 2));</span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      cityNames = cityNames.reversed.toList();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    print(&apos;&apos;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: RefreshIndicator(</span><br><span class=\"line\">        child: ListView(</span><br><span class=\"line\">          controller: _scrollController,</span><br><span class=\"line\">          children: _buildList()</span><br><span class=\"line\">        ), </span><br><span class=\"line\">        onRefresh: _handleRefresh</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    return cityNames.map((city) =&gt; _item(city)).toList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(city) &#123;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      height: 80,</span><br><span class=\"line\">      margin: EdgeInsets.only(bottom: 5),</span><br><span class=\"line\">      alignment:Alignment.center,</span><br><span class=\"line\">      decoration: BoxDecoration(color: Colors.teal),</span><br><span class=\"line\">      child: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.white, fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.scrollDirection: Axis.horizontal </p>\n<p>2.toList()List</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Container(</span><br><span class=\"line\">        height: 100,</span><br><span class=\"line\">        child:ListView(</span><br><span class=\"line\">          scrollDirection: Axis.horizontal,</span><br><span class=\"line\">          children:  _buildList()</span><br><span class=\"line\">        )</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    return CITY_NAMES.map((city) =&gt; _item(city)).toList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(city) &#123;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      width: 160,</span><br><span class=\"line\">      margin: EdgeInsets.only(right:15),</span><br><span class=\"line\">      alignment:Alignment.center,</span><br><span class=\"line\">      decoration: BoxDecoration(color: Colors.teal),</span><br><span class=\"line\">      child: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.white, fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>widgetsListkeysExpansionTileWidget</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = &#123;</span><br><span class=\"line\">  &apos;&apos;: [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;],</span><br><span class=\"line\">  &apos;&apos;: [&apos;&apos;, &apos;&apos;,&apos;&apos;,&apos;&apos;],</span><br><span class=\"line\">  &apos;&apos;: [&apos;&apos;,&apos;&apos;,&apos;&apos;],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Container(</span><br><span class=\"line\">        child:ListView(</span><br><span class=\"line\">          children:  _buildList()</span><br><span class=\"line\">        )</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    List&lt;Widget&gt; widgets = [];</span><br><span class=\"line\">    CITY_NAMES.keys.forEach((key) &#123;</span><br><span class=\"line\">      widgets.add(_item(key,CITY_NAMES[key]));</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return widgets;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(String city, List&lt;String&gt; subCities) &#123;</span><br><span class=\"line\">    return ExpansionTile(</span><br><span class=\"line\">      title: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.black54,fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      children: subCities.map((subCity) =&gt; _buildSub(subCity)).toList()</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  Widget _buildSub(String subCity) &#123;</span><br><span class=\"line\">    return FractionallySizedBox(</span><br><span class=\"line\">      widthFactor: 1,</span><br><span class=\"line\">      child: Container(</span><br><span class=\"line\">        height: 50,</span><br><span class=\"line\">        margin: EdgeInsets.only(bottom:5),</span><br><span class=\"line\">        decoration: BoxDecoration(color: Colors.black54),</span><br><span class=\"line\">        child: Text(subCity),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>GridView.count</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: GridView.count(</span><br><span class=\"line\">          crossAxisCount: 4,</span><br><span class=\"line\">          children: _buildList(),</span><br><span class=\"line\">        )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    return CITY_NAMES.map((city) =&gt; _item(city)).toList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(city) &#123;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      height: 80,</span><br><span class=\"line\">      margin: EdgeInsets.only(bottom: 5),</span><br><span class=\"line\">      alignment:Alignment.center,</span><br><span class=\"line\">      decoration: BoxDecoration(color: Colors.teal),</span><br><span class=\"line\">      child: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.white, fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.RefreshIndicatoronRefresh</p>\n<p>2.ScrollController(), initStatedispose</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class SearchPage extends StatefulWidget &#123;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _SearchPageState createState() =&gt; _SearchPageState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _SearchPageState extends State&lt;SearchPage&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;String&gt; cityNames =  [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">  ScrollController _scrollController = ScrollController();</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void initState() &#123;</span><br><span class=\"line\">    _scrollController.addListener(() &#123;</span><br><span class=\"line\">      if(_scrollController.position.pixels == _scrollController.position.maxScrollExtent) &#123;</span><br><span class=\"line\">        _loadData();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    super.initState();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void dispose() &#123;</span><br><span class=\"line\">    _scrollController.dispose();</span><br><span class=\"line\">    super.dispose();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  _loadData() async &#123;</span><br><span class=\"line\">    await Future.delayed(Duration(milliseconds: 200));</span><br><span class=\"line\"></span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      List&lt;String&gt; list = List&lt;String&gt;.from(cityNames);</span><br><span class=\"line\">      list.addAll(cityNames);</span><br><span class=\"line\">      cityNames = list;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    print(&apos;&apos;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  Future&lt;Null&gt; _handleRefresh() async &#123;</span><br><span class=\"line\">    await Future.delayed(Duration(seconds: 2));</span><br><span class=\"line\">    setState(() &#123;</span><br><span class=\"line\">      cityNames = cityNames.reversed.toList();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    print(&apos;&apos;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: RefreshIndicator(</span><br><span class=\"line\">        child: ListView(</span><br><span class=\"line\">          controller: _scrollController,</span><br><span class=\"line\">          children: _buildList()</span><br><span class=\"line\">        ), </span><br><span class=\"line\">        onRefresh: _handleRefresh</span><br><span class=\"line\">      )</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  List&lt;Widget&gt;_buildList() &#123;</span><br><span class=\"line\">    return cityNames.map((city) =&gt; _item(city)).toList();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  Widget _item(city) &#123;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      height: 80,</span><br><span class=\"line\">      margin: EdgeInsets.only(bottom: 5),</span><br><span class=\"line\">      alignment:Alignment.center,</span><br><span class=\"line\">      decoration: BoxDecoration(color: Colors.teal),</span><br><span class=\"line\">      child: Text(</span><br><span class=\"line\">        city,</span><br><span class=\"line\">        style: TextStyle(color: Colors.white, fontSize: 20),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Flutter - ","date":"2020-06-08T01:42:14.000Z","_content":"\n### \n\n<!-- more -->\n\n### \n\n```\ndio: ^2.2.2\t\n\nimport 'package:cookie_jar/cookie_jar.dart';\nimport 'package:dio/dio.dart';\nimport 'package:fluttertoast/fluttertoast.dart';\n\nconst BASE_URL = 'xxx';\n\nclass HttpUtil {\n  static HttpUtil instance;\n  Dio dio;\n  BaseOptions options;\n\n  CancelToken cancelToken = CancelToken();\n\n  static HttpUtil getInstance() {\n    if (null == instance) instance = HttpUtil();\n    return instance;\n  }\n\n  /*\n   * config it and create\n   */\n  HttpUtil() {\n    //BaseOptionsOptionsRequestOptions \n    options = BaseOptions(\n      //,\n      baseUrl: BASE_URL,\n      //.\n      connectTimeout: 10000,\n      //\n      receiveTimeout: 5000,\n      //Http.\n      // headers: {\n      //   'Accept': 'application/json,*/*',\n      //   'Content-Type': 'application/json',\n      // },\n      //Content-Type\"application/json; charset=utf-8\",Headers.formUrlEncodedContentType.\n      // contentType: Headers.formUrlEncodedContentType,\n      //() `json`, `stream`, `plain`, `bytes`.  `json`,\n      // contentType: Headers.formUrlEncodedContentType,\n      responseType: ResponseType.plain,\n    );\n\n    dio = Dio(options);\n\n    //Cookie\n    dio.interceptors.add(CookieManager(CookieJar()));\n\n    //\n    dio.interceptors\n        .add(InterceptorsWrapper(onRequest: (RequestOptions options) {\n      print(\"\");\n   \n      // Do something before request is sent\n      return options; //continue\n    }, onResponse: (Response response) {\n      print(\"\");\n      \n      // Do something with response data\n      return response; // continue\n    }, onError: (DioError e) {\n      print(\"\");\n      // Do something with response error\n      return e; //continue\n    }));\n  }\n\n  /*\n   * get\n   */\n  get(url, {data, options, cancelToken}) async {\n    Response response;\n    try {\n      response = await dio.get(url,\n          queryParameters: data, options: options, cancelToken: cancelToken);\n      print('get success---------${response.statusCode}');\n      print('get success---------${response.data}');\n\n//      response.data; \n//      response.headers; \n//      response.request; \n//      response.statusCode; \n\n    } on DioError catch (e) {\n      print('get error---------$e');\n      formatError(e);\n    }\n    return response;\n  }\n\n  /*\n   * post\n   */\n  post(url, {data, options, cancelToken}) async {\n    \n    Response response;\n    try {\n      response = await dio.post(url,\n          queryParameters: data, options: options, cancelToken: cancelToken);\n      print('post success---------${response.data}');\n    } on DioError catch (e) {\n      print('post error---------$e');\n      formatError(e);\n    }\n    return response;\n  }\n\n  /*\n   * \n   */\n  downloadFile(urlPath, savePath) async {\n    Response response;\n    try {\n      response = await dio.download(urlPath, savePath,\n          onReceiveProgress: (int count, int total) {\n        //\n        print(\"$count $total\");\n      });\n      print('downloadFile success---------${response.data}');\n    } on DioError catch (e) {\n      print('downloadFile error---------$e');\n      formatError(e);\n    }\n    return response.data;\n  }\n\n  /*\n   * error\n   */\n  void formatError(DioError e) {\n    if (e.type == DioErrorType.CONNECT_TIMEOUT) {\n      // It occurs when url is opened timeout.\n      print(\"\");\n    } else if (e.type == DioErrorType.SEND_TIMEOUT) {\n      // It occurs when url is sent timeout.\n      print(\"\");\n    } else if (e.type == DioErrorType.RECEIVE_TIMEOUT) {\n      //It occurs when receiving timeout\n      print(\"\");\n    } else if (e.type == DioErrorType.RESPONSE) {\n      // When the server response, but with a incorrect status, such as 404, 503...\n      Fluttertoast.showToast(\n        msg: '',\n        toastLength: Toast.LENGTH_SHORT,\n        gravity: ToastGravity.CENTER,\n        timeInSecForIos: 1,         \n        fontSize: 16\n      );\n      print(\"\");\n    } else if (e.type == DioErrorType.CANCEL) {\n      // When the request is cancelled, dio will throw a error with this type.\n      print(\"\");\n    } else {\n      //DEFAULT Default error type, Some other Error. In this case, you can read the DioError.error if it is not null.\n      print(\"\");\n    }\n  }\n\n  /*\n   * \n   *\n   * cancel token cancel tokencancel token\n   * \n   */\n  void cancelRequests(CancelToken token) {\n    token.cancel(\"cancelled\");\n  }\n}\n```\n\n### Future\n\n#### Future\nFutureFutureFlutter\n\n> ES6PromisethencatchError\n\n```\nimport 'dart:async';\n\nFuturedart:asyncFuture\n\npending - \ncompleted - \n```\n\n#### Futurethen\n\n```\nFuture<String> testFuture() {\n  return Future.value('hello');\n}\n\n\ntestFuture().then((s) {\n  print(s);\n}, onError: (e) {\n  print(e);\n});\n\n```\n\n#### async await\n\n```\ntest() async {\n  int result = await Future.delayed(Duration(milliseconds: 2000),() {\n    return Future.value(1);\n  });\n\n  print('---$result');\n}\n```\n\n### JSON\n- jsonFlutterjsonDart\n\n#### JSON\n\n```\n{\n  \"id\":\"487349\",\n  \"name\":\"Pooja Bhaumik\",\n  \"score\" : 1000\n}\n\n// factory \nclass Student{\n  String studentId;\n  String studentName;\n  int studentScores;\n\n  Student({\n    this.studentId,\n    this.studentName,\n    this.studentScores\n  });\n\n  // Student.fromJson  json\n  //Map<String, dynamic>  String  dynamic \n  //Map<String, dynamic>  string  dynamic \n  factory Student.fromJson(Map<String, dynamic> parsedJson){\n    return Student(\n      studentId: parsedJson['id'],\n      studentName : parsedJson['name'],\n      studentScores : parsedJson ['score']\n    );\n  }\n}\n```\n\n```\n//\nFuture loadStudent() async {\n  String jsonString = await _loadAStudentAsset();\n  final jsonResponse = json.decode(jsonString); // json \n  // Student.fromJson  json  Student \n  Student student = new Student.fromJson(jsonResponse);\n  print(student.studentScores);\n}\n```\n####  JSON \n\n> DioJsonJson\n\n- responseType ResponseType.plainjson\n\n```\nresponseType: ResponseType.plain,\n```\n\n```\njson_annotation: ^2.0.0\nbuild_runner: ^1.0.0\njson_serializable: ^2.0.0\n```\n\n```\nimport 'package:json_annotation/json_annotation.dart';\n\n// user.g.dart \npart 'user.g.dart';\n\n//JSON\n@JsonSerializable(explicitToJson: true)\n\nclass User {\n  User(this.name, this.email);\n\n  String name;\n  String email;\n\n  //UserDart\n  factory User.fromJson(Map<String, dynamic> json) => _$UserFromJson(json);\n\n  //JSON\n  Map<String, dynamic> toJson() => _$UserToJson(this);\n}\n\n```\n-  - flutter packages pub run build_runner build\n\n```\n\n\ngetHttp() async { \n  try {\n      \n    var jsonString = await HttpUtil().get(\"/io/flutter_app/json/home_page.json\");\n\n    //jsonDecode()  JSON\n    Map userMap = jsonDecode(jsonString.data);\n\n    // JSON \n    var resultJson = HomeModel.fromJson(userMap); \n    print('-----------');\n    print(resultJson.config);\n  } catch (e) {\n    print(e);\n  }\n}\n```\n\n### shared_preferences\n\n- key-value\n- AndroidSharedPreferences\n- iOSNSUserDefaults\n\n```\nshared_preferences: ^0.5.3\n\nimport 'package:shared_preferences/shared_preferences.dart';\n\n keycountervalue10\nSharedPreferences prefs = await SharedPreferences.getInstance();\nawait prefs.setInt('counter', 10);\n\n,counter0\nint counter = prefs.getInt('counter')??0;\n\n\nprefs.remove('counter')\n```","source":"_posts/flutter-5-http.md","raw":"---\ntitle: Flutter - \ndate: 2020-06-08 09:42:14\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### \n\n<!-- more -->\n\n### \n\n```\ndio: ^2.2.2\t\n\nimport 'package:cookie_jar/cookie_jar.dart';\nimport 'package:dio/dio.dart';\nimport 'package:fluttertoast/fluttertoast.dart';\n\nconst BASE_URL = 'xxx';\n\nclass HttpUtil {\n  static HttpUtil instance;\n  Dio dio;\n  BaseOptions options;\n\n  CancelToken cancelToken = CancelToken();\n\n  static HttpUtil getInstance() {\n    if (null == instance) instance = HttpUtil();\n    return instance;\n  }\n\n  /*\n   * config it and create\n   */\n  HttpUtil() {\n    //BaseOptionsOptionsRequestOptions \n    options = BaseOptions(\n      //,\n      baseUrl: BASE_URL,\n      //.\n      connectTimeout: 10000,\n      //\n      receiveTimeout: 5000,\n      //Http.\n      // headers: {\n      //   'Accept': 'application/json,*/*',\n      //   'Content-Type': 'application/json',\n      // },\n      //Content-Type\"application/json; charset=utf-8\",Headers.formUrlEncodedContentType.\n      // contentType: Headers.formUrlEncodedContentType,\n      //() `json`, `stream`, `plain`, `bytes`.  `json`,\n      // contentType: Headers.formUrlEncodedContentType,\n      responseType: ResponseType.plain,\n    );\n\n    dio = Dio(options);\n\n    //Cookie\n    dio.interceptors.add(CookieManager(CookieJar()));\n\n    //\n    dio.interceptors\n        .add(InterceptorsWrapper(onRequest: (RequestOptions options) {\n      print(\"\");\n   \n      // Do something before request is sent\n      return options; //continue\n    }, onResponse: (Response response) {\n      print(\"\");\n      \n      // Do something with response data\n      return response; // continue\n    }, onError: (DioError e) {\n      print(\"\");\n      // Do something with response error\n      return e; //continue\n    }));\n  }\n\n  /*\n   * get\n   */\n  get(url, {data, options, cancelToken}) async {\n    Response response;\n    try {\n      response = await dio.get(url,\n          queryParameters: data, options: options, cancelToken: cancelToken);\n      print('get success---------${response.statusCode}');\n      print('get success---------${response.data}');\n\n//      response.data; \n//      response.headers; \n//      response.request; \n//      response.statusCode; \n\n    } on DioError catch (e) {\n      print('get error---------$e');\n      formatError(e);\n    }\n    return response;\n  }\n\n  /*\n   * post\n   */\n  post(url, {data, options, cancelToken}) async {\n    \n    Response response;\n    try {\n      response = await dio.post(url,\n          queryParameters: data, options: options, cancelToken: cancelToken);\n      print('post success---------${response.data}');\n    } on DioError catch (e) {\n      print('post error---------$e');\n      formatError(e);\n    }\n    return response;\n  }\n\n  /*\n   * \n   */\n  downloadFile(urlPath, savePath) async {\n    Response response;\n    try {\n      response = await dio.download(urlPath, savePath,\n          onReceiveProgress: (int count, int total) {\n        //\n        print(\"$count $total\");\n      });\n      print('downloadFile success---------${response.data}');\n    } on DioError catch (e) {\n      print('downloadFile error---------$e');\n      formatError(e);\n    }\n    return response.data;\n  }\n\n  /*\n   * error\n   */\n  void formatError(DioError e) {\n    if (e.type == DioErrorType.CONNECT_TIMEOUT) {\n      // It occurs when url is opened timeout.\n      print(\"\");\n    } else if (e.type == DioErrorType.SEND_TIMEOUT) {\n      // It occurs when url is sent timeout.\n      print(\"\");\n    } else if (e.type == DioErrorType.RECEIVE_TIMEOUT) {\n      //It occurs when receiving timeout\n      print(\"\");\n    } else if (e.type == DioErrorType.RESPONSE) {\n      // When the server response, but with a incorrect status, such as 404, 503...\n      Fluttertoast.showToast(\n        msg: '',\n        toastLength: Toast.LENGTH_SHORT,\n        gravity: ToastGravity.CENTER,\n        timeInSecForIos: 1,         \n        fontSize: 16\n      );\n      print(\"\");\n    } else if (e.type == DioErrorType.CANCEL) {\n      // When the request is cancelled, dio will throw a error with this type.\n      print(\"\");\n    } else {\n      //DEFAULT Default error type, Some other Error. In this case, you can read the DioError.error if it is not null.\n      print(\"\");\n    }\n  }\n\n  /*\n   * \n   *\n   * cancel token cancel tokencancel token\n   * \n   */\n  void cancelRequests(CancelToken token) {\n    token.cancel(\"cancelled\");\n  }\n}\n```\n\n### Future\n\n#### Future\nFutureFutureFlutter\n\n> ES6PromisethencatchError\n\n```\nimport 'dart:async';\n\nFuturedart:asyncFuture\n\npending - \ncompleted - \n```\n\n#### Futurethen\n\n```\nFuture<String> testFuture() {\n  return Future.value('hello');\n}\n\n\ntestFuture().then((s) {\n  print(s);\n}, onError: (e) {\n  print(e);\n});\n\n```\n\n#### async await\n\n```\ntest() async {\n  int result = await Future.delayed(Duration(milliseconds: 2000),() {\n    return Future.value(1);\n  });\n\n  print('---$result');\n}\n```\n\n### JSON\n- jsonFlutterjsonDart\n\n#### JSON\n\n```\n{\n  \"id\":\"487349\",\n  \"name\":\"Pooja Bhaumik\",\n  \"score\" : 1000\n}\n\n// factory \nclass Student{\n  String studentId;\n  String studentName;\n  int studentScores;\n\n  Student({\n    this.studentId,\n    this.studentName,\n    this.studentScores\n  });\n\n  // Student.fromJson  json\n  //Map<String, dynamic>  String  dynamic \n  //Map<String, dynamic>  string  dynamic \n  factory Student.fromJson(Map<String, dynamic> parsedJson){\n    return Student(\n      studentId: parsedJson['id'],\n      studentName : parsedJson['name'],\n      studentScores : parsedJson ['score']\n    );\n  }\n}\n```\n\n```\n//\nFuture loadStudent() async {\n  String jsonString = await _loadAStudentAsset();\n  final jsonResponse = json.decode(jsonString); // json \n  // Student.fromJson  json  Student \n  Student student = new Student.fromJson(jsonResponse);\n  print(student.studentScores);\n}\n```\n####  JSON \n\n> DioJsonJson\n\n- responseType ResponseType.plainjson\n\n```\nresponseType: ResponseType.plain,\n```\n\n```\njson_annotation: ^2.0.0\nbuild_runner: ^1.0.0\njson_serializable: ^2.0.0\n```\n\n```\nimport 'package:json_annotation/json_annotation.dart';\n\n// user.g.dart \npart 'user.g.dart';\n\n//JSON\n@JsonSerializable(explicitToJson: true)\n\nclass User {\n  User(this.name, this.email);\n\n  String name;\n  String email;\n\n  //UserDart\n  factory User.fromJson(Map<String, dynamic> json) => _$UserFromJson(json);\n\n  //JSON\n  Map<String, dynamic> toJson() => _$UserToJson(this);\n}\n\n```\n-  - flutter packages pub run build_runner build\n\n```\n\n\ngetHttp() async { \n  try {\n      \n    var jsonString = await HttpUtil().get(\"/io/flutter_app/json/home_page.json\");\n\n    //jsonDecode()  JSON\n    Map userMap = jsonDecode(jsonString.data);\n\n    // JSON \n    var resultJson = HomeModel.fromJson(userMap); \n    print('-----------');\n    print(resultJson.config);\n  } catch (e) {\n    print(e);\n  }\n}\n```\n\n### shared_preferences\n\n- key-value\n- AndroidSharedPreferences\n- iOSNSUserDefaults\n\n```\nshared_preferences: ^0.5.3\n\nimport 'package:shared_preferences/shared_preferences.dart';\n\n keycountervalue10\nSharedPreferences prefs = await SharedPreferences.getInstance();\nawait prefs.setInt('counter', 10);\n\n,counter0\nint counter = prefs.getInt('counter')??0;\n\n\nprefs.remove('counter')\n```","slug":"flutter-5-http","published":1,"updated":"2020-06-08T01:44:35.653Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42b001yhe6jr8b8wm8k","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dio: ^2.2.2\t</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:cookie_jar/cookie_jar.dart&apos;;</span><br><span class=\"line\">import &apos;package:dio/dio.dart&apos;;</span><br><span class=\"line\">import &apos;package:fluttertoast/fluttertoast.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const BASE_URL = &apos;xxx&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class HttpUtil &#123;</span><br><span class=\"line\">  static HttpUtil instance;</span><br><span class=\"line\">  Dio dio;</span><br><span class=\"line\">  BaseOptions options;</span><br><span class=\"line\"></span><br><span class=\"line\">  CancelToken cancelToken = CancelToken();</span><br><span class=\"line\"></span><br><span class=\"line\">  static HttpUtil getInstance() &#123;</span><br><span class=\"line\">    if (null == instance) instance = HttpUtil();</span><br><span class=\"line\">    return instance;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * config it and create</span><br><span class=\"line\">   */</span><br><span class=\"line\">  HttpUtil() &#123;</span><br><span class=\"line\">    //BaseOptionsOptionsRequestOptions </span><br><span class=\"line\">    options = BaseOptions(</span><br><span class=\"line\">      //,</span><br><span class=\"line\">      baseUrl: BASE_URL,</span><br><span class=\"line\">      //.</span><br><span class=\"line\">      connectTimeout: 10000,</span><br><span class=\"line\">      //</span><br><span class=\"line\">      receiveTimeout: 5000,</span><br><span class=\"line\">      //Http.</span><br><span class=\"line\">      // headers: &#123;</span><br><span class=\"line\">      //   &apos;Accept&apos;: &apos;application/json,*/*&apos;,</span><br><span class=\"line\">      //   &apos;Content-Type&apos;: &apos;application/json&apos;,</span><br><span class=\"line\">      // &#125;,</span><br><span class=\"line\">      //Content-Type&quot;application/json; charset=utf-8&quot;,Headers.formUrlEncodedContentType.</span><br><span class=\"line\">      // contentType: Headers.formUrlEncodedContentType,</span><br><span class=\"line\">      //() `json`, `stream`, `plain`, `bytes`.  `json`,</span><br><span class=\"line\">      // contentType: Headers.formUrlEncodedContentType,</span><br><span class=\"line\">      responseType: ResponseType.plain,</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    dio = Dio(options);</span><br><span class=\"line\"></span><br><span class=\"line\">    //Cookie</span><br><span class=\"line\">    dio.interceptors.add(CookieManager(CookieJar()));</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    dio.interceptors</span><br><span class=\"line\">        .add(InterceptorsWrapper(onRequest: (RequestOptions options) &#123;</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">   </span><br><span class=\"line\">      // Do something before request is sent</span><br><span class=\"line\">      return options; //continue</span><br><span class=\"line\">    &#125;, onResponse: (Response response) &#123;</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">      </span><br><span class=\"line\">      // Do something with response data</span><br><span class=\"line\">      return response; // continue</span><br><span class=\"line\">    &#125;, onError: (DioError e) &#123;</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">      // Do something with response error</span><br><span class=\"line\">      return e; //continue</span><br><span class=\"line\">    &#125;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * get</span><br><span class=\"line\">   */</span><br><span class=\"line\">  get(url, &#123;data, options, cancelToken&#125;) async &#123;</span><br><span class=\"line\">    Response response;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      response = await dio.get(url,</span><br><span class=\"line\">          queryParameters: data, options: options, cancelToken: cancelToken);</span><br><span class=\"line\">      print(&apos;get success---------$&#123;response.statusCode&#125;&apos;);</span><br><span class=\"line\">      print(&apos;get success---------$&#123;response.data&#125;&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">//      response.data; </span><br><span class=\"line\">//      response.headers; </span><br><span class=\"line\">//      response.request; </span><br><span class=\"line\">//      response.statusCode; </span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; on DioError catch (e) &#123;</span><br><span class=\"line\">      print(&apos;get error---------$e&apos;);</span><br><span class=\"line\">      formatError(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return response;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * post</span><br><span class=\"line\">   */</span><br><span class=\"line\">  post(url, &#123;data, options, cancelToken&#125;) async &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    Response response;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      response = await dio.post(url,</span><br><span class=\"line\">          queryParameters: data, options: options, cancelToken: cancelToken);</span><br><span class=\"line\">      print(&apos;post success---------$&#123;response.data&#125;&apos;);</span><br><span class=\"line\">    &#125; on DioError catch (e) &#123;</span><br><span class=\"line\">      print(&apos;post error---------$e&apos;);</span><br><span class=\"line\">      formatError(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return response;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * </span><br><span class=\"line\">   */</span><br><span class=\"line\">  downloadFile(urlPath, savePath) async &#123;</span><br><span class=\"line\">    Response response;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      response = await dio.download(urlPath, savePath,</span><br><span class=\"line\">          onReceiveProgress: (int count, int total) &#123;</span><br><span class=\"line\">        //</span><br><span class=\"line\">        print(&quot;$count $total&quot;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      print(&apos;downloadFile success---------$&#123;response.data&#125;&apos;);</span><br><span class=\"line\">    &#125; on DioError catch (e) &#123;</span><br><span class=\"line\">      print(&apos;downloadFile error---------$e&apos;);</span><br><span class=\"line\">      formatError(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return response.data;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * error</span><br><span class=\"line\">   */</span><br><span class=\"line\">  void formatError(DioError e) &#123;</span><br><span class=\"line\">    if (e.type == DioErrorType.CONNECT_TIMEOUT) &#123;</span><br><span class=\"line\">      // It occurs when url is opened timeout.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.SEND_TIMEOUT) &#123;</span><br><span class=\"line\">      // It occurs when url is sent timeout.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.RECEIVE_TIMEOUT) &#123;</span><br><span class=\"line\">      //It occurs when receiving timeout</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.RESPONSE) &#123;</span><br><span class=\"line\">      // When the server response, but with a incorrect status, such as 404, 503...</span><br><span class=\"line\">      Fluttertoast.showToast(</span><br><span class=\"line\">        msg: &apos;&apos;,</span><br><span class=\"line\">        toastLength: Toast.LENGTH_SHORT,</span><br><span class=\"line\">        gravity: ToastGravity.CENTER,</span><br><span class=\"line\">        timeInSecForIos: 1,         </span><br><span class=\"line\">        fontSize: 16</span><br><span class=\"line\">      );</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.CANCEL) &#123;</span><br><span class=\"line\">      // When the request is cancelled, dio will throw a error with this type.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      //DEFAULT Default error type, Some other Error. In this case, you can read the DioError.error if it is not null.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * </span><br><span class=\"line\">   *</span><br><span class=\"line\">   * cancel token cancel tokencancel token</span><br><span class=\"line\">   * </span><br><span class=\"line\">   */</span><br><span class=\"line\">  void cancelRequests(CancelToken token) &#123;</span><br><span class=\"line\">    token.cancel(&quot;cancelled&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Future\"><a href=\"#Future\" class=\"headerlink\" title=\"Future\"></a>Future</h3><h4 id=\"Future\"><a href=\"#Future\" class=\"headerlink\" title=\"Future\"></a>Future</h4><p>FutureFutureFlutter</p>\n<blockquote>\n<p>ES6PromisethencatchError</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;dart:async&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">Futuredart:asyncFuture</span><br><span class=\"line\"></span><br><span class=\"line\">pending - </span><br><span class=\"line\">completed - </span><br></pre></td></tr></table></figure>\n<h4 id=\"Futurethen\"><a href=\"#Futurethen\" class=\"headerlink\" title=\"Futurethen\"></a>Futurethen</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Future&lt;String&gt; testFuture() &#123;</span><br><span class=\"line\">  return Future.value(&apos;hello&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">testFuture().then((s) &#123;</span><br><span class=\"line\">  print(s);</span><br><span class=\"line\">&#125;, onError: (e) &#123;</span><br><span class=\"line\">  print(e);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"async-await\"><a href=\"#async-await\" class=\"headerlink\" title=\"async await\"></a>async await</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test() async &#123;</span><br><span class=\"line\">  int result = await Future.delayed(Duration(milliseconds: 2000),() &#123;</span><br><span class=\"line\">    return Future.value(1);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  print(&apos;---$result&apos;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h3><ul>\n<li>jsonFlutterjsonDart</li>\n</ul>\n<h4 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;id&quot;:&quot;487349&quot;,</span><br><span class=\"line\">  &quot;name&quot;:&quot;Pooja Bhaumik&quot;,</span><br><span class=\"line\">  &quot;score&quot; : 1000</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// factory </span><br><span class=\"line\">class Student&#123;</span><br><span class=\"line\">  String studentId;</span><br><span class=\"line\">  String studentName;</span><br><span class=\"line\">  int studentScores;</span><br><span class=\"line\"></span><br><span class=\"line\">  Student(&#123;</span><br><span class=\"line\">    this.studentId,</span><br><span class=\"line\">    this.studentName,</span><br><span class=\"line\">    this.studentScores</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  // Student.fromJson  json</span><br><span class=\"line\">  //Map&lt;String, dynamic&gt;  String  dynamic </span><br><span class=\"line\">  //Map&lt;String, dynamic&gt;  string  dynamic </span><br><span class=\"line\">  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson)&#123;</span><br><span class=\"line\">    return Student(</span><br><span class=\"line\">      studentId: parsedJson[&apos;id&apos;],</span><br><span class=\"line\">      studentName : parsedJson[&apos;name&apos;],</span><br><span class=\"line\">      studentScores : parsedJson [&apos;score&apos;]</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">Future loadStudent() async &#123;</span><br><span class=\"line\">  String jsonString = await _loadAStudentAsset();</span><br><span class=\"line\">  final jsonResponse = json.decode(jsonString); // json </span><br><span class=\"line\">  // Student.fromJson  json  Student </span><br><span class=\"line\">  Student student = new Student.fromJson(jsonResponse);</span><br><span class=\"line\">  print(student.studentScores);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-JSON-\"><a href=\"#-JSON-\" class=\"headerlink\" title=\" JSON \"></a> JSON </h4><blockquote>\n<p>DioJsonJson</p>\n</blockquote>\n<ul>\n<li>responseType ResponseType.plainjson</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">responseType: ResponseType.plain,</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">json_annotation: ^2.0.0</span><br><span class=\"line\">build_runner: ^1.0.0</span><br><span class=\"line\">json_serializable: ^2.0.0</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:json_annotation/json_annotation.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">// user.g.dart </span><br><span class=\"line\">part &apos;user.g.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">//JSON</span><br><span class=\"line\">@JsonSerializable(explicitToJson: true)</span><br><span class=\"line\"></span><br><span class=\"line\">class User &#123;</span><br><span class=\"line\">  User(this.name, this.email);</span><br><span class=\"line\"></span><br><span class=\"line\">  String name;</span><br><span class=\"line\">  String email;</span><br><span class=\"line\"></span><br><span class=\"line\">  //UserDart</span><br><span class=\"line\">  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$UserFromJson(json);</span><br><span class=\"line\"></span><br><span class=\"line\">  //JSON</span><br><span class=\"line\">  Map&lt;String, dynamic&gt; toJson() =&gt; _$UserToJson(this);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li> - flutter packages pub run build_runner build</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">getHttp() async &#123; </span><br><span class=\"line\">  try &#123;</span><br><span class=\"line\">      </span><br><span class=\"line\">    var jsonString = await HttpUtil().get(&quot;/io/flutter_app/json/home_page.json&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    //jsonDecode()  JSON</span><br><span class=\"line\">    Map userMap = jsonDecode(jsonString.data);</span><br><span class=\"line\"></span><br><span class=\"line\">    // JSON </span><br><span class=\"line\">    var resultJson = HomeModel.fromJson(userMap); </span><br><span class=\"line\">    print(&apos;-----------&apos;);</span><br><span class=\"line\">    print(resultJson.config);</span><br><span class=\"line\">  &#125; catch (e) &#123;</span><br><span class=\"line\">    print(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"shared-preferences\"><a href=\"#shared-preferences\" class=\"headerlink\" title=\"shared_preferences\"></a>shared_preferences</h3><ul>\n<li>key-value</li>\n<li>AndroidSharedPreferences</li>\n<li>iOSNSUserDefaults</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shared_preferences: ^0.5.3</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:shared_preferences/shared_preferences.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\"> keycountervalue10</span><br><span class=\"line\">SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class=\"line\">await prefs.setInt(&apos;counter&apos;, 10);</span><br><span class=\"line\"></span><br><span class=\"line\">,counter0</span><br><span class=\"line\">int counter = prefs.getInt(&apos;counter&apos;)??0;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">prefs.remove(&apos;counter&apos;)</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dio: ^2.2.2\t</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:cookie_jar/cookie_jar.dart&apos;;</span><br><span class=\"line\">import &apos;package:dio/dio.dart&apos;;</span><br><span class=\"line\">import &apos;package:fluttertoast/fluttertoast.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const BASE_URL = &apos;xxx&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">class HttpUtil &#123;</span><br><span class=\"line\">  static HttpUtil instance;</span><br><span class=\"line\">  Dio dio;</span><br><span class=\"line\">  BaseOptions options;</span><br><span class=\"line\"></span><br><span class=\"line\">  CancelToken cancelToken = CancelToken();</span><br><span class=\"line\"></span><br><span class=\"line\">  static HttpUtil getInstance() &#123;</span><br><span class=\"line\">    if (null == instance) instance = HttpUtil();</span><br><span class=\"line\">    return instance;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * config it and create</span><br><span class=\"line\">   */</span><br><span class=\"line\">  HttpUtil() &#123;</span><br><span class=\"line\">    //BaseOptionsOptionsRequestOptions </span><br><span class=\"line\">    options = BaseOptions(</span><br><span class=\"line\">      //,</span><br><span class=\"line\">      baseUrl: BASE_URL,</span><br><span class=\"line\">      //.</span><br><span class=\"line\">      connectTimeout: 10000,</span><br><span class=\"line\">      //</span><br><span class=\"line\">      receiveTimeout: 5000,</span><br><span class=\"line\">      //Http.</span><br><span class=\"line\">      // headers: &#123;</span><br><span class=\"line\">      //   &apos;Accept&apos;: &apos;application/json,*/*&apos;,</span><br><span class=\"line\">      //   &apos;Content-Type&apos;: &apos;application/json&apos;,</span><br><span class=\"line\">      // &#125;,</span><br><span class=\"line\">      //Content-Type&quot;application/json; charset=utf-8&quot;,Headers.formUrlEncodedContentType.</span><br><span class=\"line\">      // contentType: Headers.formUrlEncodedContentType,</span><br><span class=\"line\">      //() `json`, `stream`, `plain`, `bytes`.  `json`,</span><br><span class=\"line\">      // contentType: Headers.formUrlEncodedContentType,</span><br><span class=\"line\">      responseType: ResponseType.plain,</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    dio = Dio(options);</span><br><span class=\"line\"></span><br><span class=\"line\">    //Cookie</span><br><span class=\"line\">    dio.interceptors.add(CookieManager(CookieJar()));</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    dio.interceptors</span><br><span class=\"line\">        .add(InterceptorsWrapper(onRequest: (RequestOptions options) &#123;</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">   </span><br><span class=\"line\">      // Do something before request is sent</span><br><span class=\"line\">      return options; //continue</span><br><span class=\"line\">    &#125;, onResponse: (Response response) &#123;</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">      </span><br><span class=\"line\">      // Do something with response data</span><br><span class=\"line\">      return response; // continue</span><br><span class=\"line\">    &#125;, onError: (DioError e) &#123;</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">      // Do something with response error</span><br><span class=\"line\">      return e; //continue</span><br><span class=\"line\">    &#125;));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * get</span><br><span class=\"line\">   */</span><br><span class=\"line\">  get(url, &#123;data, options, cancelToken&#125;) async &#123;</span><br><span class=\"line\">    Response response;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      response = await dio.get(url,</span><br><span class=\"line\">          queryParameters: data, options: options, cancelToken: cancelToken);</span><br><span class=\"line\">      print(&apos;get success---------$&#123;response.statusCode&#125;&apos;);</span><br><span class=\"line\">      print(&apos;get success---------$&#123;response.data&#125;&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">//      response.data; </span><br><span class=\"line\">//      response.headers; </span><br><span class=\"line\">//      response.request; </span><br><span class=\"line\">//      response.statusCode; </span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; on DioError catch (e) &#123;</span><br><span class=\"line\">      print(&apos;get error---------$e&apos;);</span><br><span class=\"line\">      formatError(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return response;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * post</span><br><span class=\"line\">   */</span><br><span class=\"line\">  post(url, &#123;data, options, cancelToken&#125;) async &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    Response response;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      response = await dio.post(url,</span><br><span class=\"line\">          queryParameters: data, options: options, cancelToken: cancelToken);</span><br><span class=\"line\">      print(&apos;post success---------$&#123;response.data&#125;&apos;);</span><br><span class=\"line\">    &#125; on DioError catch (e) &#123;</span><br><span class=\"line\">      print(&apos;post error---------$e&apos;);</span><br><span class=\"line\">      formatError(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return response;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * </span><br><span class=\"line\">   */</span><br><span class=\"line\">  downloadFile(urlPath, savePath) async &#123;</span><br><span class=\"line\">    Response response;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      response = await dio.download(urlPath, savePath,</span><br><span class=\"line\">          onReceiveProgress: (int count, int total) &#123;</span><br><span class=\"line\">        //</span><br><span class=\"line\">        print(&quot;$count $total&quot;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      print(&apos;downloadFile success---------$&#123;response.data&#125;&apos;);</span><br><span class=\"line\">    &#125; on DioError catch (e) &#123;</span><br><span class=\"line\">      print(&apos;downloadFile error---------$e&apos;);</span><br><span class=\"line\">      formatError(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return response.data;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * error</span><br><span class=\"line\">   */</span><br><span class=\"line\">  void formatError(DioError e) &#123;</span><br><span class=\"line\">    if (e.type == DioErrorType.CONNECT_TIMEOUT) &#123;</span><br><span class=\"line\">      // It occurs when url is opened timeout.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.SEND_TIMEOUT) &#123;</span><br><span class=\"line\">      // It occurs when url is sent timeout.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.RECEIVE_TIMEOUT) &#123;</span><br><span class=\"line\">      //It occurs when receiving timeout</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.RESPONSE) &#123;</span><br><span class=\"line\">      // When the server response, but with a incorrect status, such as 404, 503...</span><br><span class=\"line\">      Fluttertoast.showToast(</span><br><span class=\"line\">        msg: &apos;&apos;,</span><br><span class=\"line\">        toastLength: Toast.LENGTH_SHORT,</span><br><span class=\"line\">        gravity: ToastGravity.CENTER,</span><br><span class=\"line\">        timeInSecForIos: 1,         </span><br><span class=\"line\">        fontSize: 16</span><br><span class=\"line\">      );</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else if (e.type == DioErrorType.CANCEL) &#123;</span><br><span class=\"line\">      // When the request is cancelled, dio will throw a error with this type.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      //DEFAULT Default error type, Some other Error. In this case, you can read the DioError.error if it is not null.</span><br><span class=\"line\">      print(&quot;&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  /*</span><br><span class=\"line\">   * </span><br><span class=\"line\">   *</span><br><span class=\"line\">   * cancel token cancel tokencancel token</span><br><span class=\"line\">   * </span><br><span class=\"line\">   */</span><br><span class=\"line\">  void cancelRequests(CancelToken token) &#123;</span><br><span class=\"line\">    token.cancel(&quot;cancelled&quot;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Future\"><a href=\"#Future\" class=\"headerlink\" title=\"Future\"></a>Future</h3><h4 id=\"Future\"><a href=\"#Future\" class=\"headerlink\" title=\"Future\"></a>Future</h4><p>FutureFutureFlutter</p>\n<blockquote>\n<p>ES6PromisethencatchError</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;dart:async&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">Futuredart:asyncFuture</span><br><span class=\"line\"></span><br><span class=\"line\">pending - </span><br><span class=\"line\">completed - </span><br></pre></td></tr></table></figure>\n<h4 id=\"Futurethen\"><a href=\"#Futurethen\" class=\"headerlink\" title=\"Futurethen\"></a>Futurethen</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Future&lt;String&gt; testFuture() &#123;</span><br><span class=\"line\">  return Future.value(&apos;hello&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">testFuture().then((s) &#123;</span><br><span class=\"line\">  print(s);</span><br><span class=\"line\">&#125;, onError: (e) &#123;</span><br><span class=\"line\">  print(e);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"async-await\"><a href=\"#async-await\" class=\"headerlink\" title=\"async await\"></a>async await</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test() async &#123;</span><br><span class=\"line\">  int result = await Future.delayed(Duration(milliseconds: 2000),() &#123;</span><br><span class=\"line\">    return Future.value(1);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  print(&apos;---$result&apos;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h3><ul>\n<li>jsonFlutterjsonDart</li>\n</ul>\n<h4 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;id&quot;:&quot;487349&quot;,</span><br><span class=\"line\">  &quot;name&quot;:&quot;Pooja Bhaumik&quot;,</span><br><span class=\"line\">  &quot;score&quot; : 1000</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// factory </span><br><span class=\"line\">class Student&#123;</span><br><span class=\"line\">  String studentId;</span><br><span class=\"line\">  String studentName;</span><br><span class=\"line\">  int studentScores;</span><br><span class=\"line\"></span><br><span class=\"line\">  Student(&#123;</span><br><span class=\"line\">    this.studentId,</span><br><span class=\"line\">    this.studentName,</span><br><span class=\"line\">    this.studentScores</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  // Student.fromJson  json</span><br><span class=\"line\">  //Map&lt;String, dynamic&gt;  String  dynamic </span><br><span class=\"line\">  //Map&lt;String, dynamic&gt;  string  dynamic </span><br><span class=\"line\">  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson)&#123;</span><br><span class=\"line\">    return Student(</span><br><span class=\"line\">      studentId: parsedJson[&apos;id&apos;],</span><br><span class=\"line\">      studentName : parsedJson[&apos;name&apos;],</span><br><span class=\"line\">      studentScores : parsedJson [&apos;score&apos;]</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">Future loadStudent() async &#123;</span><br><span class=\"line\">  String jsonString = await _loadAStudentAsset();</span><br><span class=\"line\">  final jsonResponse = json.decode(jsonString); // json </span><br><span class=\"line\">  // Student.fromJson  json  Student </span><br><span class=\"line\">  Student student = new Student.fromJson(jsonResponse);</span><br><span class=\"line\">  print(student.studentScores);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-JSON-\"><a href=\"#-JSON-\" class=\"headerlink\" title=\" JSON \"></a> JSON </h4><blockquote>\n<p>DioJsonJson</p>\n</blockquote>\n<ul>\n<li>responseType ResponseType.plainjson</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">responseType: ResponseType.plain,</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">json_annotation: ^2.0.0</span><br><span class=\"line\">build_runner: ^1.0.0</span><br><span class=\"line\">json_serializable: ^2.0.0</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;package:json_annotation/json_annotation.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">// user.g.dart </span><br><span class=\"line\">part &apos;user.g.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">//JSON</span><br><span class=\"line\">@JsonSerializable(explicitToJson: true)</span><br><span class=\"line\"></span><br><span class=\"line\">class User &#123;</span><br><span class=\"line\">  User(this.name, this.email);</span><br><span class=\"line\"></span><br><span class=\"line\">  String name;</span><br><span class=\"line\">  String email;</span><br><span class=\"line\"></span><br><span class=\"line\">  //UserDart</span><br><span class=\"line\">  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$UserFromJson(json);</span><br><span class=\"line\"></span><br><span class=\"line\">  //JSON</span><br><span class=\"line\">  Map&lt;String, dynamic&gt; toJson() =&gt; _$UserToJson(this);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li> - flutter packages pub run build_runner build</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">getHttp() async &#123; </span><br><span class=\"line\">  try &#123;</span><br><span class=\"line\">      </span><br><span class=\"line\">    var jsonString = await HttpUtil().get(&quot;/io/flutter_app/json/home_page.json&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    //jsonDecode()  JSON</span><br><span class=\"line\">    Map userMap = jsonDecode(jsonString.data);</span><br><span class=\"line\"></span><br><span class=\"line\">    // JSON </span><br><span class=\"line\">    var resultJson = HomeModel.fromJson(userMap); </span><br><span class=\"line\">    print(&apos;-----------&apos;);</span><br><span class=\"line\">    print(resultJson.config);</span><br><span class=\"line\">  &#125; catch (e) &#123;</span><br><span class=\"line\">    print(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"shared-preferences\"><a href=\"#shared-preferences\" class=\"headerlink\" title=\"shared_preferences\"></a>shared_preferences</h3><ul>\n<li>key-value</li>\n<li>AndroidSharedPreferences</li>\n<li>iOSNSUserDefaults</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shared_preferences: ^0.5.3</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:shared_preferences/shared_preferences.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\"> keycountervalue10</span><br><span class=\"line\">SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class=\"line\">await prefs.setInt(&apos;counter&apos;, 10);</span><br><span class=\"line\"></span><br><span class=\"line\">,counter0</span><br><span class=\"line\">int counter = prefs.getInt(&apos;counter&apos;)??0;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">prefs.remove(&apos;counter&apos;)</span><br></pre></td></tr></table></figure>"},{"title":"Flutter - ","date":"2020-08-11T09:16:19.000Z","_content":"\n### \n\n<!-- more -->\n\n### Flutter \n\n-  Flutter module\n\n```\nflutter create -t module flutter_module\n```\n\n-  Flutter module \n-  Java/Object-c  Flutter module\n\n### Android\n\n####  Flutter module\n\n1.  settings.gradle(Project Settings)\n\n```\nFlutter\nsetBinding(new Binding([gradle: this]))                                 // new\nevaluate(new File(                                                      // new\n    settingsDir.parentFile,                                                // new\n    'flutter_module/.android/include_flutter.groovy'// new\n))\n\n'flutter_module/.android/include_flutter.groovy'\nflutter_moduleFlutterandroid\n```\n\n2.  build.gradle(Module:app)\n\n```\nminSdkVersion 16Fluuter module\ndefaultConfig{\n  minSdkVersion 16\n}\n```\n\n```\nandroid\nandroid {\n  ...\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n```\n\n```\ndependencies {\n  ...\n  implementation project(':flutter')\n}\n```\n\n3.  android.support.annotation  Flutter  Android  androidx \n\n```\nflutter create --androidx -t module flutter_library\n\nSDK\n```\n\n#### Java  Flutter module\n\n- Flutter.createView\n\n```\npublic class MainActivity extends AppCompatActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    View flutterView = Flutter.createView(this, getLifecycle(), \"route1\");\n    FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\n    addContentView(flutterView, layoutParams);\n  }\n}\n```\n\n- FlutterFragment\n\n```\npublic class MainActivity extends AppCompatActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    FragmentTransaction ft= getSupportFragmentManager().beginTransaction();\n    ft.replace(R.id.fragment_container, Flutter.createFragment(\"Hello Flutter\"));\n    ft.commit();\n  }\n}\n```\n\n#### Flutter \n\n```\nimport 'dart:ui';\n\nvoid main => runApp(MyApp(initParams: window.defaultRouteName))\n\nclass MyApp extends StatelessWidget {\n  //initParams\n  final String initParams\n\n  const MyApp({Key key, this.initParams}) : super(key:key);\n}\n\n```\n\n### iOS\n\n#### iOS  Flutter\n\n-  ios  pod init\n\n```\nPodfile\n\n# Uncomment the next line to define a global platform for your project\n# platform :ios, '9.0'\ntarget 'FlutterHybridiOS' do\n  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks\n  # use_frameworks!\n\n  # Pods for FlutterHybridiOS\n\n  //flutter\n  flutter_application_path = '../flutter_module/'\n\n  eval(File.read(File.join(flutter_application_path,'.ios', 'Flutter', 'podhelper.rb')),binding)\n\n  target 'FlutterHybridiOSTests' do\n    inherit! :search_paths\n    # Pods for testing\n  end\n\n  target 'FlutterHybridiOSUITests' do\n    inherit! :search_paths\n    # Pods for testing\n  end\n\nend\n\n```\n\n- pod install\n\n- FlutterHybridiOS.xcworkspace  iOS \n\n- TAGETSBuild SetttingsBuild OptionsEnable Bitcode Bitcode\n\n- Enable PhasesNew Run Script Phase\n\n```\n\"$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh\" build\n\"$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh\" embed\n```\n\n- build \n\n#### Object-c  Flutter module\n\n```\nViewController.m\n\n#import <Flutter/Flutter.h>\n#import \"AppDelegate.h\"\n#import \"ViewController.h\"\n#import <FlutterPluginRegistrant/GeneratedPluginRegistrant.h>\n\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];\n    [button addTarget:self\n               action:@selector(handleButtonAction)\n     forControlEvents:UIControlEventTouchUpInside];\n    [button setTitle:@\"Test\" forState:UIControlStateNormal];\n    [button setBackgroundColor:[UIColor redColor]];\n    button.frame = CGRectMake(80.0,210.0,160.0,40.0);\n    [self.view addSubview:button];\n}\n\n- (void)handleButtonAction {\n    //Flutter\n    FlutterViewController *flutterViewController = [FlutterViewController new];\n\n    [flutterViewController setInitialRoute:@\"{name:'devio',dataList:['aa','bb',''cc]}\"];\n\n    [self presentViewController:flutterViewController animated:true completion:nil];\n}\n@end\n```\n\n### Flutter  H5 \n\n```\nflutter_webview_plugin: ^0.3.11\n\n\nimport 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_webview_plugin/flutter_webview_plugin.dart';\n\n//\nconst CATCH_URLS = ['m.ctrip.com/', 'm.ctrip.com/html5/', 'm.ctrip.com/html5', 'dp.ctrip.com/'];\n\nclass Webview extends StatefulWidget {\n  final String url;\n  final String statusBarColor;\n  final String title;\n  final bool hideAppBar;\n  final bool backForbid;\n\n\n  Webview({Key key, this.url , this.statusBarColor, this.title, this.hideAppBar, this.backForbid=false});\n\n  @override\n  _WebviewState createState() => _WebviewState();\n}\n\nclass _WebviewState extends State<Webview>{\n  final webviewReference = FlutterWebviewPlugin();\n  StreamSubscription<String> _onUrlChanged;\n  StreamSubscription<WebViewStateChanged> _onStateChanged;\n  StreamSubscription<WebViewHttpError> _onHttpError;\n  bool exiting = false;\n  @override\n  void initState() {\n    super.initState();\n    //\n    webviewReference.close();\n    //urlString\n    _onUrlChanged = webviewReference.onUrlChanged.listen((String url) {});\n    //\n    //startLoad\n    _onStateChanged = webviewReference.onStateChanged.listen((WebViewStateChanged state) {\n      switch (state.type) {\n        case WebViewState.startLoad:\n          if (_isToMain(state.url) && !exiting) {\n            if (widget.backForbid) {\n              webviewReference.launch(widget.url);\n            }else {\n              Navigator.pop(context);\n              exiting = true;\n            }\n          }\n          break;\n        default:\n          break;\n      }\n    });\n    //url\n    _onHttpError = webviewReference.onHttpError.listen((WebViewHttpError error) {\n      print(error);\n    });\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    //\n    _onUrlChanged.cancel();\n    _onStateChanged.cancel();\n    _onHttpError.cancel();\n    webviewReference.dispose();\n  }\n\n  //Flutter\n  _isToMain(String url) {\n    bool contain = false;\n    for (final value in CATCH_URLS) {\n      if (url?.endsWith(value)??false) {\n        contain = true;\n        break;\n      }\n    }\n    return contain;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    String statusBarColorStr = widget.statusBarColor ?? 'ffffff';\n    Color backButtonColor;\n    if (statusBarColorStr == 'ffffff') {\n      backButtonColor = Colors.black;\n    } else {\n      backButtonColor = Colors.white;\n    }\n    return Scaffold(\n      body: Column(\n        children: <Widget>[\n          _appBar(Color(int.parse('0xff'+statusBarColorStr)),backButtonColor),\n          Expanded(\n            child: WebviewScaffold(\n              url: widget.url,\n              withZoom: true,\n              hidden: true,\n              initialChild: Container(\n                color: Colors.white,\n                child: Center(\n                  child: Text('Waiting.....'),\n                )\n              ),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n\n  _appBar(Color backgroundColor, Color backButtonColor) {\n    if (widget.hideAppBar??false) {\n      return Container(\n        color: backgroundColor,\n        height: 30,\n      );\n    }\n    return Container(\n      child: FractionallySizedBox(\n        child:  Stack(\n          children: <Widget>[\n            GestureDetector(\n              child: Container(\n                margin: EdgeInsets.only(left:10),\n                child: Icon(\n                  Icons.close,\n                  color: backButtonColor,\n                  size: 26,\n                )\n              ),\n            ),\n            Positioned(\n              left: 0,\n              right: 0,\n              child: Center(\n                child: Text(\n                  widget.title,\n                  style: TextStyle(color:backgroundColor,fontSize:20),\n                ),\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n```\n","source":"_posts/flutter-6-list.md","raw":"---\ntitle: Flutter - \ndate: 2020-08-11 17:16:19\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### \n\n<!-- more -->\n\n### Flutter \n\n-  Flutter module\n\n```\nflutter create -t module flutter_module\n```\n\n-  Flutter module \n-  Java/Object-c  Flutter module\n\n### Android\n\n####  Flutter module\n\n1.  settings.gradle(Project Settings)\n\n```\nFlutter\nsetBinding(new Binding([gradle: this]))                                 // new\nevaluate(new File(                                                      // new\n    settingsDir.parentFile,                                                // new\n    'flutter_module/.android/include_flutter.groovy'// new\n))\n\n'flutter_module/.android/include_flutter.groovy'\nflutter_moduleFlutterandroid\n```\n\n2.  build.gradle(Module:app)\n\n```\nminSdkVersion 16Fluuter module\ndefaultConfig{\n  minSdkVersion 16\n}\n```\n\n```\nandroid\nandroid {\n  ...\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n```\n\n```\ndependencies {\n  ...\n  implementation project(':flutter')\n}\n```\n\n3.  android.support.annotation  Flutter  Android  androidx \n\n```\nflutter create --androidx -t module flutter_library\n\nSDK\n```\n\n#### Java  Flutter module\n\n- Flutter.createView\n\n```\npublic class MainActivity extends AppCompatActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    View flutterView = Flutter.createView(this, getLifecycle(), \"route1\");\n    FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\n    addContentView(flutterView, layoutParams);\n  }\n}\n```\n\n- FlutterFragment\n\n```\npublic class MainActivity extends AppCompatActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    FragmentTransaction ft= getSupportFragmentManager().beginTransaction();\n    ft.replace(R.id.fragment_container, Flutter.createFragment(\"Hello Flutter\"));\n    ft.commit();\n  }\n}\n```\n\n#### Flutter \n\n```\nimport 'dart:ui';\n\nvoid main => runApp(MyApp(initParams: window.defaultRouteName))\n\nclass MyApp extends StatelessWidget {\n  //initParams\n  final String initParams\n\n  const MyApp({Key key, this.initParams}) : super(key:key);\n}\n\n```\n\n### iOS\n\n#### iOS  Flutter\n\n-  ios  pod init\n\n```\nPodfile\n\n# Uncomment the next line to define a global platform for your project\n# platform :ios, '9.0'\ntarget 'FlutterHybridiOS' do\n  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks\n  # use_frameworks!\n\n  # Pods for FlutterHybridiOS\n\n  //flutter\n  flutter_application_path = '../flutter_module/'\n\n  eval(File.read(File.join(flutter_application_path,'.ios', 'Flutter', 'podhelper.rb')),binding)\n\n  target 'FlutterHybridiOSTests' do\n    inherit! :search_paths\n    # Pods for testing\n  end\n\n  target 'FlutterHybridiOSUITests' do\n    inherit! :search_paths\n    # Pods for testing\n  end\n\nend\n\n```\n\n- pod install\n\n- FlutterHybridiOS.xcworkspace  iOS \n\n- TAGETSBuild SetttingsBuild OptionsEnable Bitcode Bitcode\n\n- Enable PhasesNew Run Script Phase\n\n```\n\"$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh\" build\n\"$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh\" embed\n```\n\n- build \n\n#### Object-c  Flutter module\n\n```\nViewController.m\n\n#import <Flutter/Flutter.h>\n#import \"AppDelegate.h\"\n#import \"ViewController.h\"\n#import <FlutterPluginRegistrant/GeneratedPluginRegistrant.h>\n\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];\n    [button addTarget:self\n               action:@selector(handleButtonAction)\n     forControlEvents:UIControlEventTouchUpInside];\n    [button setTitle:@\"Test\" forState:UIControlStateNormal];\n    [button setBackgroundColor:[UIColor redColor]];\n    button.frame = CGRectMake(80.0,210.0,160.0,40.0);\n    [self.view addSubview:button];\n}\n\n- (void)handleButtonAction {\n    //Flutter\n    FlutterViewController *flutterViewController = [FlutterViewController new];\n\n    [flutterViewController setInitialRoute:@\"{name:'devio',dataList:['aa','bb',''cc]}\"];\n\n    [self presentViewController:flutterViewController animated:true completion:nil];\n}\n@end\n```\n\n### Flutter  H5 \n\n```\nflutter_webview_plugin: ^0.3.11\n\n\nimport 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_webview_plugin/flutter_webview_plugin.dart';\n\n//\nconst CATCH_URLS = ['m.ctrip.com/', 'm.ctrip.com/html5/', 'm.ctrip.com/html5', 'dp.ctrip.com/'];\n\nclass Webview extends StatefulWidget {\n  final String url;\n  final String statusBarColor;\n  final String title;\n  final bool hideAppBar;\n  final bool backForbid;\n\n\n  Webview({Key key, this.url , this.statusBarColor, this.title, this.hideAppBar, this.backForbid=false});\n\n  @override\n  _WebviewState createState() => _WebviewState();\n}\n\nclass _WebviewState extends State<Webview>{\n  final webviewReference = FlutterWebviewPlugin();\n  StreamSubscription<String> _onUrlChanged;\n  StreamSubscription<WebViewStateChanged> _onStateChanged;\n  StreamSubscription<WebViewHttpError> _onHttpError;\n  bool exiting = false;\n  @override\n  void initState() {\n    super.initState();\n    //\n    webviewReference.close();\n    //urlString\n    _onUrlChanged = webviewReference.onUrlChanged.listen((String url) {});\n    //\n    //startLoad\n    _onStateChanged = webviewReference.onStateChanged.listen((WebViewStateChanged state) {\n      switch (state.type) {\n        case WebViewState.startLoad:\n          if (_isToMain(state.url) && !exiting) {\n            if (widget.backForbid) {\n              webviewReference.launch(widget.url);\n            }else {\n              Navigator.pop(context);\n              exiting = true;\n            }\n          }\n          break;\n        default:\n          break;\n      }\n    });\n    //url\n    _onHttpError = webviewReference.onHttpError.listen((WebViewHttpError error) {\n      print(error);\n    });\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    //\n    _onUrlChanged.cancel();\n    _onStateChanged.cancel();\n    _onHttpError.cancel();\n    webviewReference.dispose();\n  }\n\n  //Flutter\n  _isToMain(String url) {\n    bool contain = false;\n    for (final value in CATCH_URLS) {\n      if (url?.endsWith(value)??false) {\n        contain = true;\n        break;\n      }\n    }\n    return contain;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    String statusBarColorStr = widget.statusBarColor ?? 'ffffff';\n    Color backButtonColor;\n    if (statusBarColorStr == 'ffffff') {\n      backButtonColor = Colors.black;\n    } else {\n      backButtonColor = Colors.white;\n    }\n    return Scaffold(\n      body: Column(\n        children: <Widget>[\n          _appBar(Color(int.parse('0xff'+statusBarColorStr)),backButtonColor),\n          Expanded(\n            child: WebviewScaffold(\n              url: widget.url,\n              withZoom: true,\n              hidden: true,\n              initialChild: Container(\n                color: Colors.white,\n                child: Center(\n                  child: Text('Waiting.....'),\n                )\n              ),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n\n  _appBar(Color backgroundColor, Color backButtonColor) {\n    if (widget.hideAppBar??false) {\n      return Container(\n        color: backgroundColor,\n        height: 30,\n      );\n    }\n    return Container(\n      child: FractionallySizedBox(\n        child:  Stack(\n          children: <Widget>[\n            GestureDetector(\n              child: Container(\n                margin: EdgeInsets.only(left:10),\n                child: Icon(\n                  Icons.close,\n                  color: backButtonColor,\n                  size: 26,\n                )\n              ),\n            ),\n            Positioned(\n              left: 0,\n              right: 0,\n              child: Center(\n                child: Text(\n                  widget.title,\n                  style: TextStyle(color:backgroundColor,fontSize:20),\n                ),\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n```\n","slug":"flutter-6-list","published":1,"updated":"2020-08-11T09:20:56.007Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42d0022he6j0gz1fqib","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"Flutter-\"><a href=\"#Flutter-\" class=\"headerlink\" title=\"Flutter \"></a>Flutter </h3><ul>\n<li> Flutter module</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create -t module flutter_module</span><br></pre></td></tr></table></figure>\n<ul>\n<li> Flutter module </li>\n<li> Java/Object-c  Flutter module</li>\n</ul>\n<h3 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h3><h4 id=\"-Flutter-module\"><a href=\"#-Flutter-module\" class=\"headerlink\" title=\" Flutter module\"></a> Flutter module</h4><ol>\n<li> settings.gradle(Project Settings)</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Flutter</span><br><span class=\"line\">setBinding(new Binding([gradle: this]))                                 // new</span><br><span class=\"line\">evaluate(new File(                                                      // new</span><br><span class=\"line\">    settingsDir.parentFile,                                                // new</span><br><span class=\"line\">    &apos;flutter_module/.android/include_flutter.groovy&apos;// new</span><br><span class=\"line\">))</span><br><span class=\"line\"></span><br><span class=\"line\">&apos;flutter_module/.android/include_flutter.groovy&apos;</span><br><span class=\"line\">flutter_moduleFlutterandroid</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li> build.gradle(Module:app)</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">minSdkVersion 16Fluuter module</span><br><span class=\"line\">defaultConfig&#123;</span><br><span class=\"line\">  minSdkVersion 16</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android</span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  compileOptions &#123;</span><br><span class=\"line\">    sourceCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">    targetCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  implementation project(&apos;:flutter&apos;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li> android.support.annotation  Flutter  Android  androidx </li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create --androidx -t module flutter_library</span><br><span class=\"line\"></span><br><span class=\"line\">SDK</span><br></pre></td></tr></table></figure>\n<h4 id=\"Java--Flutter-module\"><a href=\"#Java--Flutter-module\" class=\"headerlink\" title=\"Java  Flutter module\"></a>Java  Flutter module</h4><ul>\n<li>Flutter.createView</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class MainActivity extends AppCompatActivity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState);</span><br><span class=\"line\">    View flutterView = Flutter.createView(this, getLifecycle(), &quot;route1&quot;);</span><br><span class=\"line\">    FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);</span><br><span class=\"line\">    addContentView(flutterView, layoutParams);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>FlutterFragment</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class MainActivity extends AppCompatActivity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState);</span><br><span class=\"line\">    setContentView(R.layout.activity_main);</span><br><span class=\"line\">    FragmentTransaction ft= getSupportFragmentManager().beginTransaction();</span><br><span class=\"line\">    ft.replace(R.id.fragment_container, Flutter.createFragment(&quot;Hello Flutter&quot;));</span><br><span class=\"line\">    ft.commit();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Flutter-\"><a href=\"#Flutter-\" class=\"headerlink\" title=\"Flutter \"></a>Flutter </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;dart:ui&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">void main =&gt; runApp(MyApp(initParams: window.defaultRouteName))</span><br><span class=\"line\"></span><br><span class=\"line\">class MyApp extends StatelessWidget &#123;</span><br><span class=\"line\">  //initParams</span><br><span class=\"line\">  final String initParams</span><br><span class=\"line\"></span><br><span class=\"line\">  const MyApp(&#123;Key key, this.initParams&#125;) : super(key:key);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"iOS\"><a href=\"#iOS\" class=\"headerlink\" title=\"iOS\"></a>iOS</h3><h4 id=\"iOS--Flutter\"><a href=\"#iOS--Flutter\" class=\"headerlink\" title=\"iOS  Flutter\"></a>iOS  Flutter</h4><ul>\n<li> ios  pod init</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Podfile</span><br><span class=\"line\"></span><br><span class=\"line\"># Uncomment the next line to define a global platform for your project</span><br><span class=\"line\"># platform :ios, &apos;9.0&apos;</span><br><span class=\"line\">target &apos;FlutterHybridiOS&apos; do</span><br><span class=\"line\">  # Uncomment the next line if you&apos;re using Swift or would like to use dynamic frameworks</span><br><span class=\"line\">  # use_frameworks!</span><br><span class=\"line\"></span><br><span class=\"line\">  # Pods for FlutterHybridiOS</span><br><span class=\"line\"></span><br><span class=\"line\">  //flutter</span><br><span class=\"line\">  flutter_application_path = &apos;../flutter_module/&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  eval(File.read(File.join(flutter_application_path,&apos;.ios&apos;, &apos;Flutter&apos;, &apos;podhelper.rb&apos;)),binding)</span><br><span class=\"line\"></span><br><span class=\"line\">  target &apos;FlutterHybridiOSTests&apos; do</span><br><span class=\"line\">    inherit! :search_paths</span><br><span class=\"line\">    # Pods for testing</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">  target &apos;FlutterHybridiOSUITests&apos; do</span><br><span class=\"line\">    inherit! :search_paths</span><br><span class=\"line\">    # Pods for testing</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>pod install</p>\n</li>\n<li><p>FlutterHybridiOS.xcworkspace  iOS </p>\n</li>\n<li><p>TAGETSBuild SetttingsBuild OptionsEnable Bitcode Bitcode</p>\n</li>\n<li><p>Enable PhasesNew Run Script Phase</p>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh&quot; build</span><br><span class=\"line\">&quot;$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh&quot; embed</span><br></pre></td></tr></table></figure>\n<ul>\n<li>build </li>\n</ul>\n<h4 id=\"Object-c--Flutter-module\"><a href=\"#Object-c--Flutter-module\" class=\"headerlink\" title=\"Object-c  Flutter module\"></a>Object-c  Flutter module</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ViewController.m</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;Flutter/Flutter.h&gt;</span><br><span class=\"line\">#import &quot;AppDelegate.h&quot;</span><br><span class=\"line\">#import &quot;ViewController.h&quot;</span><br><span class=\"line\">#import &lt;FlutterPluginRegistrant/GeneratedPluginRegistrant.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">@interface ViewController ()</span><br><span class=\"line\"></span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\">@implementation ViewController</span><br><span class=\"line\">- (void)viewDidLoad &#123;</span><br><span class=\"line\">    [super viewDidLoad];</span><br><span class=\"line\">    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];</span><br><span class=\"line\">    [button addTarget:self</span><br><span class=\"line\">               action:@selector(handleButtonAction)</span><br><span class=\"line\">     forControlEvents:UIControlEventTouchUpInside];</span><br><span class=\"line\">    [button setTitle:@&quot;Test&quot; forState:UIControlStateNormal];</span><br><span class=\"line\">    [button setBackgroundColor:[UIColor redColor]];</span><br><span class=\"line\">    button.frame = CGRectMake(80.0,210.0,160.0,40.0);</span><br><span class=\"line\">    [self.view addSubview:button];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (void)handleButtonAction &#123;</span><br><span class=\"line\">    //Flutter</span><br><span class=\"line\">    FlutterViewController *flutterViewController = [FlutterViewController new];</span><br><span class=\"line\"></span><br><span class=\"line\">    [flutterViewController setInitialRoute:@&quot;&#123;name:&apos;devio&apos;,dataList:[&apos;aa&apos;,&apos;bb&apos;,&apos;&apos;cc]&#125;&quot;];</span><br><span class=\"line\"></span><br><span class=\"line\">    [self presentViewController:flutterViewController animated:true completion:nil];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">@end</span><br></pre></td></tr></table></figure>\n<h3 id=\"Flutter--H5-\"><a href=\"#Flutter--H5-\" class=\"headerlink\" title=\"Flutter  H5 \"></a>Flutter  H5 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter_webview_plugin: ^0.3.11</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;dart:async&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_webview_plugin/flutter_webview_plugin.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">const CATCH_URLS = [&apos;m.ctrip.com/&apos;, &apos;m.ctrip.com/html5/&apos;, &apos;m.ctrip.com/html5&apos;, &apos;dp.ctrip.com/&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class Webview extends StatefulWidget &#123;</span><br><span class=\"line\">  final String url;</span><br><span class=\"line\">  final String statusBarColor;</span><br><span class=\"line\">  final String title;</span><br><span class=\"line\">  final bool hideAppBar;</span><br><span class=\"line\">  final bool backForbid;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  Webview(&#123;Key key, this.url , this.statusBarColor, this.title, this.hideAppBar, this.backForbid=false&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _WebviewState createState() =&gt; _WebviewState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _WebviewState extends State&lt;Webview&gt;&#123;</span><br><span class=\"line\">  final webviewReference = FlutterWebviewPlugin();</span><br><span class=\"line\">  StreamSubscription&lt;String&gt; _onUrlChanged;</span><br><span class=\"line\">  StreamSubscription&lt;WebViewStateChanged&gt; _onStateChanged;</span><br><span class=\"line\">  StreamSubscription&lt;WebViewHttpError&gt; _onHttpError;</span><br><span class=\"line\">  bool exiting = false;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void initState() &#123;</span><br><span class=\"line\">    super.initState();</span><br><span class=\"line\">    //</span><br><span class=\"line\">    webviewReference.close();</span><br><span class=\"line\">    //urlString</span><br><span class=\"line\">    _onUrlChanged = webviewReference.onUrlChanged.listen((String url) &#123;&#125;);</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //startLoad</span><br><span class=\"line\">    _onStateChanged = webviewReference.onStateChanged.listen((WebViewStateChanged state) &#123;</span><br><span class=\"line\">      switch (state.type) &#123;</span><br><span class=\"line\">        case WebViewState.startLoad:</span><br><span class=\"line\">          if (_isToMain(state.url) &amp;&amp; !exiting) &#123;</span><br><span class=\"line\">            if (widget.backForbid) &#123;</span><br><span class=\"line\">              webviewReference.launch(widget.url);</span><br><span class=\"line\">            &#125;else &#123;</span><br><span class=\"line\">              Navigator.pop(context);</span><br><span class=\"line\">              exiting = true;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        default:</span><br><span class=\"line\">          break;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    //url</span><br><span class=\"line\">    _onHttpError = webviewReference.onHttpError.listen((WebViewHttpError error) &#123;</span><br><span class=\"line\">      print(error);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void dispose() &#123;</span><br><span class=\"line\">    super.dispose();</span><br><span class=\"line\">    //</span><br><span class=\"line\">    _onUrlChanged.cancel();</span><br><span class=\"line\">    _onStateChanged.cancel();</span><br><span class=\"line\">    _onHttpError.cancel();</span><br><span class=\"line\">    webviewReference.dispose();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //Flutter</span><br><span class=\"line\">  _isToMain(String url) &#123;</span><br><span class=\"line\">    bool contain = false;</span><br><span class=\"line\">    for (final value in CATCH_URLS) &#123;</span><br><span class=\"line\">      if (url?.endsWith(value)??false) &#123;</span><br><span class=\"line\">        contain = true;</span><br><span class=\"line\">        break;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return contain;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    String statusBarColorStr = widget.statusBarColor ?? &apos;ffffff&apos;;</span><br><span class=\"line\">    Color backButtonColor;</span><br><span class=\"line\">    if (statusBarColorStr == &apos;ffffff&apos;) &#123;</span><br><span class=\"line\">      backButtonColor = Colors.black;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      backButtonColor = Colors.white;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Column(</span><br><span class=\"line\">        children: &lt;Widget&gt;[</span><br><span class=\"line\">          _appBar(Color(int.parse(&apos;0xff&apos;+statusBarColorStr)),backButtonColor),</span><br><span class=\"line\">          Expanded(</span><br><span class=\"line\">            child: WebviewScaffold(</span><br><span class=\"line\">              url: widget.url,</span><br><span class=\"line\">              withZoom: true,</span><br><span class=\"line\">              hidden: true,</span><br><span class=\"line\">              initialChild: Container(</span><br><span class=\"line\">                color: Colors.white,</span><br><span class=\"line\">                child: Center(</span><br><span class=\"line\">                  child: Text(&apos;Waiting.....&apos;),</span><br><span class=\"line\">                )</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          )</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  _appBar(Color backgroundColor, Color backButtonColor) &#123;</span><br><span class=\"line\">    if (widget.hideAppBar??false) &#123;</span><br><span class=\"line\">      return Container(</span><br><span class=\"line\">        color: backgroundColor,</span><br><span class=\"line\">        height: 30,</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      child: FractionallySizedBox(</span><br><span class=\"line\">        child:  Stack(</span><br><span class=\"line\">          children: &lt;Widget&gt;[</span><br><span class=\"line\">            GestureDetector(</span><br><span class=\"line\">              child: Container(</span><br><span class=\"line\">                margin: EdgeInsets.only(left:10),</span><br><span class=\"line\">                child: Icon(</span><br><span class=\"line\">                  Icons.close,</span><br><span class=\"line\">                  color: backButtonColor,</span><br><span class=\"line\">                  size: 26,</span><br><span class=\"line\">                )</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            ),</span><br><span class=\"line\">            Positioned(</span><br><span class=\"line\">              left: 0,</span><br><span class=\"line\">              right: 0,</span><br><span class=\"line\">              child: Center(</span><br><span class=\"line\">                child: Text(</span><br><span class=\"line\">                  widget.title,</span><br><span class=\"line\">                  style: TextStyle(color:backgroundColor,fontSize:20),</span><br><span class=\"line\">                ),</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ],</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"Flutter-\"><a href=\"#Flutter-\" class=\"headerlink\" title=\"Flutter \"></a>Flutter </h3><ul>\n<li> Flutter module</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create -t module flutter_module</span><br></pre></td></tr></table></figure>\n<ul>\n<li> Flutter module </li>\n<li> Java/Object-c  Flutter module</li>\n</ul>\n<h3 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h3><h4 id=\"-Flutter-module\"><a href=\"#-Flutter-module\" class=\"headerlink\" title=\" Flutter module\"></a> Flutter module</h4><ol>\n<li> settings.gradle(Project Settings)</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Flutter</span><br><span class=\"line\">setBinding(new Binding([gradle: this]))                                 // new</span><br><span class=\"line\">evaluate(new File(                                                      // new</span><br><span class=\"line\">    settingsDir.parentFile,                                                // new</span><br><span class=\"line\">    &apos;flutter_module/.android/include_flutter.groovy&apos;// new</span><br><span class=\"line\">))</span><br><span class=\"line\"></span><br><span class=\"line\">&apos;flutter_module/.android/include_flutter.groovy&apos;</span><br><span class=\"line\">flutter_moduleFlutterandroid</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li> build.gradle(Module:app)</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">minSdkVersion 16Fluuter module</span><br><span class=\"line\">defaultConfig&#123;</span><br><span class=\"line\">  minSdkVersion 16</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android</span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  compileOptions &#123;</span><br><span class=\"line\">    sourceCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">    targetCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  implementation project(&apos;:flutter&apos;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li> android.support.annotation  Flutter  Android  androidx </li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create --androidx -t module flutter_library</span><br><span class=\"line\"></span><br><span class=\"line\">SDK</span><br></pre></td></tr></table></figure>\n<h4 id=\"Java--Flutter-module\"><a href=\"#Java--Flutter-module\" class=\"headerlink\" title=\"Java  Flutter module\"></a>Java  Flutter module</h4><ul>\n<li>Flutter.createView</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class MainActivity extends AppCompatActivity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState);</span><br><span class=\"line\">    View flutterView = Flutter.createView(this, getLifecycle(), &quot;route1&quot;);</span><br><span class=\"line\">    FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);</span><br><span class=\"line\">    addContentView(flutterView, layoutParams);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>FlutterFragment</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class MainActivity extends AppCompatActivity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Override</span><br><span class=\"line\">  protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState);</span><br><span class=\"line\">    setContentView(R.layout.activity_main);</span><br><span class=\"line\">    FragmentTransaction ft= getSupportFragmentManager().beginTransaction();</span><br><span class=\"line\">    ft.replace(R.id.fragment_container, Flutter.createFragment(&quot;Hello Flutter&quot;));</span><br><span class=\"line\">    ft.commit();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Flutter-\"><a href=\"#Flutter-\" class=\"headerlink\" title=\"Flutter \"></a>Flutter </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &apos;dart:ui&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">void main =&gt; runApp(MyApp(initParams: window.defaultRouteName))</span><br><span class=\"line\"></span><br><span class=\"line\">class MyApp extends StatelessWidget &#123;</span><br><span class=\"line\">  //initParams</span><br><span class=\"line\">  final String initParams</span><br><span class=\"line\"></span><br><span class=\"line\">  const MyApp(&#123;Key key, this.initParams&#125;) : super(key:key);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"iOS\"><a href=\"#iOS\" class=\"headerlink\" title=\"iOS\"></a>iOS</h3><h4 id=\"iOS--Flutter\"><a href=\"#iOS--Flutter\" class=\"headerlink\" title=\"iOS  Flutter\"></a>iOS  Flutter</h4><ul>\n<li> ios  pod init</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Podfile</span><br><span class=\"line\"></span><br><span class=\"line\"># Uncomment the next line to define a global platform for your project</span><br><span class=\"line\"># platform :ios, &apos;9.0&apos;</span><br><span class=\"line\">target &apos;FlutterHybridiOS&apos; do</span><br><span class=\"line\">  # Uncomment the next line if you&apos;re using Swift or would like to use dynamic frameworks</span><br><span class=\"line\">  # use_frameworks!</span><br><span class=\"line\"></span><br><span class=\"line\">  # Pods for FlutterHybridiOS</span><br><span class=\"line\"></span><br><span class=\"line\">  //flutter</span><br><span class=\"line\">  flutter_application_path = &apos;../flutter_module/&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">  eval(File.read(File.join(flutter_application_path,&apos;.ios&apos;, &apos;Flutter&apos;, &apos;podhelper.rb&apos;)),binding)</span><br><span class=\"line\"></span><br><span class=\"line\">  target &apos;FlutterHybridiOSTests&apos; do</span><br><span class=\"line\">    inherit! :search_paths</span><br><span class=\"line\">    # Pods for testing</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">  target &apos;FlutterHybridiOSUITests&apos; do</span><br><span class=\"line\">    inherit! :search_paths</span><br><span class=\"line\">    # Pods for testing</span><br><span class=\"line\">  end</span><br><span class=\"line\"></span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>pod install</p>\n</li>\n<li><p>FlutterHybridiOS.xcworkspace  iOS </p>\n</li>\n<li><p>TAGETSBuild SetttingsBuild OptionsEnable Bitcode Bitcode</p>\n</li>\n<li><p>Enable PhasesNew Run Script Phase</p>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh&quot; build</span><br><span class=\"line\">&quot;$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh&quot; embed</span><br></pre></td></tr></table></figure>\n<ul>\n<li>build </li>\n</ul>\n<h4 id=\"Object-c--Flutter-module\"><a href=\"#Object-c--Flutter-module\" class=\"headerlink\" title=\"Object-c  Flutter module\"></a>Object-c  Flutter module</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ViewController.m</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;Flutter/Flutter.h&gt;</span><br><span class=\"line\">#import &quot;AppDelegate.h&quot;</span><br><span class=\"line\">#import &quot;ViewController.h&quot;</span><br><span class=\"line\">#import &lt;FlutterPluginRegistrant/GeneratedPluginRegistrant.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">@interface ViewController ()</span><br><span class=\"line\"></span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\">@implementation ViewController</span><br><span class=\"line\">- (void)viewDidLoad &#123;</span><br><span class=\"line\">    [super viewDidLoad];</span><br><span class=\"line\">    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];</span><br><span class=\"line\">    [button addTarget:self</span><br><span class=\"line\">               action:@selector(handleButtonAction)</span><br><span class=\"line\">     forControlEvents:UIControlEventTouchUpInside];</span><br><span class=\"line\">    [button setTitle:@&quot;Test&quot; forState:UIControlStateNormal];</span><br><span class=\"line\">    [button setBackgroundColor:[UIColor redColor]];</span><br><span class=\"line\">    button.frame = CGRectMake(80.0,210.0,160.0,40.0);</span><br><span class=\"line\">    [self.view addSubview:button];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (void)handleButtonAction &#123;</span><br><span class=\"line\">    //Flutter</span><br><span class=\"line\">    FlutterViewController *flutterViewController = [FlutterViewController new];</span><br><span class=\"line\"></span><br><span class=\"line\">    [flutterViewController setInitialRoute:@&quot;&#123;name:&apos;devio&apos;,dataList:[&apos;aa&apos;,&apos;bb&apos;,&apos;&apos;cc]&#125;&quot;];</span><br><span class=\"line\"></span><br><span class=\"line\">    [self presentViewController:flutterViewController animated:true completion:nil];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">@end</span><br></pre></td></tr></table></figure>\n<h3 id=\"Flutter--H5-\"><a href=\"#Flutter--H5-\" class=\"headerlink\" title=\"Flutter  H5 \"></a>Flutter  H5 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter_webview_plugin: ^0.3.11</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;dart:async&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">import &apos;package:flutter/material.dart&apos;;</span><br><span class=\"line\">import &apos;package:flutter_webview_plugin/flutter_webview_plugin.dart&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">const CATCH_URLS = [&apos;m.ctrip.com/&apos;, &apos;m.ctrip.com/html5/&apos;, &apos;m.ctrip.com/html5&apos;, &apos;dp.ctrip.com/&apos;];</span><br><span class=\"line\"></span><br><span class=\"line\">class Webview extends StatefulWidget &#123;</span><br><span class=\"line\">  final String url;</span><br><span class=\"line\">  final String statusBarColor;</span><br><span class=\"line\">  final String title;</span><br><span class=\"line\">  final bool hideAppBar;</span><br><span class=\"line\">  final bool backForbid;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  Webview(&#123;Key key, this.url , this.statusBarColor, this.title, this.hideAppBar, this.backForbid=false&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  _WebviewState createState() =&gt; _WebviewState();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class _WebviewState extends State&lt;Webview&gt;&#123;</span><br><span class=\"line\">  final webviewReference = FlutterWebviewPlugin();</span><br><span class=\"line\">  StreamSubscription&lt;String&gt; _onUrlChanged;</span><br><span class=\"line\">  StreamSubscription&lt;WebViewStateChanged&gt; _onStateChanged;</span><br><span class=\"line\">  StreamSubscription&lt;WebViewHttpError&gt; _onHttpError;</span><br><span class=\"line\">  bool exiting = false;</span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void initState() &#123;</span><br><span class=\"line\">    super.initState();</span><br><span class=\"line\">    //</span><br><span class=\"line\">    webviewReference.close();</span><br><span class=\"line\">    //urlString</span><br><span class=\"line\">    _onUrlChanged = webviewReference.onUrlChanged.listen((String url) &#123;&#125;);</span><br><span class=\"line\">    //</span><br><span class=\"line\">    //startLoad</span><br><span class=\"line\">    _onStateChanged = webviewReference.onStateChanged.listen((WebViewStateChanged state) &#123;</span><br><span class=\"line\">      switch (state.type) &#123;</span><br><span class=\"line\">        case WebViewState.startLoad:</span><br><span class=\"line\">          if (_isToMain(state.url) &amp;&amp; !exiting) &#123;</span><br><span class=\"line\">            if (widget.backForbid) &#123;</span><br><span class=\"line\">              webviewReference.launch(widget.url);</span><br><span class=\"line\">            &#125;else &#123;</span><br><span class=\"line\">              Navigator.pop(context);</span><br><span class=\"line\">              exiting = true;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        default:</span><br><span class=\"line\">          break;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    //url</span><br><span class=\"line\">    _onHttpError = webviewReference.onHttpError.listen((WebViewHttpError error) &#123;</span><br><span class=\"line\">      print(error);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  void dispose() &#123;</span><br><span class=\"line\">    super.dispose();</span><br><span class=\"line\">    //</span><br><span class=\"line\">    _onUrlChanged.cancel();</span><br><span class=\"line\">    _onStateChanged.cancel();</span><br><span class=\"line\">    _onHttpError.cancel();</span><br><span class=\"line\">    webviewReference.dispose();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //Flutter</span><br><span class=\"line\">  _isToMain(String url) &#123;</span><br><span class=\"line\">    bool contain = false;</span><br><span class=\"line\">    for (final value in CATCH_URLS) &#123;</span><br><span class=\"line\">      if (url?.endsWith(value)??false) &#123;</span><br><span class=\"line\">        contain = true;</span><br><span class=\"line\">        break;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return contain;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  @override</span><br><span class=\"line\">  Widget build(BuildContext context) &#123;</span><br><span class=\"line\">    String statusBarColorStr = widget.statusBarColor ?? &apos;ffffff&apos;;</span><br><span class=\"line\">    Color backButtonColor;</span><br><span class=\"line\">    if (statusBarColorStr == &apos;ffffff&apos;) &#123;</span><br><span class=\"line\">      backButtonColor = Colors.black;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      backButtonColor = Colors.white;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return Scaffold(</span><br><span class=\"line\">      body: Column(</span><br><span class=\"line\">        children: &lt;Widget&gt;[</span><br><span class=\"line\">          _appBar(Color(int.parse(&apos;0xff&apos;+statusBarColorStr)),backButtonColor),</span><br><span class=\"line\">          Expanded(</span><br><span class=\"line\">            child: WebviewScaffold(</span><br><span class=\"line\">              url: widget.url,</span><br><span class=\"line\">              withZoom: true,</span><br><span class=\"line\">              hidden: true,</span><br><span class=\"line\">              initialChild: Container(</span><br><span class=\"line\">                color: Colors.white,</span><br><span class=\"line\">                child: Center(</span><br><span class=\"line\">                  child: Text(&apos;Waiting.....&apos;),</span><br><span class=\"line\">                )</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            ),</span><br><span class=\"line\">          )</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  _appBar(Color backgroundColor, Color backButtonColor) &#123;</span><br><span class=\"line\">    if (widget.hideAppBar??false) &#123;</span><br><span class=\"line\">      return Container(</span><br><span class=\"line\">        color: backgroundColor,</span><br><span class=\"line\">        height: 30,</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return Container(</span><br><span class=\"line\">      child: FractionallySizedBox(</span><br><span class=\"line\">        child:  Stack(</span><br><span class=\"line\">          children: &lt;Widget&gt;[</span><br><span class=\"line\">            GestureDetector(</span><br><span class=\"line\">              child: Container(</span><br><span class=\"line\">                margin: EdgeInsets.only(left:10),</span><br><span class=\"line\">                child: Icon(</span><br><span class=\"line\">                  Icons.close,</span><br><span class=\"line\">                  color: backButtonColor,</span><br><span class=\"line\">                  size: 26,</span><br><span class=\"line\">                )</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            ),</span><br><span class=\"line\">            Positioned(</span><br><span class=\"line\">              left: 0,</span><br><span class=\"line\">              right: 0,</span><br><span class=\"line\">              child: Center(</span><br><span class=\"line\">                child: Text(</span><br><span class=\"line\">                  widget.title,</span><br><span class=\"line\">                  style: TextStyle(color:backgroundColor,fontSize:20),</span><br><span class=\"line\">                ),</span><br><span class=\"line\">              ),</span><br><span class=\"line\">            )</span><br><span class=\"line\">          ],</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Flutter - ","date":"2020-08-11T09:25:47.000Z","_content":"\n### \n\n<!-- more -->\n\n### \n\n-  flutter  MainActivity.java MainActivity.kt,/ios /android \n\n```\nflutter create -i objc -a java new_app\n```\n\n- flutter  SDKflutter \n\n android  ios \n\n### \n\n1. SafeArea \n\n2. MediaQuery.of(context).padding  padding \n\n```\nfinal EdgeInsets paddings = MediaQuery.of(context).padding;\n```\n\n```\nandroid\n\nAndroidManifest.xml\n\n<!---->\n<meta-data\n  android:name=\"android.max_aspect\"\n  android:value=\"2.3\" />\n```\n\n### \n\n- \n\n- \n\n  \n\n   so\n\n- \n\n- \n\n### Android \n\n- AndroidMainifest.xml\n\n```\nAPPandroid:label\n<application\n  android:name=\"io.flutter.app.FlutterApplication\"\n  android:label=\"FlutterDemo\"\n  android:icon=\"@mipmap/ic_launcher\">\n```\n\nmain.dart  title \n\n-  build.gradle(Module:app) \n\n```\nandroid: {\n  compileSdkVersion: 28 //android28\n\n  defaultConfig: {\n    applicationId ''  //\n    minSdkVersion 16 //android16,4.1\n    targetSdkVersion 28\n    versionCode 1 //\n    versionName: '1.0.0' //\n  }\n}\n```\n\n- \n\nres-mipmap-ic_launcher\n\n- APP \n\nandroidStudio  build - Generate Signed Bundle / APK\n\n APK - create new\n\n <app dir>/android/key.properties .\n\n gradle \n\n```\n <app dir>/android/app/build.gradle  app \n android \n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n      ...\n}\n\n\n buildTypes \n\n signingConfigs {\n    release {\n      keyAlias keystoreProperties['keyAlias']\n      keyPassword keystoreProperties['keyPassword']\n      storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n      storePassword keystoreProperties['storePassword']\n    }\n}\nbuildTypes {\n  release {\n    signingConfig signingConfigs.release\n  }\n}\n```\n\n\n\nflutter build apk\n\n### \n\n-  Flutter SDK  packages\n\n```\n\nflutter upgrade\n```\n\n- \n\n```\n-\n\n\nflutter packages upgrade\nflutter packages get\n```\n","source":"_posts/flutter-7-build.md","raw":"---\ntitle: Flutter - \ndate: 2020-08-11 17:25:47\ntags: ['Flutter']\ncategories: Flutter\n---\n\n### \n\n<!-- more -->\n\n### \n\n-  flutter  MainActivity.java MainActivity.kt,/ios /android \n\n```\nflutter create -i objc -a java new_app\n```\n\n- flutter  SDKflutter \n\n android  ios \n\n### \n\n1. SafeArea \n\n2. MediaQuery.of(context).padding  padding \n\n```\nfinal EdgeInsets paddings = MediaQuery.of(context).padding;\n```\n\n```\nandroid\n\nAndroidManifest.xml\n\n<!---->\n<meta-data\n  android:name=\"android.max_aspect\"\n  android:value=\"2.3\" />\n```\n\n### \n\n- \n\n- \n\n  \n\n   so\n\n- \n\n- \n\n### Android \n\n- AndroidMainifest.xml\n\n```\nAPPandroid:label\n<application\n  android:name=\"io.flutter.app.FlutterApplication\"\n  android:label=\"FlutterDemo\"\n  android:icon=\"@mipmap/ic_launcher\">\n```\n\nmain.dart  title \n\n-  build.gradle(Module:app) \n\n```\nandroid: {\n  compileSdkVersion: 28 //android28\n\n  defaultConfig: {\n    applicationId ''  //\n    minSdkVersion 16 //android16,4.1\n    targetSdkVersion 28\n    versionCode 1 //\n    versionName: '1.0.0' //\n  }\n}\n```\n\n- \n\nres-mipmap-ic_launcher\n\n- APP \n\nandroidStudio  build - Generate Signed Bundle / APK\n\n APK - create new\n\n <app dir>/android/key.properties .\n\n gradle \n\n```\n <app dir>/android/app/build.gradle  app \n android \n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n      ...\n}\n\n\n buildTypes \n\n signingConfigs {\n    release {\n      keyAlias keystoreProperties['keyAlias']\n      keyPassword keystoreProperties['keyPassword']\n      storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n      storePassword keystoreProperties['storePassword']\n    }\n}\nbuildTypes {\n  release {\n    signingConfig signingConfigs.release\n  }\n}\n```\n\n\n\nflutter build apk\n\n### \n\n-  Flutter SDK  packages\n\n```\n\nflutter upgrade\n```\n\n- \n\n```\n-\n\n\nflutter packages upgrade\nflutter packages get\n```\n","slug":"flutter-7-build","published":1,"updated":"2020-08-11T09:26:30.638Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42e0024he6jvjewuvv8","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> flutter  MainActivity.java MainActivity.kt,/ios /android </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create -i objc -a java new_app</span><br></pre></td></tr></table></figure>\n<ul>\n<li>flutter  SDKflutter </li>\n</ul>\n<p> android  ios </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>SafeArea </p>\n</li>\n<li><p>MediaQuery.of(context).padding  padding </p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">final EdgeInsets paddings = MediaQuery.of(context).padding;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android</span><br><span class=\"line\"></span><br><span class=\"line\">AndroidManifest.xml</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!----&gt;</span><br><span class=\"line\">&lt;meta-data</span><br><span class=\"line\">  android:name=&quot;android.max_aspect&quot;</span><br><span class=\"line\">  android:value=&quot;2.3&quot; /&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p></p>\n</li>\n<li><p></p>\n<p></p>\n<p> so</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<h3 id=\"Android-\"><a href=\"#Android-\" class=\"headerlink\" title=\"Android \"></a>Android </h3><ul>\n<li>AndroidMainifest.xml</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APPandroid:label</span><br><span class=\"line\">&lt;application</span><br><span class=\"line\">  android:name=&quot;io.flutter.app.FlutterApplication&quot;</span><br><span class=\"line\">  android:label=&quot;FlutterDemo&quot;</span><br><span class=\"line\">  android:icon=&quot;@mipmap/ic_launcher&quot;&gt;</span><br></pre></td></tr></table></figure>\n<p>main.dart  title </p>\n<ul>\n<li> build.gradle(Module:app) </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android: &#123;</span><br><span class=\"line\">  compileSdkVersion: 28 //android28</span><br><span class=\"line\"></span><br><span class=\"line\">  defaultConfig: &#123;</span><br><span class=\"line\">    applicationId &apos;&apos;  //</span><br><span class=\"line\">    minSdkVersion 16 //android16,4.1</span><br><span class=\"line\">    targetSdkVersion 28</span><br><span class=\"line\">    versionCode 1 //</span><br><span class=\"line\">    versionName: &apos;1.0.0&apos; //</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<p>res-mipmap-ic_launcher</p>\n<ul>\n<li>APP </li>\n</ul>\n<p>androidStudio  build - Generate Signed Bundle / APK</p>\n<p> APK - create new</p>\n<p> <app dir=\"\">/android/key.properties .</app></p>\n<p> gradle </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &lt;app dir&gt;/android/app/build.gradle  app </span><br><span class=\"line\"> android </span><br><span class=\"line\"></span><br><span class=\"line\">def keystoreProperties = new Properties()</span><br><span class=\"line\">def keystorePropertiesFile = rootProject.file(&apos;key.properties&apos;)</span><br><span class=\"line\">if (keystorePropertiesFile.exists()) &#123;</span><br><span class=\"line\">    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> buildTypes </span><br><span class=\"line\"></span><br><span class=\"line\"> signingConfigs &#123;</span><br><span class=\"line\">    release &#123;</span><br><span class=\"line\">      keyAlias keystoreProperties[&apos;keyAlias&apos;]</span><br><span class=\"line\">      keyPassword keystoreProperties[&apos;keyPassword&apos;]</span><br><span class=\"line\">      storeFile keystoreProperties[&apos;storeFile&apos;] ? file(keystoreProperties[&apos;storeFile&apos;]) : null</span><br><span class=\"line\">      storePassword keystoreProperties[&apos;storePassword&apos;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">buildTypes &#123;</span><br><span class=\"line\">  release &#123;</span><br><span class=\"line\">    signingConfig signingConfigs.release</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>flutter build apk</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> Flutter SDK  packages</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">flutter upgrade</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">flutter packages upgrade</span><br><span class=\"line\">flutter packages get</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> flutter  MainActivity.java MainActivity.kt,/ios /android </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter create -i objc -a java new_app</span><br></pre></td></tr></table></figure>\n<ul>\n<li>flutter  SDKflutter </li>\n</ul>\n<p> android  ios </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>SafeArea </p>\n</li>\n<li><p>MediaQuery.of(context).padding  padding </p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">final EdgeInsets paddings = MediaQuery.of(context).padding;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android</span><br><span class=\"line\"></span><br><span class=\"line\">AndroidManifest.xml</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!----&gt;</span><br><span class=\"line\">&lt;meta-data</span><br><span class=\"line\">  android:name=&quot;android.max_aspect&quot;</span><br><span class=\"line\">  android:value=&quot;2.3&quot; /&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p></p>\n</li>\n<li><p></p>\n<p></p>\n<p> so</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<h3 id=\"Android-\"><a href=\"#Android-\" class=\"headerlink\" title=\"Android \"></a>Android </h3><ul>\n<li>AndroidMainifest.xml</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APPandroid:label</span><br><span class=\"line\">&lt;application</span><br><span class=\"line\">  android:name=&quot;io.flutter.app.FlutterApplication&quot;</span><br><span class=\"line\">  android:label=&quot;FlutterDemo&quot;</span><br><span class=\"line\">  android:icon=&quot;@mipmap/ic_launcher&quot;&gt;</span><br></pre></td></tr></table></figure>\n<p>main.dart  title </p>\n<ul>\n<li> build.gradle(Module:app) </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android: &#123;</span><br><span class=\"line\">  compileSdkVersion: 28 //android28</span><br><span class=\"line\"></span><br><span class=\"line\">  defaultConfig: &#123;</span><br><span class=\"line\">    applicationId &apos;&apos;  //</span><br><span class=\"line\">    minSdkVersion 16 //android16,4.1</span><br><span class=\"line\">    targetSdkVersion 28</span><br><span class=\"line\">    versionCode 1 //</span><br><span class=\"line\">    versionName: &apos;1.0.0&apos; //</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<p>res-mipmap-ic_launcher</p>\n<ul>\n<li>APP </li>\n</ul>\n<p>androidStudio  build - Generate Signed Bundle / APK</p>\n<p> APK - create new</p>\n<p> <app dir=\"\">/android/key.properties .</app></p>\n<p> gradle </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &lt;app dir&gt;/android/app/build.gradle  app </span><br><span class=\"line\"> android </span><br><span class=\"line\"></span><br><span class=\"line\">def keystoreProperties = new Properties()</span><br><span class=\"line\">def keystorePropertiesFile = rootProject.file(&apos;key.properties&apos;)</span><br><span class=\"line\">if (keystorePropertiesFile.exists()) &#123;</span><br><span class=\"line\">    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> buildTypes </span><br><span class=\"line\"></span><br><span class=\"line\"> signingConfigs &#123;</span><br><span class=\"line\">    release &#123;</span><br><span class=\"line\">      keyAlias keystoreProperties[&apos;keyAlias&apos;]</span><br><span class=\"line\">      keyPassword keystoreProperties[&apos;keyPassword&apos;]</span><br><span class=\"line\">      storeFile keystoreProperties[&apos;storeFile&apos;] ? file(keystoreProperties[&apos;storeFile&apos;]) : null</span><br><span class=\"line\">      storePassword keystoreProperties[&apos;storePassword&apos;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">buildTypes &#123;</span><br><span class=\"line\">  release &#123;</span><br><span class=\"line\">    signingConfig signingConfigs.release</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>flutter build apk</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> Flutter SDK  packages</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">flutter upgrade</span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">flutter packages upgrade</span><br><span class=\"line\">flutter packages get</span><br></pre></td></tr></table></figure>"},{"title":"H5","date":"2018-09-30T16:00:00.000Z","_content":"### JSSDKh5h5\n<!-- more -->\n\n### \n#### JS\n```\nhttp://res2.wx.qq.com/open/js/jweixin-1.4.0.js \n```\n#### config\nJSSDK\nchooseWXPay:\n```\nwx.config({\n    debug: true, // \n    appId: '', // \n    timestamp: , // \n    nonceStr: '', // \n    signature: '',// \n    jsApiList: ['chooseWXPay'] // JS\n});\n```\n#### ready\nconfigreadyconfigconfigreadyready\n```\nwx.ready(function(){\n    wx.chooseWXPay({\n        timestamp: , // \n        nonceStr: , //  32 \n        package:, // prepay_idprepay_id=\\*\\*\\*\n        signType: 'MD5', // 'SHA1''MD5'\n        paySign: , // \n        success: function (res) {\n            if(res.errMsg == \"chooseWXPay:ok\"){\n                alert(\"\")\n            }else{\n                alert(res.errMsg);\n            }\n        }\n    });\n});\n```\n1.\n2.\n3.\n\n### h5\n```\nwxpay.mweb_url,URL\nwindow.location.href = wxpay.mweb_url\n```\nwxpaymweb_url,\n### \n1.h5\n2.alipayhtml\n3.\n\n```\nres => {    \n    const div = document.createElement('div');\n    div.innerHTML = res.html; //html\n    document.body.appendChild(div);\n    document.forms.alipaysubmit.submit(); \n}\n```\n","source":"_posts/h5-pay.md","raw":"---\ntitle: H5\ndate: 2018-10-01\ntags: ['wx.chooseWXPay','Alipay']\ncategories: H5\n---\n### JSSDKh5h5\n<!-- more -->\n\n### \n#### JS\n```\nhttp://res2.wx.qq.com/open/js/jweixin-1.4.0.js \n```\n#### config\nJSSDK\nchooseWXPay:\n```\nwx.config({\n    debug: true, // \n    appId: '', // \n    timestamp: , // \n    nonceStr: '', // \n    signature: '',// \n    jsApiList: ['chooseWXPay'] // JS\n});\n```\n#### ready\nconfigreadyconfigconfigreadyready\n```\nwx.ready(function(){\n    wx.chooseWXPay({\n        timestamp: , // \n        nonceStr: , //  32 \n        package:, // prepay_idprepay_id=\\*\\*\\*\n        signType: 'MD5', // 'SHA1''MD5'\n        paySign: , // \n        success: function (res) {\n            if(res.errMsg == \"chooseWXPay:ok\"){\n                alert(\"\")\n            }else{\n                alert(res.errMsg);\n            }\n        }\n    });\n});\n```\n1.\n2.\n3.\n\n### h5\n```\nwxpay.mweb_url,URL\nwindow.location.href = wxpay.mweb_url\n```\nwxpaymweb_url,\n### \n1.h5\n2.alipayhtml\n3.\n\n```\nres => {    \n    const div = document.createElement('div');\n    div.innerHTML = res.html; //html\n    document.body.appendChild(div);\n    document.forms.alipaysubmit.submit(); \n}\n```\n","slug":"h5-pay","published":1,"updated":"2018-10-09T15:01:50.246Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42g0029he6ja3ow5ox4","content":"<h3 id=\"JSSDKh5h5\"><a href=\"#JSSDKh5h5\" class=\"headerlink\" title=\"JSSDKh5h5\"></a>JSSDKh5h5</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://res2.wx.qq.com/open/js/jweixin-1.4.0.js</span><br></pre></td></tr></table></figure>\n<h4 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h4><p>JSSDK<br>chooseWXPay:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.config(&#123;</span><br><span class=\"line\">    debug: true, // </span><br><span class=\"line\">    appId: &apos;&apos;, // </span><br><span class=\"line\">    timestamp: , // </span><br><span class=\"line\">    nonceStr: &apos;&apos;, // </span><br><span class=\"line\">    signature: &apos;&apos;,// </span><br><span class=\"line\">    jsApiList: [&apos;chooseWXPay&apos;] // JS</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"ready\"><a href=\"#ready\" class=\"headerlink\" title=\"ready\"></a>ready</h4><p>configreadyconfigconfigreadyready<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.ready(function()&#123;</span><br><span class=\"line\">    wx.chooseWXPay(&#123;</span><br><span class=\"line\">        timestamp: , // </span><br><span class=\"line\">        nonceStr: , //  32 </span><br><span class=\"line\">        package:, // prepay_idprepay_id=\\*\\*\\*</span><br><span class=\"line\">        signType: &apos;MD5&apos;, // &apos;SHA1&apos;&apos;MD5&apos;</span><br><span class=\"line\">        paySign: , // </span><br><span class=\"line\">        success: function (res) &#123;</span><br><span class=\"line\">            if(res.errMsg == &quot;chooseWXPay:ok&quot;)&#123;</span><br><span class=\"line\">                alert(&quot;&quot;)</span><br><span class=\"line\">            &#125;else&#123;</span><br><span class=\"line\">                alert(res.errMsg);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>1.<br>2.<br>3.</p>\n<h3 id=\"h5\"><a href=\"#h5\" class=\"headerlink\" title=\"h5\"></a>h5</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wxpay.mweb_url,URL</span><br><span class=\"line\">window.location.href = wxpay.mweb_url</span><br></pre></td></tr></table></figure>\n<p>wxpaymweb_url,</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.h5<br>2.alipayhtml<br>3.<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">res =&gt; &#123;    </span><br><span class=\"line\">    const div = document.createElement(&apos;div&apos;);</span><br><span class=\"line\">    div.innerHTML = res.html; //html</span><br><span class=\"line\">    document.body.appendChild(div);</span><br><span class=\"line\">    document.forms.alipaysubmit.submit(); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"JSSDKh5h5\"><a href=\"#JSSDKh5h5\" class=\"headerlink\" title=\"JSSDKh5h5\"></a>JSSDKh5h5</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://res2.wx.qq.com/open/js/jweixin-1.4.0.js</span><br></pre></td></tr></table></figure>\n<h4 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h4><p>JSSDK<br>chooseWXPay:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.config(&#123;</span><br><span class=\"line\">    debug: true, // </span><br><span class=\"line\">    appId: &apos;&apos;, // </span><br><span class=\"line\">    timestamp: , // </span><br><span class=\"line\">    nonceStr: &apos;&apos;, // </span><br><span class=\"line\">    signature: &apos;&apos;,// </span><br><span class=\"line\">    jsApiList: [&apos;chooseWXPay&apos;] // JS</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"ready\"><a href=\"#ready\" class=\"headerlink\" title=\"ready\"></a>ready</h4><p>configreadyconfigconfigreadyready<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.ready(function()&#123;</span><br><span class=\"line\">    wx.chooseWXPay(&#123;</span><br><span class=\"line\">        timestamp: , // </span><br><span class=\"line\">        nonceStr: , //  32 </span><br><span class=\"line\">        package:, // prepay_idprepay_id=\\*\\*\\*</span><br><span class=\"line\">        signType: &apos;MD5&apos;, // &apos;SHA1&apos;&apos;MD5&apos;</span><br><span class=\"line\">        paySign: , // </span><br><span class=\"line\">        success: function (res) &#123;</span><br><span class=\"line\">            if(res.errMsg == &quot;chooseWXPay:ok&quot;)&#123;</span><br><span class=\"line\">                alert(&quot;&quot;)</span><br><span class=\"line\">            &#125;else&#123;</span><br><span class=\"line\">                alert(res.errMsg);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>1.<br>2.<br>3.</p>\n<h3 id=\"h5\"><a href=\"#h5\" class=\"headerlink\" title=\"h5\"></a>h5</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wxpay.mweb_url,URL</span><br><span class=\"line\">window.location.href = wxpay.mweb_url</span><br></pre></td></tr></table></figure>\n<p>wxpaymweb_url,</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.h5<br>2.alipayhtml<br>3.<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">res =&gt; &#123;    </span><br><span class=\"line\">    const div = document.createElement(&apos;div&apos;);</span><br><span class=\"line\">    div.innerHTML = res.html; //html</span><br><span class=\"line\">    document.body.appendChild(div);</span><br><span class=\"line\">    document.forms.alipaysubmit.submit(); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>"},{"title":"JavaScript","date":"2019-01-03T15:03:37.000Z","_content":"\n### \n<!-- more -->\n1. \n2. \n```\nvar value = 1;\n\nfunction foo() {\n    console.log(value);\n}\n\nfunction bar() {\n    var value = 2;\n    foo();\n}\n\nbar();\n```\nbar()bar()foo()foo value  1 1\n\n### \n```\nvar foo = function () {\n\n    console.log('foo1');\n\n}\n\nfoo();  // foo1\n\nvar foo = function () {\n\n    console.log('foo2');\n\n}\n\nfoo(); // foo2\n```\n```\nfunction foo() {\n\n    console.log('foo1');\n\n}\n\nfoo();  // foo2\n\nfunction foo() {\n\n    console.log('foo2');\n\n}\n\nfoo(); // foo2\n```\n JavaScript \n\n ### \n 1. JS\n 2. \n ```\nvar foo = 3;\n\nfunction hoistVariable() {\n\n    var foo = foo || 5;\n\n    console.log(foo); // 5\n}\n\nhoistVariable();\n ```\n foofoofoofoo\n\n ### \n 1. \n ```\n function hoistFunction() {\n    foo(); // output: I am hoisted\n\n    function foo() {\n        console.log('I am hoisted');\n    }\n}\n\nhoistFunction();\n ```\n 2. \n ```\n function hoistFunction() {\n    function foo() {\n        console.log(1);\n    }\n\n    foo(); // output: 2\n\n    function foo() {\n        console.log(2);\n    }\n}\n\nhoistFunction();\n ```\n 3. \n ```\n// \nfunction foo() {\n    console.log('function declaration');\n}\n\n// \nvar foo = function() {\n    console.log('anonymous function expression');\n};\n\n// \nvar foo = function bar() {\n    console.log('named function expression');\n};\n ```\n1. \n2. \n3. \n4. \n","source":"_posts/js-shangxiawen.md","raw":"---\ntitle: JavaScript\ndate: 2019-01-03 23:03:37\ntags: ['JavaScript']\ncategories: JavaScript\n---\n\n### \n<!-- more -->\n1. \n2. \n```\nvar value = 1;\n\nfunction foo() {\n    console.log(value);\n}\n\nfunction bar() {\n    var value = 2;\n    foo();\n}\n\nbar();\n```\nbar()bar()foo()foo value  1 1\n\n### \n```\nvar foo = function () {\n\n    console.log('foo1');\n\n}\n\nfoo();  // foo1\n\nvar foo = function () {\n\n    console.log('foo2');\n\n}\n\nfoo(); // foo2\n```\n```\nfunction foo() {\n\n    console.log('foo1');\n\n}\n\nfoo();  // foo2\n\nfunction foo() {\n\n    console.log('foo2');\n\n}\n\nfoo(); // foo2\n```\n JavaScript \n\n ### \n 1. JS\n 2. \n ```\nvar foo = 3;\n\nfunction hoistVariable() {\n\n    var foo = foo || 5;\n\n    console.log(foo); // 5\n}\n\nhoistVariable();\n ```\n foofoofoofoo\n\n ### \n 1. \n ```\n function hoistFunction() {\n    foo(); // output: I am hoisted\n\n    function foo() {\n        console.log('I am hoisted');\n    }\n}\n\nhoistFunction();\n ```\n 2. \n ```\n function hoistFunction() {\n    function foo() {\n        console.log(1);\n    }\n\n    foo(); // output: 2\n\n    function foo() {\n        console.log(2);\n    }\n}\n\nhoistFunction();\n ```\n 3. \n ```\n// \nfunction foo() {\n    console.log('function declaration');\n}\n\n// \nvar foo = function() {\n    console.log('anonymous function expression');\n};\n\n// \nvar foo = function bar() {\n    console.log('named function expression');\n};\n ```\n1. \n2. \n3. \n4. \n","slug":"js-shangxiawen","published":1,"updated":"2019-01-03T15:27:18.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42h002bhe6jxq6ug25b","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<ol>\n<li></li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var value = 1;</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function bar() &#123;</span><br><span class=\"line\">    var value = 2;</span><br><span class=\"line\">    foo();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">bar();</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>bar()bar()foo()foo value  1 1</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var foo = function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo1&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo();  // foo1</span><br><span class=\"line\"></span><br><span class=\"line\">var foo = function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo2&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo(); // foo2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo1&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo();  // foo2</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo2&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo(); // foo2</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>JS</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var foo = 3;</span><br><span class=\"line\"></span><br><span class=\"line\">function hoistVariable() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    var foo = foo || 5;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(foo); // 5</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hoistVariable();</span><br></pre></td></tr></table></figure>\n<p>foofoofoofoo</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> function hoistFunction() &#123;</span><br><span class=\"line\">    foo(); // output: I am hoisted</span><br><span class=\"line\"></span><br><span class=\"line\">    function foo() &#123;</span><br><span class=\"line\">        console.log(&apos;I am hoisted&apos;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hoistFunction();</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> function hoistFunction() &#123;</span><br><span class=\"line\">    function foo() &#123;</span><br><span class=\"line\">        console.log(1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    foo(); // output: 2</span><br><span class=\"line\"></span><br><span class=\"line\">    function foo() &#123;</span><br><span class=\"line\">        console.log(2);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hoistFunction();</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(&apos;function declaration&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">var foo = function() &#123;</span><br><span class=\"line\">    console.log(&apos;anonymous function expression&apos;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">var foo = function bar() &#123;</span><br><span class=\"line\">    console.log(&apos;named function expression&apos;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<ol>\n<li></li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var value = 1;</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function bar() &#123;</span><br><span class=\"line\">    var value = 2;</span><br><span class=\"line\">    foo();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">bar();</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>bar()bar()foo()foo value  1 1</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var foo = function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo1&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo();  // foo1</span><br><span class=\"line\"></span><br><span class=\"line\">var foo = function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo2&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo(); // foo2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function foo() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo1&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo();  // foo2</span><br><span class=\"line\"></span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;foo2&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">foo(); // foo2</span><br></pre></td></tr></table></figure>\n<p> JavaScript </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>JS</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var foo = 3;</span><br><span class=\"line\"></span><br><span class=\"line\">function hoistVariable() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    var foo = foo || 5;</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(foo); // 5</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hoistVariable();</span><br></pre></td></tr></table></figure>\n<p>foofoofoofoo</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3></li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> function hoistFunction() &#123;</span><br><span class=\"line\">    foo(); // output: I am hoisted</span><br><span class=\"line\"></span><br><span class=\"line\">    function foo() &#123;</span><br><span class=\"line\">        console.log(&apos;I am hoisted&apos;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hoistFunction();</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> function hoistFunction() &#123;</span><br><span class=\"line\">    function foo() &#123;</span><br><span class=\"line\">        console.log(1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    foo(); // output: 2</span><br><span class=\"line\"></span><br><span class=\"line\">    function foo() &#123;</span><br><span class=\"line\">        console.log(2);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">hoistFunction();</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">function foo() &#123;</span><br><span class=\"line\">    console.log(&apos;function declaration&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">var foo = function() &#123;</span><br><span class=\"line\">    console.log(&apos;anonymous function expression&apos;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">var foo = function bar() &#123;</span><br><span class=\"line\">    console.log(&apos;named function expression&apos;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>"},{"title":"","date":"2019-08-29T08:45:13.000Z","_content":"\n### \n<!-- more -->\n\n![image](/images/token.jpg)\n\n### h5   \n1. token\n\n2. access_tokenrefresh_token\naccess_tokenrefresh_tokenaccess_token\nrefresh_tokenaccess_token,refresh_token,refresh_token\n\n### \n1. \n\n2. code\n\n```\n// # \nclass HTTP {\n    request({\n        url,\n        data = {},\n        method = 'GET'\n    }) {\n        return new Promise((resolve, reject) => {\n            this._request(url, resolve, reject, data, method)\n        })\n    }\n    // 2\n    // token1 15959 2\n    //  \n    //  \n    //   \n    _request(url, resolve, reject, data = {}, method = 'GET', noRefetch = false) {\n        wx.request({\n            url: config.api_base_url + url,\n            method: method,\n            data: data,\n            header: {\n                'content-type': 'application/json',\n                Authorization: this._encode()\n            },\n            success: (res) => {\n                const code = res.statusCode.toString()\n                if (code.startsWith('2')) {\n                    resolve(res.data)\n                } else {\n                    if (code == '403') {\n                        if (!noRefetch) {\n                            this._refetch(\n                                url,\n                                resolve,\n                                reject,\n                                data,\n                                method\n                            )\n                        }\n                    } else {\n                        reject()\n                        const error_code = res.data.error_code\n                        this._show_error(error_code)\n                    }\n                }\n            },\n            fail: (err) => {\n                reject()\n                this._show_error(1)\n            }\n        })\n\n    }\n\n    _show_error(error_code) {\n        if (!error_code) {\n            error_code = 1\n        }\n        const tip = tips[error_code]\n        wx.showToast({\n            title: tip ? tip : tips[1],\n            icon: 'none',\n            duration: 2000\n        })\n    }\n\n    _refetch(...param) {\n        var token = new Token();\n        token.getTokenFromServer((token) => {\n            this._request(...param, true);\n        });\n    }\n\n    _encode() {\n        const token = wx.getStorageSync('token')\n        const base64 = new Base64()\n        const result = base64.encode(token + ':')\n        return 'Basic ' + result\n    }\n\n\n}\n```\n\n```\nclass Token {\n    constructor() {\n        this.verifyUrl = config.api_base_url + 'token/verify';\n        this.tokenUrl = config.api_base_url + 'token';\n    }\n\n    verify() {\n        var token = wx.getStorageSync('token');\n        if (!token) {\n            this.getTokenFromServer();\n        } else {\n            this._veirfyFromServer(token);\n        }\n    }\n\n    _veirfyFromServer(token) {\n        var that = this;\n        wx.request({\n            url: that.verifyUrl,\n            method: 'POST',\n            data: {\n                token: token\n            },\n            success: function (res) {\n                console.log(res)\n                var valid = res.data.isValid;\n                if (!valid) {\n                    that.getTokenFromServer();\n                }\n            }\n        })\n    }\n\n    getTokenFromServer(callBack) {\n        var that = this;\n        wx.login({\n            success: function (res) {\n                wx.request({\n                    url: that.tokenUrl,\n                    method: 'POST',\n                    data: {\n                        account: res.code,\n                        type: 100\n                    },\n                    success: function (res) {\n                        wx.setStorageSync('token', res.data.token);\n                        console.log(res)\n                        callBack && callBack(res.data.token);\n                    }\n                })\n            }\n        })\n    }\n}\n```\n\n```\napp.js\n\nApp({\n    onLaunch: function () {\n        const token = new Token()\n        token.verify()\n    }\n})\n```\n\n\n","source":"_posts/js-token.md","raw":"---\ntitle: \ndate: 2019-08-29 16:45:13\ntags: ['JavaScript']\ncategories: JavaScript\n---\n\n### \n<!-- more -->\n\n![image](/images/token.jpg)\n\n### h5   \n1. token\n\n2. access_tokenrefresh_token\naccess_tokenrefresh_tokenaccess_token\nrefresh_tokenaccess_token,refresh_token,refresh_token\n\n### \n1. \n\n2. code\n\n```\n// # \nclass HTTP {\n    request({\n        url,\n        data = {},\n        method = 'GET'\n    }) {\n        return new Promise((resolve, reject) => {\n            this._request(url, resolve, reject, data, method)\n        })\n    }\n    // 2\n    // token1 15959 2\n    //  \n    //  \n    //   \n    _request(url, resolve, reject, data = {}, method = 'GET', noRefetch = false) {\n        wx.request({\n            url: config.api_base_url + url,\n            method: method,\n            data: data,\n            header: {\n                'content-type': 'application/json',\n                Authorization: this._encode()\n            },\n            success: (res) => {\n                const code = res.statusCode.toString()\n                if (code.startsWith('2')) {\n                    resolve(res.data)\n                } else {\n                    if (code == '403') {\n                        if (!noRefetch) {\n                            this._refetch(\n                                url,\n                                resolve,\n                                reject,\n                                data,\n                                method\n                            )\n                        }\n                    } else {\n                        reject()\n                        const error_code = res.data.error_code\n                        this._show_error(error_code)\n                    }\n                }\n            },\n            fail: (err) => {\n                reject()\n                this._show_error(1)\n            }\n        })\n\n    }\n\n    _show_error(error_code) {\n        if (!error_code) {\n            error_code = 1\n        }\n        const tip = tips[error_code]\n        wx.showToast({\n            title: tip ? tip : tips[1],\n            icon: 'none',\n            duration: 2000\n        })\n    }\n\n    _refetch(...param) {\n        var token = new Token();\n        token.getTokenFromServer((token) => {\n            this._request(...param, true);\n        });\n    }\n\n    _encode() {\n        const token = wx.getStorageSync('token')\n        const base64 = new Base64()\n        const result = base64.encode(token + ':')\n        return 'Basic ' + result\n    }\n\n\n}\n```\n\n```\nclass Token {\n    constructor() {\n        this.verifyUrl = config.api_base_url + 'token/verify';\n        this.tokenUrl = config.api_base_url + 'token';\n    }\n\n    verify() {\n        var token = wx.getStorageSync('token');\n        if (!token) {\n            this.getTokenFromServer();\n        } else {\n            this._veirfyFromServer(token);\n        }\n    }\n\n    _veirfyFromServer(token) {\n        var that = this;\n        wx.request({\n            url: that.verifyUrl,\n            method: 'POST',\n            data: {\n                token: token\n            },\n            success: function (res) {\n                console.log(res)\n                var valid = res.data.isValid;\n                if (!valid) {\n                    that.getTokenFromServer();\n                }\n            }\n        })\n    }\n\n    getTokenFromServer(callBack) {\n        var that = this;\n        wx.login({\n            success: function (res) {\n                wx.request({\n                    url: that.tokenUrl,\n                    method: 'POST',\n                    data: {\n                        account: res.code,\n                        type: 100\n                    },\n                    success: function (res) {\n                        wx.setStorageSync('token', res.data.token);\n                        console.log(res)\n                        callBack && callBack(res.data.token);\n                    }\n                })\n            }\n        })\n    }\n}\n```\n\n```\napp.js\n\nApp({\n    onLaunch: function () {\n        const token = new Token()\n        token.verify()\n    }\n})\n```\n\n\n","slug":"js-token","published":1,"updated":"2019-08-29T08:53:28.825Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42j002ghe6jjfionoxq","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<p><img src=\"/images/token.jpg\" alt=\"image\"></p>\n<h3 id=\"h5\"><a href=\"#h5\" class=\"headerlink\" title=\"h5\"></a>h5</h3><ol>\n<li><p>token</p>\n</li>\n<li><p>access_tokenrefresh_token<br>access_tokenrefresh_tokenaccess_token<br>refresh_tokenaccess_token,refresh_token,refresh_token</p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p></p>\n</li>\n<li><p>code</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// # </span><br><span class=\"line\">class HTTP &#123;</span><br><span class=\"line\">    request(&#123;</span><br><span class=\"line\">        url,</span><br><span class=\"line\">        data = &#123;&#125;,</span><br><span class=\"line\">        method = &apos;GET&apos;</span><br><span class=\"line\">    &#125;) &#123;</span><br><span class=\"line\">        return new Promise((resolve, reject) =&gt; &#123;</span><br><span class=\"line\">            this._request(url, resolve, reject, data, method)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 2</span><br><span class=\"line\">    // token1 15959 2</span><br><span class=\"line\">    //  </span><br><span class=\"line\">    //  </span><br><span class=\"line\">    //   </span><br><span class=\"line\">    _request(url, resolve, reject, data = &#123;&#125;, method = &apos;GET&apos;, noRefetch = false) &#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">            url: config.api_base_url + url,</span><br><span class=\"line\">            method: method,</span><br><span class=\"line\">            data: data,</span><br><span class=\"line\">            header: &#123;</span><br><span class=\"line\">                &apos;content-type&apos;: &apos;application/json&apos;,</span><br><span class=\"line\">                Authorization: this._encode()</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success: (res) =&gt; &#123;</span><br><span class=\"line\">                const code = res.statusCode.toString()</span><br><span class=\"line\">                if (code.startsWith(&apos;2&apos;)) &#123;</span><br><span class=\"line\">                    resolve(res.data)</span><br><span class=\"line\">                &#125; else &#123;</span><br><span class=\"line\">                    if (code == &apos;403&apos;) &#123;</span><br><span class=\"line\">                        if (!noRefetch) &#123;</span><br><span class=\"line\">                            this._refetch(</span><br><span class=\"line\">                                url,</span><br><span class=\"line\">                                resolve,</span><br><span class=\"line\">                                reject,</span><br><span class=\"line\">                                data,</span><br><span class=\"line\">                                method</span><br><span class=\"line\">                            )</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125; else &#123;</span><br><span class=\"line\">                        reject()</span><br><span class=\"line\">                        const error_code = res.data.error_code</span><br><span class=\"line\">                        this._show_error(error_code)</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            fail: (err) =&gt; &#123;</span><br><span class=\"line\">                reject()</span><br><span class=\"line\">                this._show_error(1)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _show_error(error_code) &#123;</span><br><span class=\"line\">        if (!error_code) &#123;</span><br><span class=\"line\">            error_code = 1</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        const tip = tips[error_code]</span><br><span class=\"line\">        wx.showToast(&#123;</span><br><span class=\"line\">            title: tip ? tip : tips[1],</span><br><span class=\"line\">            icon: &apos;none&apos;,</span><br><span class=\"line\">            duration: 2000</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _refetch(...param) &#123;</span><br><span class=\"line\">        var token = new Token();</span><br><span class=\"line\">        token.getTokenFromServer((token) =&gt; &#123;</span><br><span class=\"line\">            this._request(...param, true);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _encode() &#123;</span><br><span class=\"line\">        const token = wx.getStorageSync(&apos;token&apos;)</span><br><span class=\"line\">        const base64 = new Base64()</span><br><span class=\"line\">        const result = base64.encode(token + &apos;:&apos;)</span><br><span class=\"line\">        return &apos;Basic &apos; + result</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Token &#123;</span><br><span class=\"line\">    constructor() &#123;</span><br><span class=\"line\">        this.verifyUrl = config.api_base_url + &apos;token/verify&apos;;</span><br><span class=\"line\">        this.tokenUrl = config.api_base_url + &apos;token&apos;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    verify() &#123;</span><br><span class=\"line\">        var token = wx.getStorageSync(&apos;token&apos;);</span><br><span class=\"line\">        if (!token) &#123;</span><br><span class=\"line\">            this.getTokenFromServer();</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            this._veirfyFromServer(token);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _veirfyFromServer(token) &#123;</span><br><span class=\"line\">        var that = this;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">            url: that.verifyUrl,</span><br><span class=\"line\">            method: &apos;POST&apos;,</span><br><span class=\"line\">            data: &#123;</span><br><span class=\"line\">                token: token</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success: function (res) &#123;</span><br><span class=\"line\">                console.log(res)</span><br><span class=\"line\">                var valid = res.data.isValid;</span><br><span class=\"line\">                if (!valid) &#123;</span><br><span class=\"line\">                    that.getTokenFromServer();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    getTokenFromServer(callBack) &#123;</span><br><span class=\"line\">        var that = this;</span><br><span class=\"line\">        wx.login(&#123;</span><br><span class=\"line\">            success: function (res) &#123;</span><br><span class=\"line\">                wx.request(&#123;</span><br><span class=\"line\">                    url: that.tokenUrl,</span><br><span class=\"line\">                    method: &apos;POST&apos;,</span><br><span class=\"line\">                    data: &#123;</span><br><span class=\"line\">                        account: res.code,</span><br><span class=\"line\">                        type: 100</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    success: function (res) &#123;</span><br><span class=\"line\">                        wx.setStorageSync(&apos;token&apos;, res.data.token);</span><br><span class=\"line\">                        console.log(res)</span><br><span class=\"line\">                        callBack &amp;&amp; callBack(res.data.token);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.js</span><br><span class=\"line\"></span><br><span class=\"line\">App(&#123;</span><br><span class=\"line\">    onLaunch: function () &#123;</span><br><span class=\"line\">        const token = new Token()</span><br><span class=\"line\">        token.verify()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<p><img src=\"/images/token.jpg\" alt=\"image\"></p>\n<h3 id=\"h5\"><a href=\"#h5\" class=\"headerlink\" title=\"h5\"></a>h5</h3><ol>\n<li><p>token</p>\n</li>\n<li><p>access_tokenrefresh_token<br>access_tokenrefresh_tokenaccess_token<br>refresh_tokenaccess_token,refresh_token,refresh_token</p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p></p>\n</li>\n<li><p>code</p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// # </span><br><span class=\"line\">class HTTP &#123;</span><br><span class=\"line\">    request(&#123;</span><br><span class=\"line\">        url,</span><br><span class=\"line\">        data = &#123;&#125;,</span><br><span class=\"line\">        method = &apos;GET&apos;</span><br><span class=\"line\">    &#125;) &#123;</span><br><span class=\"line\">        return new Promise((resolve, reject) =&gt; &#123;</span><br><span class=\"line\">            this._request(url, resolve, reject, data, method)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 2</span><br><span class=\"line\">    // token1 15959 2</span><br><span class=\"line\">    //  </span><br><span class=\"line\">    //  </span><br><span class=\"line\">    //   </span><br><span class=\"line\">    _request(url, resolve, reject, data = &#123;&#125;, method = &apos;GET&apos;, noRefetch = false) &#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">            url: config.api_base_url + url,</span><br><span class=\"line\">            method: method,</span><br><span class=\"line\">            data: data,</span><br><span class=\"line\">            header: &#123;</span><br><span class=\"line\">                &apos;content-type&apos;: &apos;application/json&apos;,</span><br><span class=\"line\">                Authorization: this._encode()</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success: (res) =&gt; &#123;</span><br><span class=\"line\">                const code = res.statusCode.toString()</span><br><span class=\"line\">                if (code.startsWith(&apos;2&apos;)) &#123;</span><br><span class=\"line\">                    resolve(res.data)</span><br><span class=\"line\">                &#125; else &#123;</span><br><span class=\"line\">                    if (code == &apos;403&apos;) &#123;</span><br><span class=\"line\">                        if (!noRefetch) &#123;</span><br><span class=\"line\">                            this._refetch(</span><br><span class=\"line\">                                url,</span><br><span class=\"line\">                                resolve,</span><br><span class=\"line\">                                reject,</span><br><span class=\"line\">                                data,</span><br><span class=\"line\">                                method</span><br><span class=\"line\">                            )</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125; else &#123;</span><br><span class=\"line\">                        reject()</span><br><span class=\"line\">                        const error_code = res.data.error_code</span><br><span class=\"line\">                        this._show_error(error_code)</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            fail: (err) =&gt; &#123;</span><br><span class=\"line\">                reject()</span><br><span class=\"line\">                this._show_error(1)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _show_error(error_code) &#123;</span><br><span class=\"line\">        if (!error_code) &#123;</span><br><span class=\"line\">            error_code = 1</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        const tip = tips[error_code]</span><br><span class=\"line\">        wx.showToast(&#123;</span><br><span class=\"line\">            title: tip ? tip : tips[1],</span><br><span class=\"line\">            icon: &apos;none&apos;,</span><br><span class=\"line\">            duration: 2000</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _refetch(...param) &#123;</span><br><span class=\"line\">        var token = new Token();</span><br><span class=\"line\">        token.getTokenFromServer((token) =&gt; &#123;</span><br><span class=\"line\">            this._request(...param, true);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _encode() &#123;</span><br><span class=\"line\">        const token = wx.getStorageSync(&apos;token&apos;)</span><br><span class=\"line\">        const base64 = new Base64()</span><br><span class=\"line\">        const result = base64.encode(token + &apos;:&apos;)</span><br><span class=\"line\">        return &apos;Basic &apos; + result</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Token &#123;</span><br><span class=\"line\">    constructor() &#123;</span><br><span class=\"line\">        this.verifyUrl = config.api_base_url + &apos;token/verify&apos;;</span><br><span class=\"line\">        this.tokenUrl = config.api_base_url + &apos;token&apos;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    verify() &#123;</span><br><span class=\"line\">        var token = wx.getStorageSync(&apos;token&apos;);</span><br><span class=\"line\">        if (!token) &#123;</span><br><span class=\"line\">            this.getTokenFromServer();</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            this._veirfyFromServer(token);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _veirfyFromServer(token) &#123;</span><br><span class=\"line\">        var that = this;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">            url: that.verifyUrl,</span><br><span class=\"line\">            method: &apos;POST&apos;,</span><br><span class=\"line\">            data: &#123;</span><br><span class=\"line\">                token: token</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success: function (res) &#123;</span><br><span class=\"line\">                console.log(res)</span><br><span class=\"line\">                var valid = res.data.isValid;</span><br><span class=\"line\">                if (!valid) &#123;</span><br><span class=\"line\">                    that.getTokenFromServer();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    getTokenFromServer(callBack) &#123;</span><br><span class=\"line\">        var that = this;</span><br><span class=\"line\">        wx.login(&#123;</span><br><span class=\"line\">            success: function (res) &#123;</span><br><span class=\"line\">                wx.request(&#123;</span><br><span class=\"line\">                    url: that.tokenUrl,</span><br><span class=\"line\">                    method: &apos;POST&apos;,</span><br><span class=\"line\">                    data: &#123;</span><br><span class=\"line\">                        account: res.code,</span><br><span class=\"line\">                        type: 100</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    success: function (res) &#123;</span><br><span class=\"line\">                        wx.setStorageSync(&apos;token&apos;, res.data.token);</span><br><span class=\"line\">                        console.log(res)</span><br><span class=\"line\">                        callBack &amp;&amp; callBack(res.data.token);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.js</span><br><span class=\"line\"></span><br><span class=\"line\">App(&#123;</span><br><span class=\"line\">    onLaunch: function () &#123;</span><br><span class=\"line\">        const token = new Token()</span><br><span class=\"line\">        token.verify()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>"},{"title":"momentvue","date":"2018-10-09T16:00:00.000Z","_content":"### Vue--moment\n<!-- more -->\n\n### [moment](http://momentjs.cn/)\n\n### \n```\nyarn add moment -S\n```\n\n### \n```\nimport moment from 'moment'\n\nfilters: {\n    dateyear(time){\n        return moment(time*1000).format(\"YYYYMMDD\")\n    },\n    formatDate(time) {\n        return moment(time*1000).format(\"YYYY-MM-DD HH:mm:ss\")\n    }\n},\n```\nfilterstimetime1000PHPPHP1000,\n```\n<template>\n    <div>{{item.add_time | formatDate}}</div>\n</template>\n```\nvue","source":"_posts/moment.md","raw":"---\ntitle: momentvue\ndate: 2018-10-10\ntags: [\"vue\"]\ncategories: vue\n---\n### Vue--moment\n<!-- more -->\n\n### [moment](http://momentjs.cn/)\n\n### \n```\nyarn add moment -S\n```\n\n### \n```\nimport moment from 'moment'\n\nfilters: {\n    dateyear(time){\n        return moment(time*1000).format(\"YYYYMMDD\")\n    },\n    formatDate(time) {\n        return moment(time*1000).format(\"YYYY-MM-DD HH:mm:ss\")\n    }\n},\n```\nfilterstimetime1000PHPPHP1000,\n```\n<template>\n    <div>{{item.add_time | formatDate}}</div>\n</template>\n```\nvue","slug":"moment","published":1,"updated":"2018-10-10T13:44:04.946Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42k002jhe6jqdtbtwkn","content":"<h3 id=\"Vuemoment\"><a href=\"#Vuemoment\" class=\"headerlink\" title=\"Vuemoment\"></a>Vuemoment</h3><a id=\"more\"></a>\n<h3 id=\"moment\"><a href=\"#moment\" class=\"headerlink\" title=\"moment\"></a><a href=\"http://momentjs.cn/\" target=\"_blank\" rel=\"noopener\">moment</a></h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add moment -S</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import moment from &apos;moment&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">filters: &#123;</span><br><span class=\"line\">    dateyear(time)&#123;</span><br><span class=\"line\">        return moment(time*1000).format(&quot;YYYYMMDD&quot;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    formatDate(time) &#123;</span><br><span class=\"line\">        return moment(time*1000).format(&quot;YYYY-MM-DD HH:mm:ss&quot;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p>filterstimetime1000PHPPHP1000,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    &lt;div&gt;&#123;&#123;item.add_time | formatDate&#125;&#125;&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>\n<p>vue</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"Vuemoment\"><a href=\"#Vuemoment\" class=\"headerlink\" title=\"Vuemoment\"></a>Vuemoment</h3>","more":"<h3 id=\"moment\"><a href=\"#moment\" class=\"headerlink\" title=\"moment\"></a><a href=\"http://momentjs.cn/\" target=\"_blank\" rel=\"noopener\">moment</a></h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add moment -S</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import moment from &apos;moment&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">filters: &#123;</span><br><span class=\"line\">    dateyear(time)&#123;</span><br><span class=\"line\">        return moment(time*1000).format(&quot;YYYYMMDD&quot;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    formatDate(time) &#123;</span><br><span class=\"line\">        return moment(time*1000).format(&quot;YYYY-MM-DD HH:mm:ss&quot;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p>filterstimetime1000PHPPHP1000,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    &lt;div&gt;&#123;&#123;item.add_time | formatDate&#125;&#125;&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>\n<p>vue</p>"},{"title":"Node.js-http","date":"2019-05-29T15:40:30.000Z","_content":"\n### Node.jshttp\n<!-- more -->\n\n### url\n1. DNSTCPhttp\nDNSipRemote Addressip\n\n2. serverhttp\n\n3. js\n\n### get\n#### \n```\nconst http = require('http')\n\nconst server = http.createServer( (req,res) => {\n    res.end('hello world')\n})\n\nserver.listen(8000)\n```\n\n#### get\n1. getserver\n2. querystringa.html?a=100&b=200\n3. get \n```\nconst http = require('http')\nconst querystring = require('querystring')\n\nconst server = http.createServer( (req,res) => {\n    // req.method \n    const url = req.url //url\n    req.query = querystring.parse(url.split(?)[1]) //querystring\n    res.end(JSON.stringify(req.query)) querystring\n})\n\nserver.listen(8000)\n```\n\n### post\n1. post\n\n2. post data\n\n3. jspostman\n```\nconst http = require('http')\n\nconst server = http.createServer( (req.res) => {\n    if (req.methods === \"POST\") {\n        //req\n        console.log('req content-type',req.headers['content-type'])\n\n        let postData = ''\n        req.on('data', chunk => {\n            postData += chunk.toString()\n        })\n\n         req.on('on', chunk => {\n            res.end('hello word')\n        })\n\n    }\n})\n```\n\n### nodehttp\n```\nconst http = require('http')\n\nconst querystring = require('querystring')\n/**\n * url : http://localhost:8000/api/bolg/list?author=zhangsan&key=A\n *\n */\nserver = http.createServer( (req,res) => {\n    const method = req.method\n    const url = req.url\n    const path = url.split('?')[0]\n    const query = querystring.parse(url.split('?')[1])\n\n    //JSON\n    res.setHeader('Content-type','application/json')\n\n    //\n    const resData = {\n        method,\n        url,\n        path,\n        query\n    }\n\n    //\n    if (method === \"GET\") {\n        res.end(JSON.stringify(resData))\n    }\n\n    if (req.methods === \"POST\") {\n\n        let postData = ''\n        req.on('data', chunk => {\n            postData += chunk.toString()\n        })\n\n         req.on('end', () => {\n            resData.postData = postData\n            res.end(JSON.stringify(resData))\n        })\n\n    }\n    \n    //{\"method\":\"GET\",\"url\":\"/api/bolg/list?author=zhangsan&key=A\",\"path\":\"/api/bolg/list\",\"query\":{\"author\":\"zhangsan\",\"key\":\"A\"}}\n\n})\n\nserver.listen(8000)\n\n```\n","source":"_posts/node-http.md","raw":"---\ntitle: Node.js-http\ndate: 2019-05-29 23:40:30\ntags: ['Node.js']\ncategories: Node.js\n---\n\n### Node.jshttp\n<!-- more -->\n\n### url\n1. DNSTCPhttp\nDNSipRemote Addressip\n\n2. serverhttp\n\n3. js\n\n### get\n#### \n```\nconst http = require('http')\n\nconst server = http.createServer( (req,res) => {\n    res.end('hello world')\n})\n\nserver.listen(8000)\n```\n\n#### get\n1. getserver\n2. querystringa.html?a=100&b=200\n3. get \n```\nconst http = require('http')\nconst querystring = require('querystring')\n\nconst server = http.createServer( (req,res) => {\n    // req.method \n    const url = req.url //url\n    req.query = querystring.parse(url.split(?)[1]) //querystring\n    res.end(JSON.stringify(req.query)) querystring\n})\n\nserver.listen(8000)\n```\n\n### post\n1. post\n\n2. post data\n\n3. jspostman\n```\nconst http = require('http')\n\nconst server = http.createServer( (req.res) => {\n    if (req.methods === \"POST\") {\n        //req\n        console.log('req content-type',req.headers['content-type'])\n\n        let postData = ''\n        req.on('data', chunk => {\n            postData += chunk.toString()\n        })\n\n         req.on('on', chunk => {\n            res.end('hello word')\n        })\n\n    }\n})\n```\n\n### nodehttp\n```\nconst http = require('http')\n\nconst querystring = require('querystring')\n/**\n * url : http://localhost:8000/api/bolg/list?author=zhangsan&key=A\n *\n */\nserver = http.createServer( (req,res) => {\n    const method = req.method\n    const url = req.url\n    const path = url.split('?')[0]\n    const query = querystring.parse(url.split('?')[1])\n\n    //JSON\n    res.setHeader('Content-type','application/json')\n\n    //\n    const resData = {\n        method,\n        url,\n        path,\n        query\n    }\n\n    //\n    if (method === \"GET\") {\n        res.end(JSON.stringify(resData))\n    }\n\n    if (req.methods === \"POST\") {\n\n        let postData = ''\n        req.on('data', chunk => {\n            postData += chunk.toString()\n        })\n\n         req.on('end', () => {\n            resData.postData = postData\n            res.end(JSON.stringify(resData))\n        })\n\n    }\n    \n    //{\"method\":\"GET\",\"url\":\"/api/bolg/list?author=zhangsan&key=A\",\"path\":\"/api/bolg/list\",\"query\":{\"author\":\"zhangsan\",\"key\":\"A\"}}\n\n})\n\nserver.listen(8000)\n\n```\n","slug":"node-http","published":1,"updated":"2019-06-12T02:55:38.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42m002ohe6jhncidsgm","content":"<h3 id=\"Node-jshttp\"><a href=\"#Node-jshttp\" class=\"headerlink\" title=\"Node.jshttp\"></a>Node.jshttp</h3><a id=\"more\"></a>\n<h3 id=\"url\"><a href=\"#url\" class=\"headerlink\" title=\"url\"></a>url</h3><ol>\n<li><p>DNSTCPhttp<br>DNSipRemote Addressip</p>\n</li>\n<li><p>serverhttp</p>\n</li>\n<li><p>js</p>\n</li>\n</ol>\n<h3 id=\"get\"><a href=\"#get\" class=\"headerlink\" title=\"get\"></a>get</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const server = http.createServer( (req,res) =&gt; &#123;</span><br><span class=\"line\">    res.end(&apos;hello world&apos;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">server.listen(8000)</span><br></pre></td></tr></table></figure>\n<h4 id=\"get\"><a href=\"#get\" class=\"headerlink\" title=\"get\"></a>get</h4><ol>\n<li>getserver</li>\n<li>querystringa.html?a=100&amp;b=200</li>\n<li>get <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\">const querystring = require(&apos;querystring&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const server = http.createServer( (req,res) =&gt; &#123;</span><br><span class=\"line\">    // req.method </span><br><span class=\"line\">    const url = req.url //url</span><br><span class=\"line\">    req.query = querystring.parse(url.split(?)[1]) //querystring</span><br><span class=\"line\">    res.end(JSON.stringify(req.query)) querystring</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">server.listen(8000)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"post\"><a href=\"#post\" class=\"headerlink\" title=\"post\"></a>post</h3><ol>\n<li><p>post</p>\n</li>\n<li><p>post data</p>\n</li>\n<li><p>jspostman</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const server = http.createServer( (req.res) =&gt; &#123;</span><br><span class=\"line\">    if (req.methods === &quot;POST&quot;) &#123;</span><br><span class=\"line\">        //req</span><br><span class=\"line\">        console.log(&apos;req content-type&apos;,req.headers[&apos;content-type&apos;])</span><br><span class=\"line\"></span><br><span class=\"line\">        let postData = &apos;&apos;</span><br><span class=\"line\">        req.on(&apos;data&apos;, chunk =&gt; &#123;</span><br><span class=\"line\">            postData += chunk.toString()</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">         req.on(&apos;on&apos;, chunk =&gt; &#123;</span><br><span class=\"line\">            res.end(&apos;hello word&apos;)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"nodehttp\"><a href=\"#nodehttp\" class=\"headerlink\" title=\"nodehttp\"></a>nodehttp</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const querystring = require(&apos;querystring&apos;)</span><br><span class=\"line\">/**</span><br><span class=\"line\"> * url : http://localhost:8000/api/bolg/list?author=zhangsan&amp;key=A</span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span><br><span class=\"line\">server = http.createServer( (req,res) =&gt; &#123;</span><br><span class=\"line\">    const method = req.method</span><br><span class=\"line\">    const url = req.url</span><br><span class=\"line\">    const path = url.split(&apos;?&apos;)[0]</span><br><span class=\"line\">    const query = querystring.parse(url.split(&apos;?&apos;)[1])</span><br><span class=\"line\"></span><br><span class=\"line\">    //JSON</span><br><span class=\"line\">    res.setHeader(&apos;Content-type&apos;,&apos;application/json&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    const resData = &#123;</span><br><span class=\"line\">        method,</span><br><span class=\"line\">        url,</span><br><span class=\"line\">        path,</span><br><span class=\"line\">        query</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    if (method === &quot;GET&quot;) &#123;</span><br><span class=\"line\">        res.end(JSON.stringify(resData))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (req.methods === &quot;POST&quot;) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        let postData = &apos;&apos;</span><br><span class=\"line\">        req.on(&apos;data&apos;, chunk =&gt; &#123;</span><br><span class=\"line\">            postData += chunk.toString()</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">         req.on(&apos;end&apos;, () =&gt; &#123;</span><br><span class=\"line\">            resData.postData = postData</span><br><span class=\"line\">            res.end(JSON.stringify(resData))</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //&#123;&quot;method&quot;:&quot;GET&quot;,&quot;url&quot;:&quot;/api/bolg/list?author=zhangsan&amp;key=A&quot;,&quot;path&quot;:&quot;/api/bolg/list&quot;,&quot;query&quot;:&#123;&quot;author&quot;:&quot;zhangsan&quot;,&quot;key&quot;:&quot;A&quot;&#125;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">server.listen(8000)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"Node-jshttp\"><a href=\"#Node-jshttp\" class=\"headerlink\" title=\"Node.jshttp\"></a>Node.jshttp</h3>","more":"<h3 id=\"url\"><a href=\"#url\" class=\"headerlink\" title=\"url\"></a>url</h3><ol>\n<li><p>DNSTCPhttp<br>DNSipRemote Addressip</p>\n</li>\n<li><p>serverhttp</p>\n</li>\n<li><p>js</p>\n</li>\n</ol>\n<h3 id=\"get\"><a href=\"#get\" class=\"headerlink\" title=\"get\"></a>get</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const server = http.createServer( (req,res) =&gt; &#123;</span><br><span class=\"line\">    res.end(&apos;hello world&apos;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">server.listen(8000)</span><br></pre></td></tr></table></figure>\n<h4 id=\"get\"><a href=\"#get\" class=\"headerlink\" title=\"get\"></a>get</h4><ol>\n<li>getserver</li>\n<li>querystringa.html?a=100&amp;b=200</li>\n<li>get <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\">const querystring = require(&apos;querystring&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const server = http.createServer( (req,res) =&gt; &#123;</span><br><span class=\"line\">    // req.method </span><br><span class=\"line\">    const url = req.url //url</span><br><span class=\"line\">    req.query = querystring.parse(url.split(?)[1]) //querystring</span><br><span class=\"line\">    res.end(JSON.stringify(req.query)) querystring</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">server.listen(8000)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"post\"><a href=\"#post\" class=\"headerlink\" title=\"post\"></a>post</h3><ol>\n<li><p>post</p>\n</li>\n<li><p>post data</p>\n</li>\n<li><p>jspostman</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const server = http.createServer( (req.res) =&gt; &#123;</span><br><span class=\"line\">    if (req.methods === &quot;POST&quot;) &#123;</span><br><span class=\"line\">        //req</span><br><span class=\"line\">        console.log(&apos;req content-type&apos;,req.headers[&apos;content-type&apos;])</span><br><span class=\"line\"></span><br><span class=\"line\">        let postData = &apos;&apos;</span><br><span class=\"line\">        req.on(&apos;data&apos;, chunk =&gt; &#123;</span><br><span class=\"line\">            postData += chunk.toString()</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">         req.on(&apos;on&apos;, chunk =&gt; &#123;</span><br><span class=\"line\">            res.end(&apos;hello word&apos;)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"nodehttp\"><a href=\"#nodehttp\" class=\"headerlink\" title=\"nodehttp\"></a>nodehttp</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&apos;http&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const querystring = require(&apos;querystring&apos;)</span><br><span class=\"line\">/**</span><br><span class=\"line\"> * url : http://localhost:8000/api/bolg/list?author=zhangsan&amp;key=A</span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span><br><span class=\"line\">server = http.createServer( (req,res) =&gt; &#123;</span><br><span class=\"line\">    const method = req.method</span><br><span class=\"line\">    const url = req.url</span><br><span class=\"line\">    const path = url.split(&apos;?&apos;)[0]</span><br><span class=\"line\">    const query = querystring.parse(url.split(&apos;?&apos;)[1])</span><br><span class=\"line\"></span><br><span class=\"line\">    //JSON</span><br><span class=\"line\">    res.setHeader(&apos;Content-type&apos;,&apos;application/json&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    const resData = &#123;</span><br><span class=\"line\">        method,</span><br><span class=\"line\">        url,</span><br><span class=\"line\">        path,</span><br><span class=\"line\">        query</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    if (method === &quot;GET&quot;) &#123;</span><br><span class=\"line\">        res.end(JSON.stringify(resData))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (req.methods === &quot;POST&quot;) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        let postData = &apos;&apos;</span><br><span class=\"line\">        req.on(&apos;data&apos;, chunk =&gt; &#123;</span><br><span class=\"line\">            postData += chunk.toString()</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">         req.on(&apos;end&apos;, () =&gt; &#123;</span><br><span class=\"line\">            resData.postData = postData</span><br><span class=\"line\">            res.end(JSON.stringify(resData))</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //&#123;&quot;method&quot;:&quot;GET&quot;,&quot;url&quot;:&quot;/api/bolg/list?author=zhangsan&amp;key=A&quot;,&quot;path&quot;:&quot;/api/bolg/list&quot;,&quot;query&quot;:&#123;&quot;author&quot;:&quot;zhangsan&quot;,&quot;key&quot;:&quot;A&quot;&#125;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">server.listen(8000)</span><br></pre></td></tr></table></figure>"},{"title":"nodejs","date":"2020-04-24T08:38:37.000Z","_content":"\n### nodejs\n<!-- more -->\n\n### \n\n```\n\nssh root@ip\n```\n```\n\nexit\n```\n\n### nodejs\n\n```\n\n\nyum update\n```\n\n```\nyumnode\n\ncurl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -\n\nyum install -y nodejs\n\nnode -v\n\nnpm -v\n\nnpm i nvm pm2 -g\n```\n\n### MySQL\n\n```\n\n\nyum install mysql\nyum install mysql-server\nyum install mysql-devel\n\n```\n\n```\nmysql\nmysqladmin -u root password ''  root\n\nmysql -uroot -proot\n```\n\n```\nmysqlAccess denied for user 'root'@'IP'\ngrant all privileges on *.* to 'root'@'%' with grant option;\nflush privileges;\n```\n\n```\n\n\n MySQL(3306)\n 100\n \n: 0.0.0.0/0\n```\n\n### nginx \n\n```\nyum install nginx\n\nnginx -s reload\n```\n\n```\nnginx \nvim /etc/nginx/conf.d/default.conf\n\nlisten       80 default_server;\nlisten       [::]:80 default_server;\n\n:\nlisten       80;\n#listen       [::]:80 default_server;\n```\n\n```\n\n\n HTTP80\n 100\n \n: 0.0.0.0/0\n```\n\n### nodejs\n\n```\ngit \nyum install git\n\ngit --version #\n```\n\n```\nservice\nmkdir service \n\nservice\ngit clone https://github.com/itsRaul/koa2-weibo-code.git\n\n\nnpm i\n\npm2\nnpm run prd\n\npm2 list #  PM2 \n\npm2 reload all #  cluster mode\n\n```\n\n```\n\n TCP80\n: 3000/3000\n 100\n \n: 0.0.0.0/0\n```\n\n### redis\n```\n1. Redis\nyum install epel-release\n\n2. redis\nyum install redis\n\n3./etc/redis.conf /usr/bin/redis-server     redis-cli\nwhereis redis //\n\n4.vim /etc/redis.conf  \nredis.conf shift+i  :wq\n\n#IP61\nbind 127.0.0.1#bind 127.0.0.1\n#128\ndaemonize no  daemonize yes \n#480\nrequirepass xxx\n#537200mb/500mb/1gb/2gb maxmemory \nmaxmemory 200mb\n#560volatile-lru -> LRU # allkeys-lru -> LRUkey # volatile-random -> key # allkeys->random ->  # volatile-ttl -> TTL # noeviction -> \nmaxmemory-ploicy volatile-lru\n\n5.redis\nservice redis start \n\nchkconfig redis on \n\n6.\nredis-server -v\n\n7.\nredis-cli ping\nPONG\n\n8.redis-cli redis\n# \nredis-cli -h ip -p \n#\nredis-cli -h ip -p  -a  \n redis-cli,auth++\n\nhttps://www.cnblogs.com/kingsonfu/p/9819657.html\n```\n\n### react \n\n```\n1. website \n2. \n3. /etc/nginx/conf.d\n```\ntouch demo_client.conf \nvim /etc/nginx/conf.d/demo_client.conf\n\nserver {\n        listen 8080;\n        root    /root/website/demo-client/build;\n        index   index.html index.html;\n        location / {\n         try_files $uri $uri/ /index.html;\n        }\n}\n\n:wq\n```\n\nnginx 500  \nvim /etc/nginx/nginx.conf\nuse nginx  use root \n```","source":"_posts/nodejs-aliyun.md","raw":"---\ntitle: nodejs\ndate: 2020-04-24 16:38:37\ntags: ['Node.js']\ncategories: Node.js\n---\n\n### nodejs\n<!-- more -->\n\n### \n\n```\n\nssh root@ip\n```\n```\n\nexit\n```\n\n### nodejs\n\n```\n\n\nyum update\n```\n\n```\nyumnode\n\ncurl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -\n\nyum install -y nodejs\n\nnode -v\n\nnpm -v\n\nnpm i nvm pm2 -g\n```\n\n### MySQL\n\n```\n\n\nyum install mysql\nyum install mysql-server\nyum install mysql-devel\n\n```\n\n```\nmysql\nmysqladmin -u root password ''  root\n\nmysql -uroot -proot\n```\n\n```\nmysqlAccess denied for user 'root'@'IP'\ngrant all privileges on *.* to 'root'@'%' with grant option;\nflush privileges;\n```\n\n```\n\n\n MySQL(3306)\n 100\n \n: 0.0.0.0/0\n```\n\n### nginx \n\n```\nyum install nginx\n\nnginx -s reload\n```\n\n```\nnginx \nvim /etc/nginx/conf.d/default.conf\n\nlisten       80 default_server;\nlisten       [::]:80 default_server;\n\n:\nlisten       80;\n#listen       [::]:80 default_server;\n```\n\n```\n\n\n HTTP80\n 100\n \n: 0.0.0.0/0\n```\n\n### nodejs\n\n```\ngit \nyum install git\n\ngit --version #\n```\n\n```\nservice\nmkdir service \n\nservice\ngit clone https://github.com/itsRaul/koa2-weibo-code.git\n\n\nnpm i\n\npm2\nnpm run prd\n\npm2 list #  PM2 \n\npm2 reload all #  cluster mode\n\n```\n\n```\n\n TCP80\n: 3000/3000\n 100\n \n: 0.0.0.0/0\n```\n\n### redis\n```\n1. Redis\nyum install epel-release\n\n2. redis\nyum install redis\n\n3./etc/redis.conf /usr/bin/redis-server     redis-cli\nwhereis redis //\n\n4.vim /etc/redis.conf  \nredis.conf shift+i  :wq\n\n#IP61\nbind 127.0.0.1#bind 127.0.0.1\n#128\ndaemonize no  daemonize yes \n#480\nrequirepass xxx\n#537200mb/500mb/1gb/2gb maxmemory \nmaxmemory 200mb\n#560volatile-lru -> LRU # allkeys-lru -> LRUkey # volatile-random -> key # allkeys->random ->  # volatile-ttl -> TTL # noeviction -> \nmaxmemory-ploicy volatile-lru\n\n5.redis\nservice redis start \n\nchkconfig redis on \n\n6.\nredis-server -v\n\n7.\nredis-cli ping\nPONG\n\n8.redis-cli redis\n# \nredis-cli -h ip -p \n#\nredis-cli -h ip -p  -a  \n redis-cli,auth++\n\nhttps://www.cnblogs.com/kingsonfu/p/9819657.html\n```\n\n### react \n\n```\n1. website \n2. \n3. /etc/nginx/conf.d\n```\ntouch demo_client.conf \nvim /etc/nginx/conf.d/demo_client.conf\n\nserver {\n        listen 8080;\n        root    /root/website/demo-client/build;\n        index   index.html index.html;\n        location / {\n         try_files $uri $uri/ /index.html;\n        }\n}\n\n:wq\n```\n\nnginx 500  \nvim /etc/nginx/nginx.conf\nuse nginx  use root \n```","slug":"nodejs-aliyun","published":1,"updated":"2020-04-24T08:39:13.424Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42o002rhe6jeod8ij7s","content":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">ssh root@ip</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">exit</span><br></pre></td></tr></table></figure>\n<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">yum update</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yumnode</span><br><span class=\"line\"></span><br><span class=\"line\">curl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -</span><br><span class=\"line\"></span><br><span class=\"line\">yum install -y nodejs</span><br><span class=\"line\"></span><br><span class=\"line\">node -v</span><br><span class=\"line\"></span><br><span class=\"line\">npm -v</span><br><span class=\"line\"></span><br><span class=\"line\">npm i nvm pm2 -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">yum install mysql</span><br><span class=\"line\">yum install mysql-server</span><br><span class=\"line\">yum install mysql-devel</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql</span><br><span class=\"line\">mysqladmin -u root password &apos;&apos;  root</span><br><span class=\"line\"></span><br><span class=\"line\">mysql -uroot -proot</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqlAccess denied for user &apos;root&apos;@&apos;IP&apos;</span><br><span class=\"line\">grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; with grant option;</span><br><span class=\"line\">flush privileges;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> MySQL(3306)</span><br><span class=\"line\"> 100</span><br><span class=\"line\"> </span><br><span class=\"line\">: 0.0.0.0/0</span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install nginx</span><br><span class=\"line\"></span><br><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx </span><br><span class=\"line\">vim /etc/nginx/conf.d/default.conf</span><br><span class=\"line\"></span><br><span class=\"line\">listen       80 default_server;</span><br><span class=\"line\">listen       [::]:80 default_server;</span><br><span class=\"line\"></span><br><span class=\"line\">:</span><br><span class=\"line\">listen       80;</span><br><span class=\"line\">#listen       [::]:80 default_server;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> HTTP80</span><br><span class=\"line\"> 100</span><br><span class=\"line\"> </span><br><span class=\"line\">: 0.0.0.0/0</span><br></pre></td></tr></table></figure>\n<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git </span><br><span class=\"line\">yum install git</span><br><span class=\"line\"></span><br><span class=\"line\">git --version #</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service</span><br><span class=\"line\">mkdir service </span><br><span class=\"line\"></span><br><span class=\"line\">service</span><br><span class=\"line\">git clone https://github.com/itsRaul/koa2-weibo-code.git</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">npm i</span><br><span class=\"line\"></span><br><span class=\"line\">pm2</span><br><span class=\"line\">npm run prd</span><br><span class=\"line\"></span><br><span class=\"line\">pm2 list #  PM2 </span><br><span class=\"line\"></span><br><span class=\"line\">pm2 reload all #  cluster mode</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> TCP80</span><br><span class=\"line\">: 3000/3000</span><br><span class=\"line\"> 100</span><br><span class=\"line\"> </span><br><span class=\"line\">: 0.0.0.0/0</span><br></pre></td></tr></table></figure>\n<h3 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. Redis</span><br><span class=\"line\">yum install epel-release</span><br><span class=\"line\"></span><br><span class=\"line\">2. redis</span><br><span class=\"line\">yum install redis</span><br><span class=\"line\"></span><br><span class=\"line\">3./etc/redis.conf /usr/bin/redis-server     redis-cli</span><br><span class=\"line\">whereis redis //</span><br><span class=\"line\"></span><br><span class=\"line\">4.vim /etc/redis.conf  </span><br><span class=\"line\">redis.conf shift+i  :wq</span><br><span class=\"line\"></span><br><span class=\"line\">#IP61</span><br><span class=\"line\">bind 127.0.0.1#bind 127.0.0.1</span><br><span class=\"line\">#128</span><br><span class=\"line\">daemonize no  daemonize yes </span><br><span class=\"line\">#480</span><br><span class=\"line\">requirepass xxx</span><br><span class=\"line\">#537200mb/500mb/1gb/2gb maxmemory </span><br><span class=\"line\">maxmemory 200mb</span><br><span class=\"line\">#560volatile-lru -&gt; LRU # allkeys-lru -&gt; LRUkey # volatile-random -&gt; key # allkeys-&gt;random -&gt;  # volatile-ttl -&gt; TTL # noeviction -&gt; </span><br><span class=\"line\">maxmemory-ploicy volatile-lru</span><br><span class=\"line\"></span><br><span class=\"line\">5.redis</span><br><span class=\"line\">service redis start </span><br><span class=\"line\"></span><br><span class=\"line\">chkconfig redis on </span><br><span class=\"line\"></span><br><span class=\"line\">6.</span><br><span class=\"line\">redis-server -v</span><br><span class=\"line\"></span><br><span class=\"line\">7.</span><br><span class=\"line\">redis-cli ping</span><br><span class=\"line\">PONG</span><br><span class=\"line\"></span><br><span class=\"line\">8.redis-cli redis</span><br><span class=\"line\"># </span><br><span class=\"line\">redis-cli -h ip -p </span><br><span class=\"line\">#</span><br><span class=\"line\">redis-cli -h ip -p  -a  </span><br><span class=\"line\"> redis-cli,auth++</span><br><span class=\"line\"></span><br><span class=\"line\">https://www.cnblogs.com/kingsonfu/p/9819657.html</span><br></pre></td></tr></table></figure>\n<h3 id=\"react-\"><a href=\"#react-\" class=\"headerlink\" title=\"react \"></a>react </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. website </span><br><span class=\"line\">2. </span><br><span class=\"line\">3. /etc/nginx/conf.d</span><br></pre></td></tr></table></figure>\n<p>touch demo_client.conf<br>vim /etc/nginx/conf.d/demo_client.conf</p>\n<p>server {<br>        listen 8080;<br>        root    /root/website/demo-client/build;<br>        index   index.html index.html;<br>        location / {<br>         try_files $uri $uri/ /index.html;<br>        }<br>}</p>\n<p>:wq<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">nginx 500  </span><br><span class=\"line\">vim /etc/nginx/nginx.conf</span><br><span class=\"line\">use nginx  use root</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">ssh root@ip</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">exit</span><br></pre></td></tr></table></figure>\n<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">yum update</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yumnode</span><br><span class=\"line\"></span><br><span class=\"line\">curl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -</span><br><span class=\"line\"></span><br><span class=\"line\">yum install -y nodejs</span><br><span class=\"line\"></span><br><span class=\"line\">node -v</span><br><span class=\"line\"></span><br><span class=\"line\">npm -v</span><br><span class=\"line\"></span><br><span class=\"line\">npm i nvm pm2 -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">yum install mysql</span><br><span class=\"line\">yum install mysql-server</span><br><span class=\"line\">yum install mysql-devel</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql</span><br><span class=\"line\">mysqladmin -u root password &apos;&apos;  root</span><br><span class=\"line\"></span><br><span class=\"line\">mysql -uroot -proot</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqlAccess denied for user &apos;root&apos;@&apos;IP&apos;</span><br><span class=\"line\">grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; with grant option;</span><br><span class=\"line\">flush privileges;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> MySQL(3306)</span><br><span class=\"line\"> 100</span><br><span class=\"line\"> </span><br><span class=\"line\">: 0.0.0.0/0</span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install nginx</span><br><span class=\"line\"></span><br><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx </span><br><span class=\"line\">vim /etc/nginx/conf.d/default.conf</span><br><span class=\"line\"></span><br><span class=\"line\">listen       80 default_server;</span><br><span class=\"line\">listen       [::]:80 default_server;</span><br><span class=\"line\"></span><br><span class=\"line\">:</span><br><span class=\"line\">listen       80;</span><br><span class=\"line\">#listen       [::]:80 default_server;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> HTTP80</span><br><span class=\"line\"> 100</span><br><span class=\"line\"> </span><br><span class=\"line\">: 0.0.0.0/0</span><br></pre></td></tr></table></figure>\n<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git </span><br><span class=\"line\">yum install git</span><br><span class=\"line\"></span><br><span class=\"line\">git --version #</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service</span><br><span class=\"line\">mkdir service </span><br><span class=\"line\"></span><br><span class=\"line\">service</span><br><span class=\"line\">git clone https://github.com/itsRaul/koa2-weibo-code.git</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">npm i</span><br><span class=\"line\"></span><br><span class=\"line\">pm2</span><br><span class=\"line\">npm run prd</span><br><span class=\"line\"></span><br><span class=\"line\">pm2 list #  PM2 </span><br><span class=\"line\"></span><br><span class=\"line\">pm2 reload all #  cluster mode</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> TCP80</span><br><span class=\"line\">: 3000/3000</span><br><span class=\"line\"> 100</span><br><span class=\"line\"> </span><br><span class=\"line\">: 0.0.0.0/0</span><br></pre></td></tr></table></figure>\n<h3 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. Redis</span><br><span class=\"line\">yum install epel-release</span><br><span class=\"line\"></span><br><span class=\"line\">2. redis</span><br><span class=\"line\">yum install redis</span><br><span class=\"line\"></span><br><span class=\"line\">3./etc/redis.conf /usr/bin/redis-server     redis-cli</span><br><span class=\"line\">whereis redis //</span><br><span class=\"line\"></span><br><span class=\"line\">4.vim /etc/redis.conf  </span><br><span class=\"line\">redis.conf shift+i  :wq</span><br><span class=\"line\"></span><br><span class=\"line\">#IP61</span><br><span class=\"line\">bind 127.0.0.1#bind 127.0.0.1</span><br><span class=\"line\">#128</span><br><span class=\"line\">daemonize no  daemonize yes </span><br><span class=\"line\">#480</span><br><span class=\"line\">requirepass xxx</span><br><span class=\"line\">#537200mb/500mb/1gb/2gb maxmemory </span><br><span class=\"line\">maxmemory 200mb</span><br><span class=\"line\">#560volatile-lru -&gt; LRU # allkeys-lru -&gt; LRUkey # volatile-random -&gt; key # allkeys-&gt;random -&gt;  # volatile-ttl -&gt; TTL # noeviction -&gt; </span><br><span class=\"line\">maxmemory-ploicy volatile-lru</span><br><span class=\"line\"></span><br><span class=\"line\">5.redis</span><br><span class=\"line\">service redis start </span><br><span class=\"line\"></span><br><span class=\"line\">chkconfig redis on </span><br><span class=\"line\"></span><br><span class=\"line\">6.</span><br><span class=\"line\">redis-server -v</span><br><span class=\"line\"></span><br><span class=\"line\">7.</span><br><span class=\"line\">redis-cli ping</span><br><span class=\"line\">PONG</span><br><span class=\"line\"></span><br><span class=\"line\">8.redis-cli redis</span><br><span class=\"line\"># </span><br><span class=\"line\">redis-cli -h ip -p </span><br><span class=\"line\">#</span><br><span class=\"line\">redis-cli -h ip -p  -a  </span><br><span class=\"line\"> redis-cli,auth++</span><br><span class=\"line\"></span><br><span class=\"line\">https://www.cnblogs.com/kingsonfu/p/9819657.html</span><br></pre></td></tr></table></figure>\n<h3 id=\"react-\"><a href=\"#react-\" class=\"headerlink\" title=\"react \"></a>react </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. website </span><br><span class=\"line\">2. </span><br><span class=\"line\">3. /etc/nginx/conf.d</span><br></pre></td></tr></table></figure>\n<p>touch demo_client.conf<br>vim /etc/nginx/conf.d/demo_client.conf</p>\n<p>server {<br>        listen 8080;<br>        root    /root/website/demo-client/build;<br>        index   index.html index.html;<br>        location / {<br>         try_files $uri $uri/ /index.html;<br>        }<br>}</p>\n<p>:wq<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">nginx 500  </span><br><span class=\"line\">vim /etc/nginx/nginx.conf</span><br><span class=\"line\">use nginx  use root</span><br></pre></td></tr></table></figure></p>"},{"title":"nodejs","date":"2020-04-24T08:36:09.000Z","_content":"\n### nodejs\n<!-- more -->\n\n###  Koa2 \n\n1.\n```\nkoa2 -e name (-eejs)\n\nnpm i \n\nnpm run dev\n```\n\n2.\n```\nnpm i cross-env\n\n\"dev\": \"cross-env NODE_ENV=dev ./node_modules/.bin/nodemon bin/www\",\n\n\"prd\": \"cross-env NODE_ENV=production pm2 start bin/www\",\n```\n\n### ejs\n\n```\ntitle\n\n<p>EJS Welcome to <%= title %></p>\n```\n\n```\nejs\n\n<%- include('./user-info',{\n    isMe\n}) %>\n```\n\n```\nif \n\n<div>\n    <% if (isMe) { %>\n        <p></p>\n    <% } else { %>\n        <p></p>\n    <% } %>\n</div>\n```\n\n```\n\n\n<ul>\n    <% blogList.forEach(blog => { %>\n        <li> <%= blog%> </li>\n    <% }) %>\n</ul>\n\n<script>\n    console.log('100')\n</sctipt>\n```\n\n### mysql\n\n#### \n\n```\n1.\ninsert into users(username,`password`,nickname) values('list','123','');\npassword\n\n2.\nselect * from users; \n\nselect username,nickname from users where username='lisi' and password='123'; \n\nselect * from blogs order by id desc; \n\nselect count(id) as `count` from blogs; *\n\nselect * from blogs order by id desc limit 3; blog3\n\nselect * from blogs order by id desc limit 2 offset 2; 2\n\nselect blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid; blogsusers\n\nselect blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid whers users.username = 'lisi'; lisi\n\n3.\nupdate blogs set content='1111' where id=2;\n\n4.\ndelete from blogs where id=4;\n```\n\n#### mysql\n\n```\nseq.js\n\nconst Sequelize = require('sequelize')\n\nconst conf = {\n    host: 'localhost',\n    dialect: 'mysql'\n}\n\nconst seq = new Sequelize('koa2_weibo_db','root','',conf)\n\n// seq.authenticate().then(() => {\n//     console.log('ok')\n// }).catch(() => {\n//     console.log('err')\n// })\n\nmodule.exports = seq\n```\n\n#### \n\n```\nconst Sequelize = require('sequelize')\nconst seq = require('./seq')\n\n// User users\nconst User = seq.define('user',{\n    //id \n    userName: {\n        type: Sequelize.STRING, //varchar(255)\n        allowNull: false //\n    },\n    password: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    nickName: {\n        type: Sequelize.STRING,\n        comment: '' //\n    }\n})\n\nconst Blog = seq.define('blog',{\n    //id \n    title: {\n        type: Sequelize.STRING, //varchar(255)\n        allowNull: false //\n    },\n    content: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    userId: {\n        type: Sequelize.INTEGER,\n        allowNull: false\n    }\n})\n\n// \nBlog.belongsTo(User, {\n    // Blog.userId => User.id\n    foreignKey: 'userId'\n})\nUser.hasMany(Blog, {\n    foreignKey: 'userId'\n})\n\nmodule.exports = {\n    User,\n    Blog\n}\n```\n\n#### \n\n```\nconst { User, Blog } = require('./model')\n\n!(async function() {\n\n    //\n    const zhangsan = await User.create({\n        userName: 'zhangsan',\n        password: '123',\n        nickName: '',\n    })\n\n    console.log('zhangsan', zhangsan.dataValues)\n})()\n```\n\n#### \n\n```\nconst { Bolg, User } = require('./model')\n\n!(async function () {\n\n    const zhangsan = await User.findOne({\n        where: {\n            userName: 'zhangsan'\n        }\n    })\n    console.log('zhangsan',zhangsan.dataValues)\n})()\n```\n\n### nodejs \n\n```\n \"dev\": \"cross-env NODE_ENV=dev ./node_modules/.bin/nodemon --inspect=9229 bin/www\"\n\n chrome://inspect/#devices\n\n inspect\n```\n\n### jwt\n\n1. jwt - json web token \n2. server token\n3. token,\n\n```\napp.js\n\nnpm i koa-jwt jsonwebtoken\n\napp.use(jwtKoa({\n\tsecret: SECRET, //\n}).unless({\n\tpath: [/^\\/users\\/login/] // jwt \n}))\n```\n\n```\nconst jwt = require('jsonwebtoken')\nconst util = require('util')\nconst verify = util.promisify(jwt.verify)\n\n SECRET\nlet token \nif (userInfo) {\n    token = jwt.sign(userInfo, SECRET, {expiresIn: '1h'})\n}\n\n\nrouter.get('/getUserInfo',async (ctx,next) => {\n\tconst token = ctx.header.authorization\n\ttry {\n\t\tconst payload = await verify(token.split(' ')[1],SECRET)\n\t\tctx.body = {\n\t\t\tcode:0,\n\t\t\tdata: {\n\t\t\t\tuserInfo:payload\n\t\t\t},\n\t\t\tmsg: ''\n\t\t}\n\t} catch (error) {\n\t\tctx.body = {\n\t\t\tcode: -1,\n\t\t\tmsg: 'failed'\n\t\t}\n\t}\n})\n```\n\n```\ntoken\nBearer +  + token\nAuthorization Bearer token\n```\n\n### ajv \n\n```\nnpm i ajv\n\n_validate.js\n\nconst Ajv = require('ajv')\nconst ajv = new Ajv({\n    // allErrors: true // \n})\n\n/**\n * json schema \n * @param {Object} schema json schema \n * @param {Object} data \n */\nfunction validate(schema, data = {}) {\n    const valid = ajv.validate(schema, data)\n    if (!valid) {\n        return ajv.errors[0]\n    }\n}\n\nmodule.exports = validate\n\n```\n\n```\nuser.js\n\nconst validate = require('./_validate')\n\n// \nconst SCHEMA = {\n    type: 'object',\n    properties: {\n        userName: {\n            type: 'string',\n            pattern: '^[a-zA-Z][a-zA-Z0-9_]+$', // \n            maxLength: 255,\n            minLength: 2\n        },\n        password: {\n            type: 'string',\n            maxLength: 255,\n            minLength: 3\n        },\n        newPassword: {\n            type: 'string',\n            maxLength: 255,\n            minLength: 3\n        },\n        nickName: {\n            type: 'string',\n            maxLength: 255\n        },\n        picture: {\n            type: 'string',\n            maxLength: 255\n        },\n        city: {\n            type: 'string',\n            maxLength: 255,\n            minLength: 2\n        },\n        gender: {\n            type: 'number',\n            minimum: 1,\n            maximum: 3\n        }\n    }\n}\n\n/**\n * \n * @param {Object} data \n */\nfunction userValidate(data = {}) {\n    return validate(SCHEMA, data)\n}\n\nmodule.exports = userValidate\n```\n\n```\n\n\nfunction genValidator(validatorFn) {\n    async function validator(ctx,next) {\n        const data = ctx.request.body\n        const error = validatorFn(data)\n        if (error) {\n            ctx.body = new ErrorModel(jsonSchemaFileInfo)\n            return\n        }\n        await next()\n    } \n    return  validator\n}\n\nmodule.exports = {\n    genValidator\n}\n```\n\n### \n\n```\nnpm i formidable-upload-koa fs-extra --save\n\nconst koaFrom = require('formidable-upload-koa')\n\n1.,koaFromtype\n2.\n3.\n4.\n5.\n6.\nrouter.post('/upload', loginCheck, koaFrom(), async (ctx,next) => {\n    const file = ctx.req.files['file']\n    const { size, path, name, type } = file\n    ctx.body = await saveFile({\n        size, \n        name, \n        type,\n        filePath: path \n    })\n})\n\nconst path = require('path')\nconst fse = require('fs-extra')\n\n//\nconst DIST_FOLDER_PATH = path.join(__dirname, '..', '..', 'uploadFiles')\n// \nconst MIX_SIZE = 1024 * 1024 * 1024\n\n//\nfse.pathExists(DIST_FOLDER_PATH).then(exist => {\n    if (!exist) {\n        fse.ensureDir(DIST_FOLDER_PATH)\n    }\n})\n\n/**\n * \n * @param {number} size \n * @param {string} filePath \n * @param {string} name  \n * @param {string} type  \n */\nasync function saveFile({ size, filePath, name, type }) {\n    if (size > MIX_SIZE) {\n        await fse.remove(path)\n        return new ErrorModel(uploadFileSizeFailInfo)\n    }\n\n    //\n    const fileName = Date.now() + '.' + name\n    const distFilePath = path.join(filePath, DIST_FOLDER_PATH)\n    await fse.move(filePath, distFilePath)\n    return new SuccessModel({\n        url: '/' + fileName\n    })\n}\n\napp.js\napp.use(koaStatic(path.join(__dirname, '..','uploadFiles')))\n```\n\n### xss\n\n```\n\nnpm i xss --save\n\n\nconst xss = require('xss')\nxss(content)\n```\n\n### PM2\n\n#### PM2\nnodejsnode\n\nCPU\n\n#### PM2 \n\n```\n\npm2 list\n\npm2\npm2 restart <App name or id>\n\n\npm2 stop <App name or id>\n\n\npmg2 delete <App name or id>\n\n\npm2 start <App name or id>\n\n\npm2 info <App name or id>\n\n\npm2 monit www\n```\n\nCPU\n redis mysql\n\n### nginx \n\n#### nginx\n1.\n2.\n3.\n","source":"_posts/nodejs-weibo.md","raw":"---\ntitle: nodejs\ndate: 2020-04-24 16:36:09\ntags: ['Node.js']\ncategories: Node.js\n---\n\n### nodejs\n<!-- more -->\n\n###  Koa2 \n\n1.\n```\nkoa2 -e name (-eejs)\n\nnpm i \n\nnpm run dev\n```\n\n2.\n```\nnpm i cross-env\n\n\"dev\": \"cross-env NODE_ENV=dev ./node_modules/.bin/nodemon bin/www\",\n\n\"prd\": \"cross-env NODE_ENV=production pm2 start bin/www\",\n```\n\n### ejs\n\n```\ntitle\n\n<p>EJS Welcome to <%= title %></p>\n```\n\n```\nejs\n\n<%- include('./user-info',{\n    isMe\n}) %>\n```\n\n```\nif \n\n<div>\n    <% if (isMe) { %>\n        <p></p>\n    <% } else { %>\n        <p></p>\n    <% } %>\n</div>\n```\n\n```\n\n\n<ul>\n    <% blogList.forEach(blog => { %>\n        <li> <%= blog%> </li>\n    <% }) %>\n</ul>\n\n<script>\n    console.log('100')\n</sctipt>\n```\n\n### mysql\n\n#### \n\n```\n1.\ninsert into users(username,`password`,nickname) values('list','123','');\npassword\n\n2.\nselect * from users; \n\nselect username,nickname from users where username='lisi' and password='123'; \n\nselect * from blogs order by id desc; \n\nselect count(id) as `count` from blogs; *\n\nselect * from blogs order by id desc limit 3; blog3\n\nselect * from blogs order by id desc limit 2 offset 2; 2\n\nselect blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid; blogsusers\n\nselect blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid whers users.username = 'lisi'; lisi\n\n3.\nupdate blogs set content='1111' where id=2;\n\n4.\ndelete from blogs where id=4;\n```\n\n#### mysql\n\n```\nseq.js\n\nconst Sequelize = require('sequelize')\n\nconst conf = {\n    host: 'localhost',\n    dialect: 'mysql'\n}\n\nconst seq = new Sequelize('koa2_weibo_db','root','',conf)\n\n// seq.authenticate().then(() => {\n//     console.log('ok')\n// }).catch(() => {\n//     console.log('err')\n// })\n\nmodule.exports = seq\n```\n\n#### \n\n```\nconst Sequelize = require('sequelize')\nconst seq = require('./seq')\n\n// User users\nconst User = seq.define('user',{\n    //id \n    userName: {\n        type: Sequelize.STRING, //varchar(255)\n        allowNull: false //\n    },\n    password: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    nickName: {\n        type: Sequelize.STRING,\n        comment: '' //\n    }\n})\n\nconst Blog = seq.define('blog',{\n    //id \n    title: {\n        type: Sequelize.STRING, //varchar(255)\n        allowNull: false //\n    },\n    content: {\n        type: Sequelize.STRING,\n        allowNull: false\n    },\n    userId: {\n        type: Sequelize.INTEGER,\n        allowNull: false\n    }\n})\n\n// \nBlog.belongsTo(User, {\n    // Blog.userId => User.id\n    foreignKey: 'userId'\n})\nUser.hasMany(Blog, {\n    foreignKey: 'userId'\n})\n\nmodule.exports = {\n    User,\n    Blog\n}\n```\n\n#### \n\n```\nconst { User, Blog } = require('./model')\n\n!(async function() {\n\n    //\n    const zhangsan = await User.create({\n        userName: 'zhangsan',\n        password: '123',\n        nickName: '',\n    })\n\n    console.log('zhangsan', zhangsan.dataValues)\n})()\n```\n\n#### \n\n```\nconst { Bolg, User } = require('./model')\n\n!(async function () {\n\n    const zhangsan = await User.findOne({\n        where: {\n            userName: 'zhangsan'\n        }\n    })\n    console.log('zhangsan',zhangsan.dataValues)\n})()\n```\n\n### nodejs \n\n```\n \"dev\": \"cross-env NODE_ENV=dev ./node_modules/.bin/nodemon --inspect=9229 bin/www\"\n\n chrome://inspect/#devices\n\n inspect\n```\n\n### jwt\n\n1. jwt - json web token \n2. server token\n3. token,\n\n```\napp.js\n\nnpm i koa-jwt jsonwebtoken\n\napp.use(jwtKoa({\n\tsecret: SECRET, //\n}).unless({\n\tpath: [/^\\/users\\/login/] // jwt \n}))\n```\n\n```\nconst jwt = require('jsonwebtoken')\nconst util = require('util')\nconst verify = util.promisify(jwt.verify)\n\n SECRET\nlet token \nif (userInfo) {\n    token = jwt.sign(userInfo, SECRET, {expiresIn: '1h'})\n}\n\n\nrouter.get('/getUserInfo',async (ctx,next) => {\n\tconst token = ctx.header.authorization\n\ttry {\n\t\tconst payload = await verify(token.split(' ')[1],SECRET)\n\t\tctx.body = {\n\t\t\tcode:0,\n\t\t\tdata: {\n\t\t\t\tuserInfo:payload\n\t\t\t},\n\t\t\tmsg: ''\n\t\t}\n\t} catch (error) {\n\t\tctx.body = {\n\t\t\tcode: -1,\n\t\t\tmsg: 'failed'\n\t\t}\n\t}\n})\n```\n\n```\ntoken\nBearer +  + token\nAuthorization Bearer token\n```\n\n### ajv \n\n```\nnpm i ajv\n\n_validate.js\n\nconst Ajv = require('ajv')\nconst ajv = new Ajv({\n    // allErrors: true // \n})\n\n/**\n * json schema \n * @param {Object} schema json schema \n * @param {Object} data \n */\nfunction validate(schema, data = {}) {\n    const valid = ajv.validate(schema, data)\n    if (!valid) {\n        return ajv.errors[0]\n    }\n}\n\nmodule.exports = validate\n\n```\n\n```\nuser.js\n\nconst validate = require('./_validate')\n\n// \nconst SCHEMA = {\n    type: 'object',\n    properties: {\n        userName: {\n            type: 'string',\n            pattern: '^[a-zA-Z][a-zA-Z0-9_]+$', // \n            maxLength: 255,\n            minLength: 2\n        },\n        password: {\n            type: 'string',\n            maxLength: 255,\n            minLength: 3\n        },\n        newPassword: {\n            type: 'string',\n            maxLength: 255,\n            minLength: 3\n        },\n        nickName: {\n            type: 'string',\n            maxLength: 255\n        },\n        picture: {\n            type: 'string',\n            maxLength: 255\n        },\n        city: {\n            type: 'string',\n            maxLength: 255,\n            minLength: 2\n        },\n        gender: {\n            type: 'number',\n            minimum: 1,\n            maximum: 3\n        }\n    }\n}\n\n/**\n * \n * @param {Object} data \n */\nfunction userValidate(data = {}) {\n    return validate(SCHEMA, data)\n}\n\nmodule.exports = userValidate\n```\n\n```\n\n\nfunction genValidator(validatorFn) {\n    async function validator(ctx,next) {\n        const data = ctx.request.body\n        const error = validatorFn(data)\n        if (error) {\n            ctx.body = new ErrorModel(jsonSchemaFileInfo)\n            return\n        }\n        await next()\n    } \n    return  validator\n}\n\nmodule.exports = {\n    genValidator\n}\n```\n\n### \n\n```\nnpm i formidable-upload-koa fs-extra --save\n\nconst koaFrom = require('formidable-upload-koa')\n\n1.,koaFromtype\n2.\n3.\n4.\n5.\n6.\nrouter.post('/upload', loginCheck, koaFrom(), async (ctx,next) => {\n    const file = ctx.req.files['file']\n    const { size, path, name, type } = file\n    ctx.body = await saveFile({\n        size, \n        name, \n        type,\n        filePath: path \n    })\n})\n\nconst path = require('path')\nconst fse = require('fs-extra')\n\n//\nconst DIST_FOLDER_PATH = path.join(__dirname, '..', '..', 'uploadFiles')\n// \nconst MIX_SIZE = 1024 * 1024 * 1024\n\n//\nfse.pathExists(DIST_FOLDER_PATH).then(exist => {\n    if (!exist) {\n        fse.ensureDir(DIST_FOLDER_PATH)\n    }\n})\n\n/**\n * \n * @param {number} size \n * @param {string} filePath \n * @param {string} name  \n * @param {string} type  \n */\nasync function saveFile({ size, filePath, name, type }) {\n    if (size > MIX_SIZE) {\n        await fse.remove(path)\n        return new ErrorModel(uploadFileSizeFailInfo)\n    }\n\n    //\n    const fileName = Date.now() + '.' + name\n    const distFilePath = path.join(filePath, DIST_FOLDER_PATH)\n    await fse.move(filePath, distFilePath)\n    return new SuccessModel({\n        url: '/' + fileName\n    })\n}\n\napp.js\napp.use(koaStatic(path.join(__dirname, '..','uploadFiles')))\n```\n\n### xss\n\n```\n\nnpm i xss --save\n\n\nconst xss = require('xss')\nxss(content)\n```\n\n### PM2\n\n#### PM2\nnodejsnode\n\nCPU\n\n#### PM2 \n\n```\n\npm2 list\n\npm2\npm2 restart <App name or id>\n\n\npm2 stop <App name or id>\n\n\npmg2 delete <App name or id>\n\n\npm2 start <App name or id>\n\n\npm2 info <App name or id>\n\n\npm2 monit www\n```\n\nCPU\n redis mysql\n\n### nginx \n\n#### nginx\n1.\n2.\n3.\n","slug":"nodejs-weibo","published":1,"updated":"2020-04-24T08:37:22.158Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42q002whe6jpjbj2tjd","content":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3><a id=\"more\"></a>\n<h3 id=\"-Koa2-\"><a href=\"#-Koa2-\" class=\"headerlink\" title=\" Koa2 \"></a> Koa2 </h3><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">koa2 -e name (-eejs)</span><br><span class=\"line\"></span><br><span class=\"line\">npm i </span><br><span class=\"line\"></span><br><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure></p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i cross-env</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;dev&quot;: &quot;cross-env NODE_ENV=dev ./node_modules/.bin/nodemon bin/www&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;prd&quot;: &quot;cross-env NODE_ENV=production pm2 start bin/www&quot;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"ejs\"><a href=\"#ejs\" class=\"headerlink\" title=\"ejs\"></a>ejs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;p&gt;EJS Welcome to &lt;%= title %&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ejs</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%- include(&apos;./user-info&apos;,&#123;</span><br><span class=\"line\">    isMe</span><br><span class=\"line\">&#125;) %&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if </span><br><span class=\"line\"></span><br><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">    &lt;% if (isMe) &#123; %&gt;</span><br><span class=\"line\">        &lt;p&gt;&lt;/p&gt;</span><br><span class=\"line\">    &lt;% &#125; else &#123; %&gt;</span><br><span class=\"line\">        &lt;p&gt;&lt;/p&gt;</span><br><span class=\"line\">    &lt;% &#125; %&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;ul&gt;</span><br><span class=\"line\">    &lt;% blogList.forEach(blog =&gt; &#123; %&gt;</span><br><span class=\"line\">        &lt;li&gt; &lt;%= blog%&gt; &lt;/li&gt;</span><br><span class=\"line\">    &lt;% &#125;) %&gt;</span><br><span class=\"line\">&lt;/ul&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    console.log(&apos;100&apos;)</span><br><span class=\"line\">&lt;/sctipt&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.</span><br><span class=\"line\">insert into users(username,`password`,nickname) values(&apos;list&apos;,&apos;123&apos;,&apos;&apos;);</span><br><span class=\"line\">password</span><br><span class=\"line\"></span><br><span class=\"line\">2.</span><br><span class=\"line\">select * from users; </span><br><span class=\"line\"></span><br><span class=\"line\">select username,nickname from users where username=&apos;lisi&apos; and password=&apos;123&apos;; </span><br><span class=\"line\"></span><br><span class=\"line\">select * from blogs order by id desc; </span><br><span class=\"line\"></span><br><span class=\"line\">select count(id) as `count` from blogs; *</span><br><span class=\"line\"></span><br><span class=\"line\">select * from blogs order by id desc limit 3; blog3</span><br><span class=\"line\"></span><br><span class=\"line\">select * from blogs order by id desc limit 2 offset 2; 2</span><br><span class=\"line\"></span><br><span class=\"line\">select blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid; blogsusers</span><br><span class=\"line\"></span><br><span class=\"line\">select blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid whers users.username = &apos;lisi&apos;; lisi</span><br><span class=\"line\"></span><br><span class=\"line\">3.</span><br><span class=\"line\">update blogs set content=&apos;1111&apos; where id=2;</span><br><span class=\"line\"></span><br><span class=\"line\">4.</span><br><span class=\"line\">delete from blogs where id=4;</span><br></pre></td></tr></table></figure>\n<h4 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">seq.js</span><br><span class=\"line\"></span><br><span class=\"line\">const Sequelize = require(&apos;sequelize&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const conf = &#123;</span><br><span class=\"line\">    host: &apos;localhost&apos;,</span><br><span class=\"line\">    dialect: &apos;mysql&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const seq = new Sequelize(&apos;koa2_weibo_db&apos;,&apos;root&apos;,&apos;&apos;,conf)</span><br><span class=\"line\"></span><br><span class=\"line\">// seq.authenticate().then(() =&gt; &#123;</span><br><span class=\"line\">//     console.log(&apos;ok&apos;)</span><br><span class=\"line\">// &#125;).catch(() =&gt; &#123;</span><br><span class=\"line\">//     console.log(&apos;err&apos;)</span><br><span class=\"line\">// &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = seq</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const Sequelize = require(&apos;sequelize&apos;)</span><br><span class=\"line\">const seq = require(&apos;./seq&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">// User users</span><br><span class=\"line\">const User = seq.define(&apos;user&apos;,&#123;</span><br><span class=\"line\">    //id </span><br><span class=\"line\">    userName: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING, //varchar(255)</span><br><span class=\"line\">        allowNull: false //</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    password: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING,</span><br><span class=\"line\">        allowNull: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    nickName: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING,</span><br><span class=\"line\">        comment: &apos;&apos; //</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">const Blog = seq.define(&apos;blog&apos;,&#123;</span><br><span class=\"line\">    //id </span><br><span class=\"line\">    title: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING, //varchar(255)</span><br><span class=\"line\">        allowNull: false //</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    content: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING,</span><br><span class=\"line\">        allowNull: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    userId: &#123;</span><br><span class=\"line\">        type: Sequelize.INTEGER,</span><br><span class=\"line\">        allowNull: false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">Blog.belongsTo(User, &#123;</span><br><span class=\"line\">    // Blog.userId =&gt; User.id</span><br><span class=\"line\">    foreignKey: &apos;userId&apos;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">User.hasMany(Blog, &#123;</span><br><span class=\"line\">    foreignKey: &apos;userId&apos;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    User,</span><br><span class=\"line\">    Blog</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; User, Blog &#125; = require(&apos;./model&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">!(async function() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    const zhangsan = await User.create(&#123;</span><br><span class=\"line\">        userName: &apos;zhangsan&apos;,</span><br><span class=\"line\">        password: &apos;123&apos;,</span><br><span class=\"line\">        nickName: &apos;&apos;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;zhangsan&apos;, zhangsan.dataValues)</span><br><span class=\"line\">&#125;)()</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; Bolg, User &#125; = require(&apos;./model&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">!(async function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    const zhangsan = await User.findOne(&#123;</span><br><span class=\"line\">        where: &#123;</span><br><span class=\"line\">            userName: &apos;zhangsan&apos;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    console.log(&apos;zhangsan&apos;,zhangsan.dataValues)</span><br><span class=\"line\">&#125;)()</span><br></pre></td></tr></table></figure>\n<h3 id=\"nodejs-\"><a href=\"#nodejs-\" class=\"headerlink\" title=\"nodejs \"></a>nodejs </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;dev&quot;: &quot;cross-env NODE_ENV=dev ./node_modules/.bin/nodemon --inspect=9229 bin/www&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">chrome://inspect/#devices</span><br><span class=\"line\"></span><br><span class=\"line\">inspect</span><br></pre></td></tr></table></figure>\n<h3 id=\"jwt\"><a href=\"#jwt\" class=\"headerlink\" title=\"jwt\"></a>jwt</h3><ol>\n<li>jwt - json web token </li>\n<li>server token</li>\n<li>token,</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.js</span><br><span class=\"line\"></span><br><span class=\"line\">npm i koa-jwt jsonwebtoken</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(jwtKoa(&#123;</span><br><span class=\"line\">\tsecret: SECRET, //</span><br><span class=\"line\">&#125;).unless(&#123;</span><br><span class=\"line\">\tpath: [/^\\/users\\/login/] // jwt </span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const jwt = require(&apos;jsonwebtoken&apos;)</span><br><span class=\"line\">const util = require(&apos;util&apos;)</span><br><span class=\"line\">const verify = util.promisify(jwt.verify)</span><br><span class=\"line\"></span><br><span class=\"line\"> SECRET</span><br><span class=\"line\">let token </span><br><span class=\"line\">if (userInfo) &#123;</span><br><span class=\"line\">    token = jwt.sign(userInfo, SECRET, &#123;expiresIn: &apos;1h&apos;&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">router.get(&apos;/getUserInfo&apos;,async (ctx,next) =&gt; &#123;</span><br><span class=\"line\">\tconst token = ctx.header.authorization</span><br><span class=\"line\">\ttry &#123;</span><br><span class=\"line\">\t\tconst payload = await verify(token.split(&apos; &apos;)[1],SECRET)</span><br><span class=\"line\">\t\tctx.body = &#123;</span><br><span class=\"line\">\t\t\tcode:0,</span><br><span class=\"line\">\t\t\tdata: &#123;</span><br><span class=\"line\">\t\t\t\tuserInfo:payload</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\tmsg: &apos;&apos;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125; catch (error) &#123;</span><br><span class=\"line\">\t\tctx.body = &#123;</span><br><span class=\"line\">\t\t\tcode: -1,</span><br><span class=\"line\">\t\t\tmsg: &apos;failed&apos;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">token</span><br><span class=\"line\">Bearer +  + token</span><br><span class=\"line\">Authorization Bearer token</span><br></pre></td></tr></table></figure>\n<h3 id=\"ajv-\"><a href=\"#ajv-\" class=\"headerlink\" title=\"ajv \"></a>ajv </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i ajv</span><br><span class=\"line\"></span><br><span class=\"line\">_validate.js</span><br><span class=\"line\"></span><br><span class=\"line\">const Ajv = require(&apos;ajv&apos;)</span><br><span class=\"line\">const ajv = new Ajv(&#123;</span><br><span class=\"line\">    // allErrors: true // </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * json schema </span><br><span class=\"line\"> * @param &#123;Object&#125; schema json schema </span><br><span class=\"line\"> * @param &#123;Object&#125; data </span><br><span class=\"line\"> */</span><br><span class=\"line\">function validate(schema, data = &#123;&#125;) &#123;</span><br><span class=\"line\">    const valid = ajv.validate(schema, data)</span><br><span class=\"line\">    if (!valid) &#123;</span><br><span class=\"line\">        return ajv.errors[0]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = validate</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user.js</span><br><span class=\"line\"></span><br><span class=\"line\">const validate = require(&apos;./_validate&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">const SCHEMA = &#123;</span><br><span class=\"line\">    type: &apos;object&apos;,</span><br><span class=\"line\">    properties: &#123;</span><br><span class=\"line\">        userName: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            pattern: &apos;^[a-zA-Z][a-zA-Z0-9_]+$&apos;, // </span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 2</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        password: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 3</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        newPassword: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 3</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        nickName: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        picture: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        city: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 2</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        gender: &#123;</span><br><span class=\"line\">            type: &apos;number&apos;,</span><br><span class=\"line\">            minimum: 1,</span><br><span class=\"line\">            maximum: 3</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @param &#123;Object&#125; data </span><br><span class=\"line\"> */</span><br><span class=\"line\">function userValidate(data = &#123;&#125;) &#123;</span><br><span class=\"line\">    return validate(SCHEMA, data)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = userValidate</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">function genValidator(validatorFn) &#123;</span><br><span class=\"line\">    async function validator(ctx,next) &#123;</span><br><span class=\"line\">        const data = ctx.request.body</span><br><span class=\"line\">        const error = validatorFn(data)</span><br><span class=\"line\">        if (error) &#123;</span><br><span class=\"line\">            ctx.body = new ErrorModel(jsonSchemaFileInfo)</span><br><span class=\"line\">            return</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        await next()</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    return  validator</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    genValidator</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i formidable-upload-koa fs-extra --save</span><br><span class=\"line\"></span><br><span class=\"line\">const koaFrom = require(&apos;formidable-upload-koa&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">1.,koaFromtype</span><br><span class=\"line\">2.</span><br><span class=\"line\">3.</span><br><span class=\"line\">4.</span><br><span class=\"line\">5.</span><br><span class=\"line\">6.</span><br><span class=\"line\">router.post(&apos;/upload&apos;, loginCheck, koaFrom(), async (ctx,next) =&gt; &#123;</span><br><span class=\"line\">    const file = ctx.req.files[&apos;file&apos;]</span><br><span class=\"line\">    const &#123; size, path, name, type &#125; = file</span><br><span class=\"line\">    ctx.body = await saveFile(&#123;</span><br><span class=\"line\">        size, </span><br><span class=\"line\">        name, </span><br><span class=\"line\">        type,</span><br><span class=\"line\">        filePath: path </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">const path = require(&apos;path&apos;)</span><br><span class=\"line\">const fse = require(&apos;fs-extra&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">const DIST_FOLDER_PATH = path.join(__dirname, &apos;..&apos;, &apos;..&apos;, &apos;uploadFiles&apos;)</span><br><span class=\"line\">// </span><br><span class=\"line\">const MIX_SIZE = 1024 * 1024 * 1024</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">fse.pathExists(DIST_FOLDER_PATH).then(exist =&gt; &#123;</span><br><span class=\"line\">    if (!exist) &#123;</span><br><span class=\"line\">        fse.ensureDir(DIST_FOLDER_PATH)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @param &#123;number&#125; size </span><br><span class=\"line\"> * @param &#123;string&#125; filePath </span><br><span class=\"line\"> * @param &#123;string&#125; name  </span><br><span class=\"line\"> * @param &#123;string&#125; type  </span><br><span class=\"line\"> */</span><br><span class=\"line\">async function saveFile(&#123; size, filePath, name, type &#125;) &#123;</span><br><span class=\"line\">    if (size &gt; MIX_SIZE) &#123;</span><br><span class=\"line\">        await fse.remove(path)</span><br><span class=\"line\">        return new ErrorModel(uploadFileSizeFailInfo)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    const fileName = Date.now() + &apos;.&apos; + name</span><br><span class=\"line\">    const distFilePath = path.join(filePath, DIST_FOLDER_PATH)</span><br><span class=\"line\">    await fse.move(filePath, distFilePath)</span><br><span class=\"line\">    return new SuccessModel(&#123;</span><br><span class=\"line\">        url: &apos;/&apos; + fileName</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">app.js</span><br><span class=\"line\">app.use(koaStatic(path.join(__dirname, &apos;..&apos;,&apos;uploadFiles&apos;)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"xss\"><a href=\"#xss\" class=\"headerlink\" title=\"xss\"></a>xss</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">npm i xss --save</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const xss = require(&apos;xss&apos;)</span><br><span class=\"line\">xss(content)</span><br></pre></td></tr></table></figure>\n<h3 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h3><h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><p>nodejsnode<br><br>CPU</p>\n<h4 id=\"PM2-\"><a href=\"#PM2-\" class=\"headerlink\" title=\"PM2 \"></a>PM2 </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">pm2 list</span><br><span class=\"line\"></span><br><span class=\"line\">pm2</span><br><span class=\"line\">pm2 restart &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 stop &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pmg2 delete &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 start &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 info &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 monit www</span><br></pre></td></tr></table></figure>\n<p>CPU<br> redis mysql</p>\n<h3 id=\"nginx-\"><a href=\"#nginx-\" class=\"headerlink\" title=\"nginx \"></a>nginx </h3><h4 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h4><p>1.<br>2.<br>3.</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h3>","more":"<h3 id=\"-Koa2-\"><a href=\"#-Koa2-\" class=\"headerlink\" title=\" Koa2 \"></a> Koa2 </h3><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">koa2 -e name (-eejs)</span><br><span class=\"line\"></span><br><span class=\"line\">npm i </span><br><span class=\"line\"></span><br><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure></p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i cross-env</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;dev&quot;: &quot;cross-env NODE_ENV=dev ./node_modules/.bin/nodemon bin/www&quot;,</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;prd&quot;: &quot;cross-env NODE_ENV=production pm2 start bin/www&quot;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"ejs\"><a href=\"#ejs\" class=\"headerlink\" title=\"ejs\"></a>ejs</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;p&gt;EJS Welcome to &lt;%= title %&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ejs</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%- include(&apos;./user-info&apos;,&#123;</span><br><span class=\"line\">    isMe</span><br><span class=\"line\">&#125;) %&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if </span><br><span class=\"line\"></span><br><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">    &lt;% if (isMe) &#123; %&gt;</span><br><span class=\"line\">        &lt;p&gt;&lt;/p&gt;</span><br><span class=\"line\">    &lt;% &#125; else &#123; %&gt;</span><br><span class=\"line\">        &lt;p&gt;&lt;/p&gt;</span><br><span class=\"line\">    &lt;% &#125; %&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;ul&gt;</span><br><span class=\"line\">    &lt;% blogList.forEach(blog =&gt; &#123; %&gt;</span><br><span class=\"line\">        &lt;li&gt; &lt;%= blog%&gt; &lt;/li&gt;</span><br><span class=\"line\">    &lt;% &#125;) %&gt;</span><br><span class=\"line\">&lt;/ul&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    console.log(&apos;100&apos;)</span><br><span class=\"line\">&lt;/sctipt&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.</span><br><span class=\"line\">insert into users(username,`password`,nickname) values(&apos;list&apos;,&apos;123&apos;,&apos;&apos;);</span><br><span class=\"line\">password</span><br><span class=\"line\"></span><br><span class=\"line\">2.</span><br><span class=\"line\">select * from users; </span><br><span class=\"line\"></span><br><span class=\"line\">select username,nickname from users where username=&apos;lisi&apos; and password=&apos;123&apos;; </span><br><span class=\"line\"></span><br><span class=\"line\">select * from blogs order by id desc; </span><br><span class=\"line\"></span><br><span class=\"line\">select count(id) as `count` from blogs; *</span><br><span class=\"line\"></span><br><span class=\"line\">select * from blogs order by id desc limit 3; blog3</span><br><span class=\"line\"></span><br><span class=\"line\">select * from blogs order by id desc limit 2 offset 2; 2</span><br><span class=\"line\"></span><br><span class=\"line\">select blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid; blogsusers</span><br><span class=\"line\"></span><br><span class=\"line\">select blogs.*, users.username,users.nickname from blogs inner join users on users.id = blogs.userid whers users.username = &apos;lisi&apos;; lisi</span><br><span class=\"line\"></span><br><span class=\"line\">3.</span><br><span class=\"line\">update blogs set content=&apos;1111&apos; where id=2;</span><br><span class=\"line\"></span><br><span class=\"line\">4.</span><br><span class=\"line\">delete from blogs where id=4;</span><br></pre></td></tr></table></figure>\n<h4 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">seq.js</span><br><span class=\"line\"></span><br><span class=\"line\">const Sequelize = require(&apos;sequelize&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">const conf = &#123;</span><br><span class=\"line\">    host: &apos;localhost&apos;,</span><br><span class=\"line\">    dialect: &apos;mysql&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const seq = new Sequelize(&apos;koa2_weibo_db&apos;,&apos;root&apos;,&apos;&apos;,conf)</span><br><span class=\"line\"></span><br><span class=\"line\">// seq.authenticate().then(() =&gt; &#123;</span><br><span class=\"line\">//     console.log(&apos;ok&apos;)</span><br><span class=\"line\">// &#125;).catch(() =&gt; &#123;</span><br><span class=\"line\">//     console.log(&apos;err&apos;)</span><br><span class=\"line\">// &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = seq</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const Sequelize = require(&apos;sequelize&apos;)</span><br><span class=\"line\">const seq = require(&apos;./seq&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">// User users</span><br><span class=\"line\">const User = seq.define(&apos;user&apos;,&#123;</span><br><span class=\"line\">    //id </span><br><span class=\"line\">    userName: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING, //varchar(255)</span><br><span class=\"line\">        allowNull: false //</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    password: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING,</span><br><span class=\"line\">        allowNull: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    nickName: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING,</span><br><span class=\"line\">        comment: &apos;&apos; //</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">const Blog = seq.define(&apos;blog&apos;,&#123;</span><br><span class=\"line\">    //id </span><br><span class=\"line\">    title: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING, //varchar(255)</span><br><span class=\"line\">        allowNull: false //</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    content: &#123;</span><br><span class=\"line\">        type: Sequelize.STRING,</span><br><span class=\"line\">        allowNull: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    userId: &#123;</span><br><span class=\"line\">        type: Sequelize.INTEGER,</span><br><span class=\"line\">        allowNull: false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">Blog.belongsTo(User, &#123;</span><br><span class=\"line\">    // Blog.userId =&gt; User.id</span><br><span class=\"line\">    foreignKey: &apos;userId&apos;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">User.hasMany(Blog, &#123;</span><br><span class=\"line\">    foreignKey: &apos;userId&apos;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    User,</span><br><span class=\"line\">    Blog</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; User, Blog &#125; = require(&apos;./model&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">!(async function() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    const zhangsan = await User.create(&#123;</span><br><span class=\"line\">        userName: &apos;zhangsan&apos;,</span><br><span class=\"line\">        password: &apos;123&apos;,</span><br><span class=\"line\">        nickName: &apos;&apos;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    console.log(&apos;zhangsan&apos;, zhangsan.dataValues)</span><br><span class=\"line\">&#125;)()</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; Bolg, User &#125; = require(&apos;./model&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">!(async function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    const zhangsan = await User.findOne(&#123;</span><br><span class=\"line\">        where: &#123;</span><br><span class=\"line\">            userName: &apos;zhangsan&apos;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    console.log(&apos;zhangsan&apos;,zhangsan.dataValues)</span><br><span class=\"line\">&#125;)()</span><br></pre></td></tr></table></figure>\n<h3 id=\"nodejs-\"><a href=\"#nodejs-\" class=\"headerlink\" title=\"nodejs \"></a>nodejs </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;dev&quot;: &quot;cross-env NODE_ENV=dev ./node_modules/.bin/nodemon --inspect=9229 bin/www&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">chrome://inspect/#devices</span><br><span class=\"line\"></span><br><span class=\"line\">inspect</span><br></pre></td></tr></table></figure>\n<h3 id=\"jwt\"><a href=\"#jwt\" class=\"headerlink\" title=\"jwt\"></a>jwt</h3><ol>\n<li>jwt - json web token </li>\n<li>server token</li>\n<li>token,</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.js</span><br><span class=\"line\"></span><br><span class=\"line\">npm i koa-jwt jsonwebtoken</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(jwtKoa(&#123;</span><br><span class=\"line\">\tsecret: SECRET, //</span><br><span class=\"line\">&#125;).unless(&#123;</span><br><span class=\"line\">\tpath: [/^\\/users\\/login/] // jwt </span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const jwt = require(&apos;jsonwebtoken&apos;)</span><br><span class=\"line\">const util = require(&apos;util&apos;)</span><br><span class=\"line\">const verify = util.promisify(jwt.verify)</span><br><span class=\"line\"></span><br><span class=\"line\"> SECRET</span><br><span class=\"line\">let token </span><br><span class=\"line\">if (userInfo) &#123;</span><br><span class=\"line\">    token = jwt.sign(userInfo, SECRET, &#123;expiresIn: &apos;1h&apos;&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">router.get(&apos;/getUserInfo&apos;,async (ctx,next) =&gt; &#123;</span><br><span class=\"line\">\tconst token = ctx.header.authorization</span><br><span class=\"line\">\ttry &#123;</span><br><span class=\"line\">\t\tconst payload = await verify(token.split(&apos; &apos;)[1],SECRET)</span><br><span class=\"line\">\t\tctx.body = &#123;</span><br><span class=\"line\">\t\t\tcode:0,</span><br><span class=\"line\">\t\t\tdata: &#123;</span><br><span class=\"line\">\t\t\t\tuserInfo:payload</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\tmsg: &apos;&apos;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125; catch (error) &#123;</span><br><span class=\"line\">\t\tctx.body = &#123;</span><br><span class=\"line\">\t\t\tcode: -1,</span><br><span class=\"line\">\t\t\tmsg: &apos;failed&apos;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">token</span><br><span class=\"line\">Bearer +  + token</span><br><span class=\"line\">Authorization Bearer token</span><br></pre></td></tr></table></figure>\n<h3 id=\"ajv-\"><a href=\"#ajv-\" class=\"headerlink\" title=\"ajv \"></a>ajv </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i ajv</span><br><span class=\"line\"></span><br><span class=\"line\">_validate.js</span><br><span class=\"line\"></span><br><span class=\"line\">const Ajv = require(&apos;ajv&apos;)</span><br><span class=\"line\">const ajv = new Ajv(&#123;</span><br><span class=\"line\">    // allErrors: true // </span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * json schema </span><br><span class=\"line\"> * @param &#123;Object&#125; schema json schema </span><br><span class=\"line\"> * @param &#123;Object&#125; data </span><br><span class=\"line\"> */</span><br><span class=\"line\">function validate(schema, data = &#123;&#125;) &#123;</span><br><span class=\"line\">    const valid = ajv.validate(schema, data)</span><br><span class=\"line\">    if (!valid) &#123;</span><br><span class=\"line\">        return ajv.errors[0]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = validate</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user.js</span><br><span class=\"line\"></span><br><span class=\"line\">const validate = require(&apos;./_validate&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">const SCHEMA = &#123;</span><br><span class=\"line\">    type: &apos;object&apos;,</span><br><span class=\"line\">    properties: &#123;</span><br><span class=\"line\">        userName: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            pattern: &apos;^[a-zA-Z][a-zA-Z0-9_]+$&apos;, // </span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 2</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        password: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 3</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        newPassword: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 3</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        nickName: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        picture: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        city: &#123;</span><br><span class=\"line\">            type: &apos;string&apos;,</span><br><span class=\"line\">            maxLength: 255,</span><br><span class=\"line\">            minLength: 2</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        gender: &#123;</span><br><span class=\"line\">            type: &apos;number&apos;,</span><br><span class=\"line\">            minimum: 1,</span><br><span class=\"line\">            maximum: 3</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @param &#123;Object&#125; data </span><br><span class=\"line\"> */</span><br><span class=\"line\">function userValidate(data = &#123;&#125;) &#123;</span><br><span class=\"line\">    return validate(SCHEMA, data)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = userValidate</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">function genValidator(validatorFn) &#123;</span><br><span class=\"line\">    async function validator(ctx,next) &#123;</span><br><span class=\"line\">        const data = ctx.request.body</span><br><span class=\"line\">        const error = validatorFn(data)</span><br><span class=\"line\">        if (error) &#123;</span><br><span class=\"line\">            ctx.body = new ErrorModel(jsonSchemaFileInfo)</span><br><span class=\"line\">            return</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        await next()</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    return  validator</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    genValidator</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i formidable-upload-koa fs-extra --save</span><br><span class=\"line\"></span><br><span class=\"line\">const koaFrom = require(&apos;formidable-upload-koa&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">1.,koaFromtype</span><br><span class=\"line\">2.</span><br><span class=\"line\">3.</span><br><span class=\"line\">4.</span><br><span class=\"line\">5.</span><br><span class=\"line\">6.</span><br><span class=\"line\">router.post(&apos;/upload&apos;, loginCheck, koaFrom(), async (ctx,next) =&gt; &#123;</span><br><span class=\"line\">    const file = ctx.req.files[&apos;file&apos;]</span><br><span class=\"line\">    const &#123; size, path, name, type &#125; = file</span><br><span class=\"line\">    ctx.body = await saveFile(&#123;</span><br><span class=\"line\">        size, </span><br><span class=\"line\">        name, </span><br><span class=\"line\">        type,</span><br><span class=\"line\">        filePath: path </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">const path = require(&apos;path&apos;)</span><br><span class=\"line\">const fse = require(&apos;fs-extra&apos;)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">const DIST_FOLDER_PATH = path.join(__dirname, &apos;..&apos;, &apos;..&apos;, &apos;uploadFiles&apos;)</span><br><span class=\"line\">// </span><br><span class=\"line\">const MIX_SIZE = 1024 * 1024 * 1024</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">fse.pathExists(DIST_FOLDER_PATH).then(exist =&gt; &#123;</span><br><span class=\"line\">    if (!exist) &#123;</span><br><span class=\"line\">        fse.ensureDir(DIST_FOLDER_PATH)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * </span><br><span class=\"line\"> * @param &#123;number&#125; size </span><br><span class=\"line\"> * @param &#123;string&#125; filePath </span><br><span class=\"line\"> * @param &#123;string&#125; name  </span><br><span class=\"line\"> * @param &#123;string&#125; type  </span><br><span class=\"line\"> */</span><br><span class=\"line\">async function saveFile(&#123; size, filePath, name, type &#125;) &#123;</span><br><span class=\"line\">    if (size &gt; MIX_SIZE) &#123;</span><br><span class=\"line\">        await fse.remove(path)</span><br><span class=\"line\">        return new ErrorModel(uploadFileSizeFailInfo)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //</span><br><span class=\"line\">    const fileName = Date.now() + &apos;.&apos; + name</span><br><span class=\"line\">    const distFilePath = path.join(filePath, DIST_FOLDER_PATH)</span><br><span class=\"line\">    await fse.move(filePath, distFilePath)</span><br><span class=\"line\">    return new SuccessModel(&#123;</span><br><span class=\"line\">        url: &apos;/&apos; + fileName</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">app.js</span><br><span class=\"line\">app.use(koaStatic(path.join(__dirname, &apos;..&apos;,&apos;uploadFiles&apos;)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"xss\"><a href=\"#xss\" class=\"headerlink\" title=\"xss\"></a>xss</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">npm i xss --save</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const xss = require(&apos;xss&apos;)</span><br><span class=\"line\">xss(content)</span><br></pre></td></tr></table></figure>\n<h3 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h3><h4 id=\"PM2\"><a href=\"#PM2\" class=\"headerlink\" title=\"PM2\"></a>PM2</h4><p>nodejsnode<br><br>CPU</p>\n<h4 id=\"PM2-\"><a href=\"#PM2-\" class=\"headerlink\" title=\"PM2 \"></a>PM2 </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">pm2 list</span><br><span class=\"line\"></span><br><span class=\"line\">pm2</span><br><span class=\"line\">pm2 restart &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 stop &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pmg2 delete &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 start &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 info &lt;App name or id&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pm2 monit www</span><br></pre></td></tr></table></figure>\n<p>CPU<br> redis mysql</p>\n<h3 id=\"nginx-\"><a href=\"#nginx-\" class=\"headerlink\" title=\"nginx \"></a>nginx </h3><h4 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h4><p>1.<br>2.<br>3.</p>"},{"title":"react-nativeAndroid","date":"2019-06-23T16:00:00.000Z","_content":"\n### BackHandler\n<!-- more -->\n\nBackHandler\nAndroid false\n\n```\nimport React, {PropTypes} from \"react\";\nimport {BackHandler} from \"react-native\";\n\n/**\n * Android\n */\nexport default class BackPressUtil {\n  constructor(props) {\n    this._hardwareBackPress = this.onHardwareBackPress.bind(this);\n    this.props = props;\n  }\n\n  componentDidMount() {\n    if (this.props.backPress) BackHandler.addEventListener('hardwareBackPress', this._hardwareBackPress);\n  }\n\n  componentWillUnmount() {\n    if (this.props.backPress) BackHandler.removeEventListener('hardwareBackPress', this._hardwareBackPress);\n  }\n\n  onHardwareBackPress(e) {\n    return this.props.backPress(e);\n  }\n}\n\npage.js\nnavigationgoBack\nconstructor(props, updateState) {\n  this.props = props;\n  this.backPress = new BackPress({backPress: () => this.onBackPress()});\n}\n\nonBackPress() {\n  NavigationUtil.goBack(this.props.navigation);\n}  \n```","source":"_posts/react-native-BackHandler.md","raw":"---\ntitle: react-nativeAndroid\ndate: 2019-06-24\ntags: ['React Native']\ncategories: React Native\n---\n\n### BackHandler\n<!-- more -->\n\nBackHandler\nAndroid false\n\n```\nimport React, {PropTypes} from \"react\";\nimport {BackHandler} from \"react-native\";\n\n/**\n * Android\n */\nexport default class BackPressUtil {\n  constructor(props) {\n    this._hardwareBackPress = this.onHardwareBackPress.bind(this);\n    this.props = props;\n  }\n\n  componentDidMount() {\n    if (this.props.backPress) BackHandler.addEventListener('hardwareBackPress', this._hardwareBackPress);\n  }\n\n  componentWillUnmount() {\n    if (this.props.backPress) BackHandler.removeEventListener('hardwareBackPress', this._hardwareBackPress);\n  }\n\n  onHardwareBackPress(e) {\n    return this.props.backPress(e);\n  }\n}\n\npage.js\nnavigationgoBack\nconstructor(props, updateState) {\n  this.props = props;\n  this.backPress = new BackPress({backPress: () => this.onBackPress()});\n}\n\nonBackPress() {\n  NavigationUtil.goBack(this.props.navigation);\n}  \n```","slug":"react-native-BackHandler","published":1,"updated":"2019-06-24T02:08:55.415Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42r002zhe6jqgtnbjpm","content":"<h3 id=\"BackHandler\"><a href=\"#BackHandler\" class=\"headerlink\" title=\"BackHandler\"></a>BackHandler</h3><a id=\"more\"></a>\n<p>BackHandler<br>Android false</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123;PropTypes&#125; from &quot;react&quot;;</span><br><span class=\"line\">import &#123;BackHandler&#125; from &quot;react-native&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Android</span><br><span class=\"line\"> */</span><br><span class=\"line\">export default class BackPressUtil &#123;</span><br><span class=\"line\">  constructor(props) &#123;</span><br><span class=\"line\">    this._hardwareBackPress = this.onHardwareBackPress.bind(this);</span><br><span class=\"line\">    this.props = props;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  componentDidMount() &#123;</span><br><span class=\"line\">    if (this.props.backPress) BackHandler.addEventListener(&apos;hardwareBackPress&apos;, this._hardwareBackPress);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  componentWillUnmount() &#123;</span><br><span class=\"line\">    if (this.props.backPress) BackHandler.removeEventListener(&apos;hardwareBackPress&apos;, this._hardwareBackPress);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  onHardwareBackPress(e) &#123;</span><br><span class=\"line\">    return this.props.backPress(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">page.js</span><br><span class=\"line\">navigationgoBack</span><br><span class=\"line\">constructor(props, updateState) &#123;</span><br><span class=\"line\">  this.props = props;</span><br><span class=\"line\">  this.backPress = new BackPress(&#123;backPress: () =&gt; this.onBackPress()&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">onBackPress() &#123;</span><br><span class=\"line\">  NavigationUtil.goBack(this.props.navigation);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"BackHandler\"><a href=\"#BackHandler\" class=\"headerlink\" title=\"BackHandler\"></a>BackHandler</h3>","more":"<p>BackHandler<br>Android false</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123;PropTypes&#125; from &quot;react&quot;;</span><br><span class=\"line\">import &#123;BackHandler&#125; from &quot;react-native&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Android</span><br><span class=\"line\"> */</span><br><span class=\"line\">export default class BackPressUtil &#123;</span><br><span class=\"line\">  constructor(props) &#123;</span><br><span class=\"line\">    this._hardwareBackPress = this.onHardwareBackPress.bind(this);</span><br><span class=\"line\">    this.props = props;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  componentDidMount() &#123;</span><br><span class=\"line\">    if (this.props.backPress) BackHandler.addEventListener(&apos;hardwareBackPress&apos;, this._hardwareBackPress);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  componentWillUnmount() &#123;</span><br><span class=\"line\">    if (this.props.backPress) BackHandler.removeEventListener(&apos;hardwareBackPress&apos;, this._hardwareBackPress);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  onHardwareBackPress(e) &#123;</span><br><span class=\"line\">    return this.props.backPress(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">page.js</span><br><span class=\"line\">navigationgoBack</span><br><span class=\"line\">constructor(props, updateState) &#123;</span><br><span class=\"line\">  this.props = props;</span><br><span class=\"line\">  this.backPress = new BackPress(&#123;backPress: () =&gt; this.onBackPress()&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">onBackPress() &#123;</span><br><span class=\"line\">  NavigationUtil.goBack(this.props.navigation);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"FlatList","date":"2019-06-20T16:00:00.000Z","_content":"\n### react-nativeFlatList\n<!-- more -->\n\n```\nimport React, {Component} from 'react';\nimport {StyleSheet, Text, View,FlatList,RefreshControl,ActivityIndicator} from 'react-native';\n\nconst CITY_NAMES = ['','','','','','','']\ntype Props = {};\nexport default class FlatListDemo extends Component<Props> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLoading: false,\n      dataArray: CITY_NAMES,\n    }\n  }\n\n  loadData(refreshing) {\n    //loading\n    if (refreshing) {\n      this.setState({\n        isLoading: true,\n      })\n    }\n  \n    setTimeout( () => {\n      let dataArray = []\n      //\n      if (refreshing) {\n        for (let i = this.state.dataArray.length-1;i>=0;i--) {\n          dataArray.push(this.state.dataArray[i])\n        }\n      }else {\n        dataArray = this.state.dataArray.concat(CITY_NAMES)\n      }\n      \n      this.setState({\n        dataArray:dataArray,\n        isLoading: false,\n      })\n    },1000)\n  }\n\n  _renderItem(data) {\n    return (\n      <View style={styles.item}>\n        <Text style={styles.text}>{data.item}</Text>\n      </View>\n    )\n  }\n\n  genIndicator() {\n    return (\n      <View style={styles.indicatorContainer}>\n        <ActivityIndicator\n          style={styles.indicator}\n          color={'red'}\n          size={'large'}\n          animating={true}\n        />\n        <Text></Text>\n      </View>\n    )\n  }\n\n\n  //onRefresh\n  //refreshingLoading\n  //RefreshControlScrollViewFlatList\n  //ListFooterComponent\n  //onEndReachedonEndReachedThreshold\n  render() {\n    return (\n      <View style={styles.container}>\n        <FlatList\n          data={this.state.dataArray}\n          renderItem={(data)=>this._renderItem(data)}\n          // refreshing={this.state.isLoading}\n          // onRefresh={ () => {\n          //   this.loadData();\n          // }}\n          refreshControl={\n            <RefreshControl\n              title={'Loading'} //loading\n              colors={'red'} //androidloading\n              tintColor={'red'} //iosloading\n              titleColor={'red'} //loading\n              refreshing={this.state.isLoading}\n              onRefresh={ () => {\n                this.loadData(true)\n              }}\n            />\n          }\n          ListFooterComponent={ () => this.genIndicator()}\n          onEndReached={ () => {\n            this.loadData()\n          }}\n        />\n      </View>\n    );\n  }\n}\n```\n","source":"_posts/react-native-FlatList.md","raw":"---\ntitle: FlatList\ndate: 2019-06-21\ntags: ['React Native']\ncategories: React Native\n---\n\n### react-nativeFlatList\n<!-- more -->\n\n```\nimport React, {Component} from 'react';\nimport {StyleSheet, Text, View,FlatList,RefreshControl,ActivityIndicator} from 'react-native';\n\nconst CITY_NAMES = ['','','','','','','']\ntype Props = {};\nexport default class FlatListDemo extends Component<Props> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLoading: false,\n      dataArray: CITY_NAMES,\n    }\n  }\n\n  loadData(refreshing) {\n    //loading\n    if (refreshing) {\n      this.setState({\n        isLoading: true,\n      })\n    }\n  \n    setTimeout( () => {\n      let dataArray = []\n      //\n      if (refreshing) {\n        for (let i = this.state.dataArray.length-1;i>=0;i--) {\n          dataArray.push(this.state.dataArray[i])\n        }\n      }else {\n        dataArray = this.state.dataArray.concat(CITY_NAMES)\n      }\n      \n      this.setState({\n        dataArray:dataArray,\n        isLoading: false,\n      })\n    },1000)\n  }\n\n  _renderItem(data) {\n    return (\n      <View style={styles.item}>\n        <Text style={styles.text}>{data.item}</Text>\n      </View>\n    )\n  }\n\n  genIndicator() {\n    return (\n      <View style={styles.indicatorContainer}>\n        <ActivityIndicator\n          style={styles.indicator}\n          color={'red'}\n          size={'large'}\n          animating={true}\n        />\n        <Text></Text>\n      </View>\n    )\n  }\n\n\n  //onRefresh\n  //refreshingLoading\n  //RefreshControlScrollViewFlatList\n  //ListFooterComponent\n  //onEndReachedonEndReachedThreshold\n  render() {\n    return (\n      <View style={styles.container}>\n        <FlatList\n          data={this.state.dataArray}\n          renderItem={(data)=>this._renderItem(data)}\n          // refreshing={this.state.isLoading}\n          // onRefresh={ () => {\n          //   this.loadData();\n          // }}\n          refreshControl={\n            <RefreshControl\n              title={'Loading'} //loading\n              colors={'red'} //androidloading\n              tintColor={'red'} //iosloading\n              titleColor={'red'} //loading\n              refreshing={this.state.isLoading}\n              onRefresh={ () => {\n                this.loadData(true)\n              }}\n            />\n          }\n          ListFooterComponent={ () => this.genIndicator()}\n          onEndReached={ () => {\n            this.loadData()\n          }}\n        />\n      </View>\n    );\n  }\n}\n```\n","slug":"react-native-FlatList","published":1,"updated":"2019-06-21T06:14:29.782Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42t0034he6jxlkk2agm","content":"<h3 id=\"react-nativeFlatList\"><a href=\"#react-nativeFlatList\" class=\"headerlink\" title=\"react-nativeFlatList\"></a>react-nativeFlatList</h3><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class=\"line\">import &#123;StyleSheet, Text, View,FlatList,RefreshControl,ActivityIndicator&#125; from &apos;react-native&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;]</span><br><span class=\"line\">type Props = &#123;&#125;;</span><br><span class=\"line\">export default class FlatListDemo extends Component&lt;Props&gt; &#123;</span><br><span class=\"line\">  constructor(props) &#123;</span><br><span class=\"line\">    super(props)</span><br><span class=\"line\">    this.state = &#123;</span><br><span class=\"line\">      isLoading: false,</span><br><span class=\"line\">      dataArray: CITY_NAMES,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  loadData(refreshing) &#123;</span><br><span class=\"line\">    //loading</span><br><span class=\"line\">    if (refreshing) &#123;</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        isLoading: true,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    setTimeout( () =&gt; &#123;</span><br><span class=\"line\">      let dataArray = []</span><br><span class=\"line\">      //</span><br><span class=\"line\">      if (refreshing) &#123;</span><br><span class=\"line\">        for (let i = this.state.dataArray.length-1;i&gt;=0;i--) &#123;</span><br><span class=\"line\">          dataArray.push(this.state.dataArray[i])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;else &#123;</span><br><span class=\"line\">        dataArray = this.state.dataArray.concat(CITY_NAMES)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        dataArray:dataArray,</span><br><span class=\"line\">        isLoading: false,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,1000)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  _renderItem(data) &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View style=&#123;styles.item&#125;&gt;</span><br><span class=\"line\">        &lt;Text style=&#123;styles.text&#125;&gt;&#123;data.item&#125;&lt;/Text&gt;</span><br><span class=\"line\">      &lt;/View&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  genIndicator() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View style=&#123;styles.indicatorContainer&#125;&gt;</span><br><span class=\"line\">        &lt;ActivityIndicator</span><br><span class=\"line\">          style=&#123;styles.indicator&#125;</span><br><span class=\"line\">          color=&#123;&apos;red&apos;&#125;</span><br><span class=\"line\">          size=&#123;&apos;large&apos;&#125;</span><br><span class=\"line\">          animating=&#123;true&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">        &lt;Text&gt;&lt;/Text&gt;</span><br><span class=\"line\">      &lt;/View&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  //onRefresh</span><br><span class=\"line\">  //refreshingLoading</span><br><span class=\"line\">  //RefreshControlScrollViewFlatList</span><br><span class=\"line\">  //ListFooterComponent</span><br><span class=\"line\">  //onEndReachedonEndReachedThreshold</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class=\"line\">        &lt;FlatList</span><br><span class=\"line\">          data=&#123;this.state.dataArray&#125;</span><br><span class=\"line\">          renderItem=&#123;(data)=&gt;this._renderItem(data)&#125;</span><br><span class=\"line\">          // refreshing=&#123;this.state.isLoading&#125;</span><br><span class=\"line\">          // onRefresh=&#123; () =&gt; &#123;</span><br><span class=\"line\">          //   this.loadData();</span><br><span class=\"line\">          // &#125;&#125;</span><br><span class=\"line\">          refreshControl=&#123;</span><br><span class=\"line\">            &lt;RefreshControl</span><br><span class=\"line\">              title=&#123;&apos;Loading&apos;&#125; //loading</span><br><span class=\"line\">              colors=&#123;&apos;red&apos;&#125; //androidloading</span><br><span class=\"line\">              tintColor=&#123;&apos;red&apos;&#125; //iosloading</span><br><span class=\"line\">              titleColor=&#123;&apos;red&apos;&#125; //loading</span><br><span class=\"line\">              refreshing=&#123;this.state.isLoading&#125;</span><br><span class=\"line\">              onRefresh=&#123; () =&gt; &#123;</span><br><span class=\"line\">                this.loadData(true)</span><br><span class=\"line\">              &#125;&#125;</span><br><span class=\"line\">            /&gt;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          ListFooterComponent=&#123; () =&gt; this.genIndicator()&#125;</span><br><span class=\"line\">          onEndReached=&#123; () =&gt; &#123;</span><br><span class=\"line\">            this.loadData()</span><br><span class=\"line\">          &#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      &lt;/View&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"react-nativeFlatList\"><a href=\"#react-nativeFlatList\" class=\"headerlink\" title=\"react-nativeFlatList\"></a>react-nativeFlatList</h3>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class=\"line\">import &#123;StyleSheet, Text, View,FlatList,RefreshControl,ActivityIndicator&#125; from &apos;react-native&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const CITY_NAMES = [&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;]</span><br><span class=\"line\">type Props = &#123;&#125;;</span><br><span class=\"line\">export default class FlatListDemo extends Component&lt;Props&gt; &#123;</span><br><span class=\"line\">  constructor(props) &#123;</span><br><span class=\"line\">    super(props)</span><br><span class=\"line\">    this.state = &#123;</span><br><span class=\"line\">      isLoading: false,</span><br><span class=\"line\">      dataArray: CITY_NAMES,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  loadData(refreshing) &#123;</span><br><span class=\"line\">    //loading</span><br><span class=\"line\">    if (refreshing) &#123;</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        isLoading: true,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    setTimeout( () =&gt; &#123;</span><br><span class=\"line\">      let dataArray = []</span><br><span class=\"line\">      //</span><br><span class=\"line\">      if (refreshing) &#123;</span><br><span class=\"line\">        for (let i = this.state.dataArray.length-1;i&gt;=0;i--) &#123;</span><br><span class=\"line\">          dataArray.push(this.state.dataArray[i])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;else &#123;</span><br><span class=\"line\">        dataArray = this.state.dataArray.concat(CITY_NAMES)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        dataArray:dataArray,</span><br><span class=\"line\">        isLoading: false,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,1000)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  _renderItem(data) &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View style=&#123;styles.item&#125;&gt;</span><br><span class=\"line\">        &lt;Text style=&#123;styles.text&#125;&gt;&#123;data.item&#125;&lt;/Text&gt;</span><br><span class=\"line\">      &lt;/View&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  genIndicator() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View style=&#123;styles.indicatorContainer&#125;&gt;</span><br><span class=\"line\">        &lt;ActivityIndicator</span><br><span class=\"line\">          style=&#123;styles.indicator&#125;</span><br><span class=\"line\">          color=&#123;&apos;red&apos;&#125;</span><br><span class=\"line\">          size=&#123;&apos;large&apos;&#125;</span><br><span class=\"line\">          animating=&#123;true&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">        &lt;Text&gt;&lt;/Text&gt;</span><br><span class=\"line\">      &lt;/View&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  //onRefresh</span><br><span class=\"line\">  //refreshingLoading</span><br><span class=\"line\">  //RefreshControlScrollViewFlatList</span><br><span class=\"line\">  //ListFooterComponent</span><br><span class=\"line\">  //onEndReachedonEndReachedThreshold</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class=\"line\">        &lt;FlatList</span><br><span class=\"line\">          data=&#123;this.state.dataArray&#125;</span><br><span class=\"line\">          renderItem=&#123;(data)=&gt;this._renderItem(data)&#125;</span><br><span class=\"line\">          // refreshing=&#123;this.state.isLoading&#125;</span><br><span class=\"line\">          // onRefresh=&#123; () =&gt; &#123;</span><br><span class=\"line\">          //   this.loadData();</span><br><span class=\"line\">          // &#125;&#125;</span><br><span class=\"line\">          refreshControl=&#123;</span><br><span class=\"line\">            &lt;RefreshControl</span><br><span class=\"line\">              title=&#123;&apos;Loading&apos;&#125; //loading</span><br><span class=\"line\">              colors=&#123;&apos;red&apos;&#125; //androidloading</span><br><span class=\"line\">              tintColor=&#123;&apos;red&apos;&#125; //iosloading</span><br><span class=\"line\">              titleColor=&#123;&apos;red&apos;&#125; //loading</span><br><span class=\"line\">              refreshing=&#123;this.state.isLoading&#125;</span><br><span class=\"line\">              onRefresh=&#123; () =&gt; &#123;</span><br><span class=\"line\">                this.loadData(true)</span><br><span class=\"line\">              &#125;&#125;</span><br><span class=\"line\">            /&gt;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          ListFooterComponent=&#123; () =&gt; this.genIndicator()&#125;</span><br><span class=\"line\">          onEndReached=&#123; () =&gt; &#123;</span><br><span class=\"line\">            this.loadData()</span><br><span class=\"line\">          &#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      &lt;/View&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"react-native","date":"2019-06-24T16:00:00.000Z","_content":"\n### react-native\n<!-- more -->\n\n#### iOS\niPhoneXRNSafeAreaViewSafeAreaView\n\n```\n/** \n * topColor \n */\nimport React, {Component,} from 'react';\nimport {DeviceInfo, SafeAreaView, StyleSheet, View, ViewPropTypes} from 'react-native';\nimport {PropTypes} from 'prop-types';\n\nexport default class SafeAreaViewPlus extends Component {\n  static propTypes = {\n    ...ViewPropTypes,\n    topColor: PropTypes.string,\n    bottomColor: PropTypes.string,\n    enablePlus: PropTypes.bool,\n    topInset: PropTypes.bool,\n    bottomInset: PropTypes.bool,\n\n  };\n  static defaultProps = {\n    topColor: 'transparent',\n    bottomColor: '#f8f8f8',\n    enablePlus: true,\n    topInset: true,\n    bottomInset: false,\n  };\n\n  genSafeAreaViewPlus() {\n    const {children, topColor, bottomColor, topInset, bottomInset} = this.props;\n    return <View style={[styles.container, this.props.style]}>\n      {this.getTopArea(topColor, topInset)}\n      {children}\n      {this.getBottomArea(bottomColor, bottomInset)}\n    </View>;\n  }\n\n  genSafeAreaView() {\n    return <SafeAreaView style={[styles.container, this.props.style]} {...this.props}>\n        {this.props.children}\n    </SafeAreaView>\n  }\n\n  getTopArea(topColor, topInset) {\n    return !DeviceInfo.isIPhoneX_deprecated || !topInset ? null\n        : <View style={[styles.topArea, {backgroundColor: topColor}]}/>;\n  }\n\n  getBottomArea(bottomColor, bottomInset) {\n    return !DeviceInfo.isIPhoneX_deprecated || !bottomInset ? null\n        : <View style={[styles.bottomArea, {backgroundColor: bottomColor}]}/>;\n  }\n\n  render() {\n    const {enablePlus} = this.props;\n    return enablePlus ? this.genSafeAreaViewPlus() : this.genSafeAreaView();\n  }\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  topArea: {\n    height: 44,\n  },\n  bottomArea: {\n    height: 34,\n  }\n});\n```\n\n#### Android\n\n\n```\nAndroidManifest.xml\n\n<!---->\nandroid:resizeableActivity=\"true\"\n<meta-data\n    android:name=\"android.max_aspect\"\n    android:value=\"2.2\" />\n```","source":"_posts/react-native-SafeAreaView.md","raw":"---\ntitle: react-native\ndate: 2019-06-25\ntags: ['React Native']\ncategories: React Native\n---\n\n### react-native\n<!-- more -->\n\n#### iOS\niPhoneXRNSafeAreaViewSafeAreaView\n\n```\n/** \n * topColor \n */\nimport React, {Component,} from 'react';\nimport {DeviceInfo, SafeAreaView, StyleSheet, View, ViewPropTypes} from 'react-native';\nimport {PropTypes} from 'prop-types';\n\nexport default class SafeAreaViewPlus extends Component {\n  static propTypes = {\n    ...ViewPropTypes,\n    topColor: PropTypes.string,\n    bottomColor: PropTypes.string,\n    enablePlus: PropTypes.bool,\n    topInset: PropTypes.bool,\n    bottomInset: PropTypes.bool,\n\n  };\n  static defaultProps = {\n    topColor: 'transparent',\n    bottomColor: '#f8f8f8',\n    enablePlus: true,\n    topInset: true,\n    bottomInset: false,\n  };\n\n  genSafeAreaViewPlus() {\n    const {children, topColor, bottomColor, topInset, bottomInset} = this.props;\n    return <View style={[styles.container, this.props.style]}>\n      {this.getTopArea(topColor, topInset)}\n      {children}\n      {this.getBottomArea(bottomColor, bottomInset)}\n    </View>;\n  }\n\n  genSafeAreaView() {\n    return <SafeAreaView style={[styles.container, this.props.style]} {...this.props}>\n        {this.props.children}\n    </SafeAreaView>\n  }\n\n  getTopArea(topColor, topInset) {\n    return !DeviceInfo.isIPhoneX_deprecated || !topInset ? null\n        : <View style={[styles.topArea, {backgroundColor: topColor}]}/>;\n  }\n\n  getBottomArea(bottomColor, bottomInset) {\n    return !DeviceInfo.isIPhoneX_deprecated || !bottomInset ? null\n        : <View style={[styles.bottomArea, {backgroundColor: bottomColor}]}/>;\n  }\n\n  render() {\n    const {enablePlus} = this.props;\n    return enablePlus ? this.genSafeAreaViewPlus() : this.genSafeAreaView();\n  }\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  topArea: {\n    height: 44,\n  },\n  bottomArea: {\n    height: 34,\n  }\n});\n```\n\n#### Android\n\n\n```\nAndroidManifest.xml\n\n<!---->\nandroid:resizeableActivity=\"true\"\n<meta-data\n    android:name=\"android.max_aspect\"\n    android:value=\"2.2\" />\n```","slug":"react-native-SafeAreaView","published":1,"updated":"2019-06-25T01:40:33.656Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42u0037he6jpm7u5bec","content":"<h3 id=\"react-native\"><a href=\"#react-native\" class=\"headerlink\" title=\"react-native\"></a>react-native</h3><a id=\"more\"></a>\n<h4 id=\"iOS\"><a href=\"#iOS\" class=\"headerlink\" title=\"iOS\"></a>iOS</h4><p>iPhoneXRNSafeAreaViewSafeAreaView</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/** </span><br><span class=\"line\"> * topColor </span><br><span class=\"line\"> */</span><br><span class=\"line\">import React, &#123;Component,&#125; from &apos;react&apos;;</span><br><span class=\"line\">import &#123;DeviceInfo, SafeAreaView, StyleSheet, View, ViewPropTypes&#125; from &apos;react-native&apos;;</span><br><span class=\"line\">import &#123;PropTypes&#125; from &apos;prop-types&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default class SafeAreaViewPlus extends Component &#123;</span><br><span class=\"line\">  static propTypes = &#123;</span><br><span class=\"line\">    ...ViewPropTypes,</span><br><span class=\"line\">    topColor: PropTypes.string,</span><br><span class=\"line\">    bottomColor: PropTypes.string,</span><br><span class=\"line\">    enablePlus: PropTypes.bool,</span><br><span class=\"line\">    topInset: PropTypes.bool,</span><br><span class=\"line\">    bottomInset: PropTypes.bool,</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  static defaultProps = &#123;</span><br><span class=\"line\">    topColor: &apos;transparent&apos;,</span><br><span class=\"line\">    bottomColor: &apos;#f8f8f8&apos;,</span><br><span class=\"line\">    enablePlus: true,</span><br><span class=\"line\">    topInset: true,</span><br><span class=\"line\">    bottomInset: false,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  genSafeAreaViewPlus() &#123;</span><br><span class=\"line\">    const &#123;children, topColor, bottomColor, topInset, bottomInset&#125; = this.props;</span><br><span class=\"line\">    return &lt;View style=&#123;[styles.container, this.props.style]&#125;&gt;</span><br><span class=\"line\">      &#123;this.getTopArea(topColor, topInset)&#125;</span><br><span class=\"line\">      &#123;children&#125;</span><br><span class=\"line\">      &#123;this.getBottomArea(bottomColor, bottomInset)&#125;</span><br><span class=\"line\">    &lt;/View&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  genSafeAreaView() &#123;</span><br><span class=\"line\">    return &lt;SafeAreaView style=&#123;[styles.container, this.props.style]&#125; &#123;...this.props&#125;&gt;</span><br><span class=\"line\">        &#123;this.props.children&#125;</span><br><span class=\"line\">    &lt;/SafeAreaView&gt;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getTopArea(topColor, topInset) &#123;</span><br><span class=\"line\">    return !DeviceInfo.isIPhoneX_deprecated || !topInset ? null</span><br><span class=\"line\">        : &lt;View style=&#123;[styles.topArea, &#123;backgroundColor: topColor&#125;]&#125;/&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getBottomArea(bottomColor, bottomInset) &#123;</span><br><span class=\"line\">    return !DeviceInfo.isIPhoneX_deprecated || !bottomInset ? null</span><br><span class=\"line\">        : &lt;View style=&#123;[styles.bottomArea, &#123;backgroundColor: bottomColor&#125;]&#125;/&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;enablePlus&#125; = this.props;</span><br><span class=\"line\">    return enablePlus ? this.genSafeAreaViewPlus() : this.genSafeAreaView();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const styles = StyleSheet.create(&#123;</span><br><span class=\"line\">  container: &#123;</span><br><span class=\"line\">    flex: 1,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  topArea: &#123;</span><br><span class=\"line\">    height: 44,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  bottomArea: &#123;</span><br><span class=\"line\">    height: 34,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h4><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AndroidManifest.xml</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!----&gt;</span><br><span class=\"line\">android:resizeableActivity=&quot;true&quot;</span><br><span class=\"line\">&lt;meta-data</span><br><span class=\"line\">    android:name=&quot;android.max_aspect&quot;</span><br><span class=\"line\">    android:value=&quot;2.2&quot; /&gt;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"react-native\"><a href=\"#react-native\" class=\"headerlink\" title=\"react-native\"></a>react-native</h3>","more":"<h4 id=\"iOS\"><a href=\"#iOS\" class=\"headerlink\" title=\"iOS\"></a>iOS</h4><p>iPhoneXRNSafeAreaViewSafeAreaView</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/** </span><br><span class=\"line\"> * topColor </span><br><span class=\"line\"> */</span><br><span class=\"line\">import React, &#123;Component,&#125; from &apos;react&apos;;</span><br><span class=\"line\">import &#123;DeviceInfo, SafeAreaView, StyleSheet, View, ViewPropTypes&#125; from &apos;react-native&apos;;</span><br><span class=\"line\">import &#123;PropTypes&#125; from &apos;prop-types&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default class SafeAreaViewPlus extends Component &#123;</span><br><span class=\"line\">  static propTypes = &#123;</span><br><span class=\"line\">    ...ViewPropTypes,</span><br><span class=\"line\">    topColor: PropTypes.string,</span><br><span class=\"line\">    bottomColor: PropTypes.string,</span><br><span class=\"line\">    enablePlus: PropTypes.bool,</span><br><span class=\"line\">    topInset: PropTypes.bool,</span><br><span class=\"line\">    bottomInset: PropTypes.bool,</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  static defaultProps = &#123;</span><br><span class=\"line\">    topColor: &apos;transparent&apos;,</span><br><span class=\"line\">    bottomColor: &apos;#f8f8f8&apos;,</span><br><span class=\"line\">    enablePlus: true,</span><br><span class=\"line\">    topInset: true,</span><br><span class=\"line\">    bottomInset: false,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  genSafeAreaViewPlus() &#123;</span><br><span class=\"line\">    const &#123;children, topColor, bottomColor, topInset, bottomInset&#125; = this.props;</span><br><span class=\"line\">    return &lt;View style=&#123;[styles.container, this.props.style]&#125;&gt;</span><br><span class=\"line\">      &#123;this.getTopArea(topColor, topInset)&#125;</span><br><span class=\"line\">      &#123;children&#125;</span><br><span class=\"line\">      &#123;this.getBottomArea(bottomColor, bottomInset)&#125;</span><br><span class=\"line\">    &lt;/View&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  genSafeAreaView() &#123;</span><br><span class=\"line\">    return &lt;SafeAreaView style=&#123;[styles.container, this.props.style]&#125; &#123;...this.props&#125;&gt;</span><br><span class=\"line\">        &#123;this.props.children&#125;</span><br><span class=\"line\">    &lt;/SafeAreaView&gt;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getTopArea(topColor, topInset) &#123;</span><br><span class=\"line\">    return !DeviceInfo.isIPhoneX_deprecated || !topInset ? null</span><br><span class=\"line\">        : &lt;View style=&#123;[styles.topArea, &#123;backgroundColor: topColor&#125;]&#125;/&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  getBottomArea(bottomColor, bottomInset) &#123;</span><br><span class=\"line\">    return !DeviceInfo.isIPhoneX_deprecated || !bottomInset ? null</span><br><span class=\"line\">        : &lt;View style=&#123;[styles.bottomArea, &#123;backgroundColor: bottomColor&#125;]&#125;/&gt;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;enablePlus&#125; = this.props;</span><br><span class=\"line\">    return enablePlus ? this.genSafeAreaViewPlus() : this.genSafeAreaView();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const styles = StyleSheet.create(&#123;</span><br><span class=\"line\">  container: &#123;</span><br><span class=\"line\">    flex: 1,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  topArea: &#123;</span><br><span class=\"line\">    height: 44,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  bottomArea: &#123;</span><br><span class=\"line\">    height: 34,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h4><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AndroidManifest.xml</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!----&gt;</span><br><span class=\"line\">android:resizeableActivity=&quot;true&quot;</span><br><span class=\"line\">&lt;meta-data</span><br><span class=\"line\">    android:name=&quot;android.max_aspect&quot;</span><br><span class=\"line\">    android:value=&quot;2.2&quot; /&gt;</span><br></pre></td></tr></table></figure>"},{"title":"react-native-navigation","date":"2019-06-16T16:00:00.000Z","_content":"\n### react-native-navigation3.x\n<!-- more -->\n\n### \niOS\nRCTWebSocketExecutor.m\"localhost\"ip\nDeveloper Menu\"Debug JS Remotely\"\n\n```\nNSString *host = [[_bridge bundleURL] host] ?: @\"localhost\";\n```\n\n### react\nMounting-\nUpdating-\nUnmounting-\nconstructor\nrenderDOMrenderDOM\nrendercomponentDidMount,DOM\n,setStatecomponentDidUpdate\ncomponentWillUnmount\n\n### React Navigation3.x\n\n#### \n\n```\nnpm i react-navigation  react-native-gesture-handler -S \n\nreact-native link react-native-gesture-handler\n```\n\n#### createStackNavigator\n\n\n```\nAppNavigators.js \n\nexport const AppStackNavigator = createStackNavigator({\n  HomePage: {\n    screen: HomePage\n  },\n\n  //title\n  Page1: {\n    screen: Page1,\n    navigationOptions: ({navigation}) => ({\n      title: `${navigation.state.params.name}`\n    })\n  },\n\n  //title\n  Page2: {\n    screen: Page2,\n    navigationOptions: {\n      title: 'This is Page2'\n    }\n  },\n\n  //\n  Page3: {\n    screen: Page3,\n    navigationOptions: (props) => {\n      const { navigation } = props\n      const { state,setParams } = navigation\n      const { params } = state\n      return {\n        title: params.title ? params.title : 'This is Page3',\n        headerRight: (\n          <Button\n            title={params.mode === 'edit' ? '' : ''}\n            onPress={() =>\n                setParams({mode: params.mode === 'edit' ? '' : 'edit'})}\n          />\n        ),\n      }\n     \n    }\n  },\n})\n```\n \n```\nAPP.js\n\ncreateAppContainer\nimport {AppStackNavigator} from './navigators/AppNavigators'\nimport {createAppContainer} from 'react-navigation'\nexport default createAppContainer(AppStackNavigator);\n```\n\n3. \n\n```\nHomePage.js\n\n//this.props.navigation.navigate\nexport default class HomePage extends Component {\n  render() {\n    const {navigation} = this.props\n    return (\n      <Button\n        title={'Go to Page1'}\n        onPress={() => {\n          navigation.navigate('Page1',{name:''})\n        }}\n      />\n    )\n  }\n}\n\n---\nPage1.js\n\n//this.props.navigation.state.params\nexport default class Page1 extends Component {\n  render() {\n    const {navigation} = this.props\n    return (\n      <View>\n        {navigation.state.params.name}\n      <View>\n    )\n  }\n}\n```\n\n#### createBottomTabNavigator+createMaterialTopTabNavigator\n1. createBottomTabNavigator\n2. createMaterialTopTabNavigator\n\n```\nconst AppBottomNavigator = createBottomTabNavigator({\n  Page1: {\n    screen: Page1,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-home'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    },\n    \n  },\n  Page2: {\n    screen: Page2,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-people'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n  Page3: {\n    screen: Page3,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-chatboxes'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n  Page4: {\n    screen: Page4,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-home'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n},{\n  tabBarOptions: {\n    activeTintColor: Platform.OS === 'ios' ? '#e91e63' : '#fff',\n  }\n})\n```\n\n```\nconst AppTopNavigator = createMaterialTopTabNavigator({\n  Page1: {\n    screen: Page1,\n    navigationOptions: {\n      tabBarLabel: 'All'\n    }\n  },\n  Page2: {\n    screen: Page2,\n    navigationOptions: {\n      tabBarLabel: 'iOS'\n    }\n  },\n  Page3: {\n    screen: Page3,\n    navigationOptions: {\n      tabBarLabel: 'Page3'\n    }\n  },\n},{\n  tabBarOptions: {\n    tabStyle: {\n        minWidth: 50\n    },\n    upperCaseLabel: false,//true\n    scrollEnabled: true,// false\n    // activeTintColor: 'white',//labelicon \n    // inactiveTintColor: 'gray',//labelicon \n    style: {\n      backgroundColor: '#678',//TabBar \n    },\n    indicatorStyle: {\n      height: 2,\n      backgroundColor: 'white',\n    },//\n    labelStyle: {\n      fontSize: 13,\n      marginTop: 6,\n      marginBottom: 6,\n    },//\n  }\n})\n```\n\n```\ncreateStackNavigator\n\nexport const AppStackNavigator = createStackNavigator({\n  Bottom: {\n    screen: AppBottomNavigator,\n    navigationOptions: {\n      title: 'BottomNavigator'\n    }\n  },\n  Top: {\n    screen: AppTopNavigator,\n    navigationOptions: {\n      title: 'TopNavigator'\n    }\n  }\n  HomePage: {\n    screen: HomePage\n  },\n  //title\n  Page1: {\n    screen: Page1,\n    navigationOptions: ({navigation}) => ({\n      title: `${navigation.state.params.name}`\n    })\n  },\n})\n```\n\n#### createDrawerNavigator+createSwitchNavigator\n\n```\nconst DrawerNav = createDrawerNavigator({\n  Page4: {\n    screen: Page4,\n    navigationOptions: {\n      drawerLabel: 'Page4',\n      drawerIcon: ({tintColor}) => (\n        <MaterialIcons name=\"drafts\" size={24} style={{color: tintColor}}/>\n      ),\n    }\n  },\n  Page5: {\n    screen: Page5,\n    navigationOptions: {\n      drawerLabel: 'Page5',\n      drawerIcon: ({tintColor}) => (\n        <MaterialIcons\n          name=\"move-to-inbox\"\n          size={24}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n},\n{\n  initialRouteName: 'Page4', // routeName\n  contentOptions: {\n      activeTintColor: '#e91e63',//\n  },\n  contentComponent: (props) => (\n    <ScrollView style={{backgroundColor: '#987656', flex: 1}}>\n      <SafeAreaView forceInset={{top: 'always', horizontal: 'never'}}>\n        <DrawerItems {...props} />\n      </SafeAreaView>\n    </ScrollView>\n  ) // (, ) \n}\n);\n```\n","source":"_posts/react-native-navigation.md","raw":"---\ntitle: react-native-navigation\ndate: 2019-06-17\ntags: ['React Native']\ncategories: React Native\n---\n\n### react-native-navigation3.x\n<!-- more -->\n\n### \niOS\nRCTWebSocketExecutor.m\"localhost\"ip\nDeveloper Menu\"Debug JS Remotely\"\n\n```\nNSString *host = [[_bridge bundleURL] host] ?: @\"localhost\";\n```\n\n### react\nMounting-\nUpdating-\nUnmounting-\nconstructor\nrenderDOMrenderDOM\nrendercomponentDidMount,DOM\n,setStatecomponentDidUpdate\ncomponentWillUnmount\n\n### React Navigation3.x\n\n#### \n\n```\nnpm i react-navigation  react-native-gesture-handler -S \n\nreact-native link react-native-gesture-handler\n```\n\n#### createStackNavigator\n\n\n```\nAppNavigators.js \n\nexport const AppStackNavigator = createStackNavigator({\n  HomePage: {\n    screen: HomePage\n  },\n\n  //title\n  Page1: {\n    screen: Page1,\n    navigationOptions: ({navigation}) => ({\n      title: `${navigation.state.params.name}`\n    })\n  },\n\n  //title\n  Page2: {\n    screen: Page2,\n    navigationOptions: {\n      title: 'This is Page2'\n    }\n  },\n\n  //\n  Page3: {\n    screen: Page3,\n    navigationOptions: (props) => {\n      const { navigation } = props\n      const { state,setParams } = navigation\n      const { params } = state\n      return {\n        title: params.title ? params.title : 'This is Page3',\n        headerRight: (\n          <Button\n            title={params.mode === 'edit' ? '' : ''}\n            onPress={() =>\n                setParams({mode: params.mode === 'edit' ? '' : 'edit'})}\n          />\n        ),\n      }\n     \n    }\n  },\n})\n```\n \n```\nAPP.js\n\ncreateAppContainer\nimport {AppStackNavigator} from './navigators/AppNavigators'\nimport {createAppContainer} from 'react-navigation'\nexport default createAppContainer(AppStackNavigator);\n```\n\n3. \n\n```\nHomePage.js\n\n//this.props.navigation.navigate\nexport default class HomePage extends Component {\n  render() {\n    const {navigation} = this.props\n    return (\n      <Button\n        title={'Go to Page1'}\n        onPress={() => {\n          navigation.navigate('Page1',{name:''})\n        }}\n      />\n    )\n  }\n}\n\n---\nPage1.js\n\n//this.props.navigation.state.params\nexport default class Page1 extends Component {\n  render() {\n    const {navigation} = this.props\n    return (\n      <View>\n        {navigation.state.params.name}\n      <View>\n    )\n  }\n}\n```\n\n#### createBottomTabNavigator+createMaterialTopTabNavigator\n1. createBottomTabNavigator\n2. createMaterialTopTabNavigator\n\n```\nconst AppBottomNavigator = createBottomTabNavigator({\n  Page1: {\n    screen: Page1,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-home'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    },\n    \n  },\n  Page2: {\n    screen: Page2,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-people'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n  Page3: {\n    screen: Page3,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-chatboxes'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n  Page4: {\n    screen: Page4,\n    navigationOptions: {\n      tabBarLabel: '',\n      tabBarIcon: ({tintColor, focused}) => (\n        <Ionicons\n          name={'ios-home'}\n          size={26}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n},{\n  tabBarOptions: {\n    activeTintColor: Platform.OS === 'ios' ? '#e91e63' : '#fff',\n  }\n})\n```\n\n```\nconst AppTopNavigator = createMaterialTopTabNavigator({\n  Page1: {\n    screen: Page1,\n    navigationOptions: {\n      tabBarLabel: 'All'\n    }\n  },\n  Page2: {\n    screen: Page2,\n    navigationOptions: {\n      tabBarLabel: 'iOS'\n    }\n  },\n  Page3: {\n    screen: Page3,\n    navigationOptions: {\n      tabBarLabel: 'Page3'\n    }\n  },\n},{\n  tabBarOptions: {\n    tabStyle: {\n        minWidth: 50\n    },\n    upperCaseLabel: false,//true\n    scrollEnabled: true,// false\n    // activeTintColor: 'white',//labelicon \n    // inactiveTintColor: 'gray',//labelicon \n    style: {\n      backgroundColor: '#678',//TabBar \n    },\n    indicatorStyle: {\n      height: 2,\n      backgroundColor: 'white',\n    },//\n    labelStyle: {\n      fontSize: 13,\n      marginTop: 6,\n      marginBottom: 6,\n    },//\n  }\n})\n```\n\n```\ncreateStackNavigator\n\nexport const AppStackNavigator = createStackNavigator({\n  Bottom: {\n    screen: AppBottomNavigator,\n    navigationOptions: {\n      title: 'BottomNavigator'\n    }\n  },\n  Top: {\n    screen: AppTopNavigator,\n    navigationOptions: {\n      title: 'TopNavigator'\n    }\n  }\n  HomePage: {\n    screen: HomePage\n  },\n  //title\n  Page1: {\n    screen: Page1,\n    navigationOptions: ({navigation}) => ({\n      title: `${navigation.state.params.name}`\n    })\n  },\n})\n```\n\n#### createDrawerNavigator+createSwitchNavigator\n\n```\nconst DrawerNav = createDrawerNavigator({\n  Page4: {\n    screen: Page4,\n    navigationOptions: {\n      drawerLabel: 'Page4',\n      drawerIcon: ({tintColor}) => (\n        <MaterialIcons name=\"drafts\" size={24} style={{color: tintColor}}/>\n      ),\n    }\n  },\n  Page5: {\n    screen: Page5,\n    navigationOptions: {\n      drawerLabel: 'Page5',\n      drawerIcon: ({tintColor}) => (\n        <MaterialIcons\n          name=\"move-to-inbox\"\n          size={24}\n          style={{color: tintColor}}\n        />\n      ),\n    }\n  },\n},\n{\n  initialRouteName: 'Page4', // routeName\n  contentOptions: {\n      activeTintColor: '#e91e63',//\n  },\n  contentComponent: (props) => (\n    <ScrollView style={{backgroundColor: '#987656', flex: 1}}>\n      <SafeAreaView forceInset={{top: 'always', horizontal: 'never'}}>\n        <DrawerItems {...props} />\n      </SafeAreaView>\n    </ScrollView>\n  ) // (, ) \n}\n);\n```\n","slug":"react-native-navigation","published":1,"updated":"2019-06-17T10:08:08.195Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42v003bhe6jh0hg2iz5","content":"<h3 id=\"react-native-navigation3-x\"><a href=\"#react-native-navigation3-x\" class=\"headerlink\" title=\"react-native-navigation3.x\"></a>react-native-navigation3.x</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>iOS<br>RCTWebSocketExecutor.mlocalhostip<br>Developer MenuDebug JS Remotely</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NSString *host = [[_bridge bundleURL] host] ?: @&quot;localhost&quot;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h3><p>Mounting-<br>Updating-<br>Unmounting-<br>constructor<br>renderDOMrenderDOM<br>rendercomponentDidMount,DOM<br>,setStatecomponentDidUpdate<br>componentWillUnmount</p>\n<h3 id=\"React-Navigation3-x\"><a href=\"#React-Navigation3-x\" class=\"headerlink\" title=\"React Navigation3.x\"></a>React Navigation3.x</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i react-navigation  react-native-gesture-handler -S </span><br><span class=\"line\"></span><br><span class=\"line\">react-native link react-native-gesture-handler</span><br></pre></td></tr></table></figure>\n<h4 id=\"createStackNavigator\"><a href=\"#createStackNavigator\" class=\"headerlink\" title=\"createStackNavigator\"></a>createStackNavigator</h4><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AppNavigators.js </span><br><span class=\"line\"></span><br><span class=\"line\">export const AppStackNavigator = createStackNavigator(&#123;</span><br><span class=\"line\">  HomePage: &#123;</span><br><span class=\"line\">    screen: HomePage</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  //title</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: (&#123;navigation&#125;) =&gt; (&#123;</span><br><span class=\"line\">      title: `$&#123;navigation.state.params.name&#125;`</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  //title</span><br><span class=\"line\">  Page2: &#123;</span><br><span class=\"line\">    screen: Page2,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      title: &apos;This is Page2&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  Page3: &#123;</span><br><span class=\"line\">    screen: Page3,</span><br><span class=\"line\">    navigationOptions: (props) =&gt; &#123;</span><br><span class=\"line\">      const &#123; navigation &#125; = props</span><br><span class=\"line\">      const &#123; state,setParams &#125; = navigation</span><br><span class=\"line\">      const &#123; params &#125; = state</span><br><span class=\"line\">      return &#123;</span><br><span class=\"line\">        title: params.title ? params.title : &apos;This is Page3&apos;,</span><br><span class=\"line\">        headerRight: (</span><br><span class=\"line\">          &lt;Button</span><br><span class=\"line\">            title=&#123;params.mode === &apos;edit&apos; ? &apos;&apos; : &apos;&apos;&#125;</span><br><span class=\"line\">            onPress=&#123;() =&gt;</span><br><span class=\"line\">                setParams(&#123;mode: params.mode === &apos;edit&apos; ? &apos;&apos; : &apos;edit&apos;&#125;)&#125;</span><br><span class=\"line\">          /&gt;</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APP.js</span><br><span class=\"line\"></span><br><span class=\"line\">createAppContainer</span><br><span class=\"line\">import &#123;AppStackNavigator&#125; from &apos;./navigators/AppNavigators&apos;</span><br><span class=\"line\">import &#123;createAppContainer&#125; from &apos;react-navigation&apos;</span><br><span class=\"line\">export default createAppContainer(AppStackNavigator);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HomePage.js</span><br><span class=\"line\"></span><br><span class=\"line\">//this.props.navigation.navigate</span><br><span class=\"line\">export default class HomePage extends Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;navigation&#125; = this.props</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Button</span><br><span class=\"line\">        title=&#123;&apos;Go to Page1&apos;&#125;</span><br><span class=\"line\">        onPress=&#123;() =&gt; &#123;</span><br><span class=\"line\">          navigation.navigate(&apos;Page1&apos;,&#123;name:&apos;&apos;&#125;)</span><br><span class=\"line\">        &#125;&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\">Page1.js</span><br><span class=\"line\"></span><br><span class=\"line\">//this.props.navigation.state.params</span><br><span class=\"line\">export default class Page1 extends Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;navigation&#125; = this.props</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View&gt;</span><br><span class=\"line\">        &#123;navigation.state.params.name&#125;</span><br><span class=\"line\">      &lt;View&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"createBottomTabNavigator-createMaterialTopTabNavigator\"><a href=\"#createBottomTabNavigator-createMaterialTopTabNavigator\" class=\"headerlink\" title=\"createBottomTabNavigator+createMaterialTopTabNavigator\"></a>createBottomTabNavigator+createMaterialTopTabNavigator</h4><ol>\n<li>createBottomTabNavigator</li>\n<li>createMaterialTopTabNavigator</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const AppBottomNavigator = createBottomTabNavigator(&#123;</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-home&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page2: &#123;</span><br><span class=\"line\">    screen: Page2,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-people&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page3: &#123;</span><br><span class=\"line\">    screen: Page3,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-chatboxes&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page4: &#123;</span><br><span class=\"line\">    screen: Page4,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-home&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,&#123;</span><br><span class=\"line\">  tabBarOptions: &#123;</span><br><span class=\"line\">    activeTintColor: Platform.OS === &apos;ios&apos; ? &apos;#e91e63&apos; : &apos;#fff&apos;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const AppTopNavigator = createMaterialTopTabNavigator(&#123;</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;All&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page2: &#123;</span><br><span class=\"line\">    screen: Page2,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;iOS&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page3: &#123;</span><br><span class=\"line\">    screen: Page3,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;Page3&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,&#123;</span><br><span class=\"line\">  tabBarOptions: &#123;</span><br><span class=\"line\">    tabStyle: &#123;</span><br><span class=\"line\">        minWidth: 50</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    upperCaseLabel: false,//true</span><br><span class=\"line\">    scrollEnabled: true,// false</span><br><span class=\"line\">    // activeTintColor: &apos;white&apos;,//labelicon </span><br><span class=\"line\">    // inactiveTintColor: &apos;gray&apos;,//labelicon </span><br><span class=\"line\">    style: &#123;</span><br><span class=\"line\">      backgroundColor: &apos;#678&apos;,//TabBar </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    indicatorStyle: &#123;</span><br><span class=\"line\">      height: 2,</span><br><span class=\"line\">      backgroundColor: &apos;white&apos;,</span><br><span class=\"line\">    &#125;,//</span><br><span class=\"line\">    labelStyle: &#123;</span><br><span class=\"line\">      fontSize: 13,</span><br><span class=\"line\">      marginTop: 6,</span><br><span class=\"line\">      marginBottom: 6,</span><br><span class=\"line\">    &#125;,//</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">createStackNavigator</span><br><span class=\"line\"></span><br><span class=\"line\">export const AppStackNavigator = createStackNavigator(&#123;</span><br><span class=\"line\">  Bottom: &#123;</span><br><span class=\"line\">    screen: AppBottomNavigator,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      title: &apos;BottomNavigator&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Top: &#123;</span><br><span class=\"line\">    screen: AppTopNavigator,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      title: &apos;TopNavigator&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  HomePage: &#123;</span><br><span class=\"line\">    screen: HomePage</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  //title</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: (&#123;navigation&#125;) =&gt; (&#123;</span><br><span class=\"line\">      title: `$&#123;navigation.state.params.name&#125;`</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"createDrawerNavigator-createSwitchNavigator\"><a href=\"#createDrawerNavigator-createSwitchNavigator\" class=\"headerlink\" title=\"createDrawerNavigator+createSwitchNavigator\"></a>createDrawerNavigator+createSwitchNavigator</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const DrawerNav = createDrawerNavigator(&#123;</span><br><span class=\"line\">  Page4: &#123;</span><br><span class=\"line\">    screen: Page4,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      drawerLabel: &apos;Page4&apos;,</span><br><span class=\"line\">      drawerIcon: (&#123;tintColor&#125;) =&gt; (</span><br><span class=\"line\">        &lt;MaterialIcons name=&quot;drafts&quot; size=&#123;24&#125; style=&#123;&#123;color: tintColor&#125;&#125;/&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page5: &#123;</span><br><span class=\"line\">    screen: Page5,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      drawerLabel: &apos;Page5&apos;,</span><br><span class=\"line\">      drawerIcon: (&#123;tintColor&#125;) =&gt; (</span><br><span class=\"line\">        &lt;MaterialIcons</span><br><span class=\"line\">          name=&quot;move-to-inbox&quot;</span><br><span class=\"line\">          size=&#123;24&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  initialRouteName: &apos;Page4&apos;, // routeName</span><br><span class=\"line\">  contentOptions: &#123;</span><br><span class=\"line\">      activeTintColor: &apos;#e91e63&apos;,//</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  contentComponent: (props) =&gt; (</span><br><span class=\"line\">    &lt;ScrollView style=&#123;&#123;backgroundColor: &apos;#987656&apos;, flex: 1&#125;&#125;&gt;</span><br><span class=\"line\">      &lt;SafeAreaView forceInset=&#123;&#123;top: &apos;always&apos;, horizontal: &apos;never&apos;&#125;&#125;&gt;</span><br><span class=\"line\">        &lt;DrawerItems &#123;...props&#125; /&gt;</span><br><span class=\"line\">      &lt;/SafeAreaView&gt;</span><br><span class=\"line\">    &lt;/ScrollView&gt;</span><br><span class=\"line\">  ) // (, ) </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"react-native-navigation3-x\"><a href=\"#react-native-navigation3-x\" class=\"headerlink\" title=\"react-native-navigation3.x\"></a>react-native-navigation3.x</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>iOS<br>RCTWebSocketExecutor.mlocalhostip<br>Developer MenuDebug JS Remotely</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NSString *host = [[_bridge bundleURL] host] ?: @&quot;localhost&quot;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h3><p>Mounting-<br>Updating-<br>Unmounting-<br>constructor<br>renderDOMrenderDOM<br>rendercomponentDidMount,DOM<br>,setStatecomponentDidUpdate<br>componentWillUnmount</p>\n<h3 id=\"React-Navigation3-x\"><a href=\"#React-Navigation3-x\" class=\"headerlink\" title=\"React Navigation3.x\"></a>React Navigation3.x</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i react-navigation  react-native-gesture-handler -S </span><br><span class=\"line\"></span><br><span class=\"line\">react-native link react-native-gesture-handler</span><br></pre></td></tr></table></figure>\n<h4 id=\"createStackNavigator\"><a href=\"#createStackNavigator\" class=\"headerlink\" title=\"createStackNavigator\"></a>createStackNavigator</h4><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AppNavigators.js </span><br><span class=\"line\"></span><br><span class=\"line\">export const AppStackNavigator = createStackNavigator(&#123;</span><br><span class=\"line\">  HomePage: &#123;</span><br><span class=\"line\">    screen: HomePage</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  //title</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: (&#123;navigation&#125;) =&gt; (&#123;</span><br><span class=\"line\">      title: `$&#123;navigation.state.params.name&#125;`</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  //title</span><br><span class=\"line\">  Page2: &#123;</span><br><span class=\"line\">    screen: Page2,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      title: &apos;This is Page2&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  //</span><br><span class=\"line\">  Page3: &#123;</span><br><span class=\"line\">    screen: Page3,</span><br><span class=\"line\">    navigationOptions: (props) =&gt; &#123;</span><br><span class=\"line\">      const &#123; navigation &#125; = props</span><br><span class=\"line\">      const &#123; state,setParams &#125; = navigation</span><br><span class=\"line\">      const &#123; params &#125; = state</span><br><span class=\"line\">      return &#123;</span><br><span class=\"line\">        title: params.title ? params.title : &apos;This is Page3&apos;,</span><br><span class=\"line\">        headerRight: (</span><br><span class=\"line\">          &lt;Button</span><br><span class=\"line\">            title=&#123;params.mode === &apos;edit&apos; ? &apos;&apos; : &apos;&apos;&#125;</span><br><span class=\"line\">            onPress=&#123;() =&gt;</span><br><span class=\"line\">                setParams(&#123;mode: params.mode === &apos;edit&apos; ? &apos;&apos; : &apos;edit&apos;&#125;)&#125;</span><br><span class=\"line\">          /&gt;</span><br><span class=\"line\">        ),</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APP.js</span><br><span class=\"line\"></span><br><span class=\"line\">createAppContainer</span><br><span class=\"line\">import &#123;AppStackNavigator&#125; from &apos;./navigators/AppNavigators&apos;</span><br><span class=\"line\">import &#123;createAppContainer&#125; from &apos;react-navigation&apos;</span><br><span class=\"line\">export default createAppContainer(AppStackNavigator);</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HomePage.js</span><br><span class=\"line\"></span><br><span class=\"line\">//this.props.navigation.navigate</span><br><span class=\"line\">export default class HomePage extends Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;navigation&#125; = this.props</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Button</span><br><span class=\"line\">        title=&#123;&apos;Go to Page1&apos;&#125;</span><br><span class=\"line\">        onPress=&#123;() =&gt; &#123;</span><br><span class=\"line\">          navigation.navigate(&apos;Page1&apos;,&#123;name:&apos;&apos;&#125;)</span><br><span class=\"line\">        &#125;&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\">Page1.js</span><br><span class=\"line\"></span><br><span class=\"line\">//this.props.navigation.state.params</span><br><span class=\"line\">export default class Page1 extends Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;navigation&#125; = this.props</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;View&gt;</span><br><span class=\"line\">        &#123;navigation.state.params.name&#125;</span><br><span class=\"line\">      &lt;View&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"createBottomTabNavigator-createMaterialTopTabNavigator\"><a href=\"#createBottomTabNavigator-createMaterialTopTabNavigator\" class=\"headerlink\" title=\"createBottomTabNavigator+createMaterialTopTabNavigator\"></a>createBottomTabNavigator+createMaterialTopTabNavigator</h4><ol>\n<li>createBottomTabNavigator</li>\n<li>createMaterialTopTabNavigator</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const AppBottomNavigator = createBottomTabNavigator(&#123;</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-home&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page2: &#123;</span><br><span class=\"line\">    screen: Page2,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-people&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page3: &#123;</span><br><span class=\"line\">    screen: Page3,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-chatboxes&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page4: &#123;</span><br><span class=\"line\">    screen: Page4,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;&apos;,</span><br><span class=\"line\">      tabBarIcon: (&#123;tintColor, focused&#125;) =&gt; (</span><br><span class=\"line\">        &lt;Ionicons</span><br><span class=\"line\">          name=&#123;&apos;ios-home&apos;&#125;</span><br><span class=\"line\">          size=&#123;26&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,&#123;</span><br><span class=\"line\">  tabBarOptions: &#123;</span><br><span class=\"line\">    activeTintColor: Platform.OS === &apos;ios&apos; ? &apos;#e91e63&apos; : &apos;#fff&apos;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const AppTopNavigator = createMaterialTopTabNavigator(&#123;</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;All&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page2: &#123;</span><br><span class=\"line\">    screen: Page2,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;iOS&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page3: &#123;</span><br><span class=\"line\">    screen: Page3,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      tabBarLabel: &apos;Page3&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,&#123;</span><br><span class=\"line\">  tabBarOptions: &#123;</span><br><span class=\"line\">    tabStyle: &#123;</span><br><span class=\"line\">        minWidth: 50</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    upperCaseLabel: false,//true</span><br><span class=\"line\">    scrollEnabled: true,// false</span><br><span class=\"line\">    // activeTintColor: &apos;white&apos;,//labelicon </span><br><span class=\"line\">    // inactiveTintColor: &apos;gray&apos;,//labelicon </span><br><span class=\"line\">    style: &#123;</span><br><span class=\"line\">      backgroundColor: &apos;#678&apos;,//TabBar </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    indicatorStyle: &#123;</span><br><span class=\"line\">      height: 2,</span><br><span class=\"line\">      backgroundColor: &apos;white&apos;,</span><br><span class=\"line\">    &#125;,//</span><br><span class=\"line\">    labelStyle: &#123;</span><br><span class=\"line\">      fontSize: 13,</span><br><span class=\"line\">      marginTop: 6,</span><br><span class=\"line\">      marginBottom: 6,</span><br><span class=\"line\">    &#125;,//</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">createStackNavigator</span><br><span class=\"line\"></span><br><span class=\"line\">export const AppStackNavigator = createStackNavigator(&#123;</span><br><span class=\"line\">  Bottom: &#123;</span><br><span class=\"line\">    screen: AppBottomNavigator,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      title: &apos;BottomNavigator&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Top: &#123;</span><br><span class=\"line\">    screen: AppTopNavigator,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      title: &apos;TopNavigator&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  HomePage: &#123;</span><br><span class=\"line\">    screen: HomePage</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  //title</span><br><span class=\"line\">  Page1: &#123;</span><br><span class=\"line\">    screen: Page1,</span><br><span class=\"line\">    navigationOptions: (&#123;navigation&#125;) =&gt; (&#123;</span><br><span class=\"line\">      title: `$&#123;navigation.state.params.name&#125;`</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"createDrawerNavigator-createSwitchNavigator\"><a href=\"#createDrawerNavigator-createSwitchNavigator\" class=\"headerlink\" title=\"createDrawerNavigator+createSwitchNavigator\"></a>createDrawerNavigator+createSwitchNavigator</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const DrawerNav = createDrawerNavigator(&#123;</span><br><span class=\"line\">  Page4: &#123;</span><br><span class=\"line\">    screen: Page4,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      drawerLabel: &apos;Page4&apos;,</span><br><span class=\"line\">      drawerIcon: (&#123;tintColor&#125;) =&gt; (</span><br><span class=\"line\">        &lt;MaterialIcons name=&quot;drafts&quot; size=&#123;24&#125; style=&#123;&#123;color: tintColor&#125;&#125;/&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  Page5: &#123;</span><br><span class=\"line\">    screen: Page5,</span><br><span class=\"line\">    navigationOptions: &#123;</span><br><span class=\"line\">      drawerLabel: &apos;Page5&apos;,</span><br><span class=\"line\">      drawerIcon: (&#123;tintColor&#125;) =&gt; (</span><br><span class=\"line\">        &lt;MaterialIcons</span><br><span class=\"line\">          name=&quot;move-to-inbox&quot;</span><br><span class=\"line\">          size=&#123;24&#125;</span><br><span class=\"line\">          style=&#123;&#123;color: tintColor&#125;&#125;</span><br><span class=\"line\">        /&gt;</span><br><span class=\"line\">      ),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  initialRouteName: &apos;Page4&apos;, // routeName</span><br><span class=\"line\">  contentOptions: &#123;</span><br><span class=\"line\">      activeTintColor: &apos;#e91e63&apos;,//</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  contentComponent: (props) =&gt; (</span><br><span class=\"line\">    &lt;ScrollView style=&#123;&#123;backgroundColor: &apos;#987656&apos;, flex: 1&#125;&#125;&gt;</span><br><span class=\"line\">      &lt;SafeAreaView forceInset=&#123;&#123;top: &apos;always&apos;, horizontal: &apos;never&apos;&#125;&#125;&gt;</span><br><span class=\"line\">        &lt;DrawerItems &#123;...props&#125; /&gt;</span><br><span class=\"line\">      &lt;/SafeAreaView&gt;</span><br><span class=\"line\">    &lt;/ScrollView&gt;</span><br><span class=\"line\">  ) // (, ) </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>"},{"title":"react-native-","date":"2019-06-25T16:00:00.000Z","_content":"\n### AndroidiOS\n<!-- more -->\n\n#### Android\n\n```\n1. - 10000 my-release-key.keystore\n: \nkeytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000\n\n2.-android/app/gradle.properties\nMYAPP_RELEASE_KEY_ALIAS=my-key-alias\nMYAPP_RELEASE_KEY_PASSWORD=123456\nMYAPP_RELEASE_STORE_PASSWORD=123456\nMYAPP_RELEASE_STORE_FILE=my-release-key.keystore\nandroid.useDeprecatedNdk=true\n\n3. - android/app/build.gradle\nandroid {\n  ...\n  defaultConfig { ... }\n  signingConfigs {\n      release {\n          storeFile file(MYAPP_RELEASE_STORE_FILE)\n          storePassword MYAPP_RELEASE_STORE_PASSWORD\n          keyAlias MYAPP_RELEASE_KEY_ALIAS\n          keyPassword MYAPP_RELEASE_KEY_PASSWORD\n      }\n  }\n  buildTypes {\n      release {\n          ...\n          signingConfig signingConfigs.release\n      }\n  }\n}\n\n4.apk\napk android/app/build/outputs/apk/ \n./gradlew assembleRelease\n```\n\n#### iOS\n\n```\n1.iosbundle\n\n2.package.json\n{\n    \"scripts\":{\n        \"bundle-ios\":\"node node_modules/react-native/local-cli/cli.js bundle --entry-file index.js  --platform ios --dev false --bundle-output ./ios/bundle/index.ios.jsbundle --assets-dest ./ios/bundle\"\n    }\n}\n\n3.npm run bundle-ios\n\n4.XcodeCreate folder references\n\n5.\n```\n","source":"_posts/react-native-package.md","raw":"---\ntitle: react-native-\ndate: 2019-06-26\ntags: ['React Native']\ncategories: React Native\n---\n\n### AndroidiOS\n<!-- more -->\n\n#### Android\n\n```\n1. - 10000 my-release-key.keystore\n: \nkeytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000\n\n2.-android/app/gradle.properties\nMYAPP_RELEASE_KEY_ALIAS=my-key-alias\nMYAPP_RELEASE_KEY_PASSWORD=123456\nMYAPP_RELEASE_STORE_PASSWORD=123456\nMYAPP_RELEASE_STORE_FILE=my-release-key.keystore\nandroid.useDeprecatedNdk=true\n\n3. - android/app/build.gradle\nandroid {\n  ...\n  defaultConfig { ... }\n  signingConfigs {\n      release {\n          storeFile file(MYAPP_RELEASE_STORE_FILE)\n          storePassword MYAPP_RELEASE_STORE_PASSWORD\n          keyAlias MYAPP_RELEASE_KEY_ALIAS\n          keyPassword MYAPP_RELEASE_KEY_PASSWORD\n      }\n  }\n  buildTypes {\n      release {\n          ...\n          signingConfig signingConfigs.release\n      }\n  }\n}\n\n4.apk\napk android/app/build/outputs/apk/ \n./gradlew assembleRelease\n```\n\n#### iOS\n\n```\n1.iosbundle\n\n2.package.json\n{\n    \"scripts\":{\n        \"bundle-ios\":\"node node_modules/react-native/local-cli/cli.js bundle --entry-file index.js  --platform ios --dev false --bundle-output ./ios/bundle/index.ios.jsbundle --assets-dest ./ios/bundle\"\n    }\n}\n\n3.npm run bundle-ios\n\n4.XcodeCreate folder references\n\n5.\n```\n","slug":"react-native-package","published":1,"updated":"2019-06-26T01:19:40.408Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42x003fhe6j73679zgn","content":"<h3 id=\"AndroidiOS\"><a href=\"#AndroidiOS\" class=\"headerlink\" title=\"AndroidiOS\"></a>AndroidiOS</h3><a id=\"more\"></a>\n<h4 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. - 10000 my-release-key.keystore</span><br><span class=\"line\">: </span><br><span class=\"line\">keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000</span><br><span class=\"line\"></span><br><span class=\"line\">2.-android/app/gradle.properties</span><br><span class=\"line\">MYAPP_RELEASE_KEY_ALIAS=my-key-alias</span><br><span class=\"line\">MYAPP_RELEASE_KEY_PASSWORD=123456</span><br><span class=\"line\">MYAPP_RELEASE_STORE_PASSWORD=123456</span><br><span class=\"line\">MYAPP_RELEASE_STORE_FILE=my-release-key.keystore</span><br><span class=\"line\">android.useDeprecatedNdk=true</span><br><span class=\"line\"></span><br><span class=\"line\">3. - android/app/build.gradle</span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  defaultConfig &#123; ... &#125;</span><br><span class=\"line\">  signingConfigs &#123;</span><br><span class=\"line\">      release &#123;</span><br><span class=\"line\">          storeFile file(MYAPP_RELEASE_STORE_FILE)</span><br><span class=\"line\">          storePassword MYAPP_RELEASE_STORE_PASSWORD</span><br><span class=\"line\">          keyAlias MYAPP_RELEASE_KEY_ALIAS</span><br><span class=\"line\">          keyPassword MYAPP_RELEASE_KEY_PASSWORD</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  buildTypes &#123;</span><br><span class=\"line\">      release &#123;</span><br><span class=\"line\">          ...</span><br><span class=\"line\">          signingConfig signingConfigs.release</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">4.apk</span><br><span class=\"line\">apk android/app/build/outputs/apk/ </span><br><span class=\"line\">./gradlew assembleRelease</span><br></pre></td></tr></table></figure>\n<h4 id=\"iOS\"><a href=\"#iOS\" class=\"headerlink\" title=\"iOS\"></a>iOS</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.iosbundle</span><br><span class=\"line\"></span><br><span class=\"line\">2.package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;scripts&quot;:&#123;</span><br><span class=\"line\">        &quot;bundle-ios&quot;:&quot;node node_modules/react-native/local-cli/cli.js bundle --entry-file index.js  --platform ios --dev false --bundle-output ./ios/bundle/index.ios.jsbundle --assets-dest ./ios/bundle&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">3.npm run bundle-ios</span><br><span class=\"line\"></span><br><span class=\"line\">4.XcodeCreate folder references</span><br><span class=\"line\"></span><br><span class=\"line\">5.</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"AndroidiOS\"><a href=\"#AndroidiOS\" class=\"headerlink\" title=\"AndroidiOS\"></a>AndroidiOS</h3>","more":"<h4 id=\"Android\"><a href=\"#Android\" class=\"headerlink\" title=\"Android\"></a>Android</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. - 10000 my-release-key.keystore</span><br><span class=\"line\">: </span><br><span class=\"line\">keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000</span><br><span class=\"line\"></span><br><span class=\"line\">2.-android/app/gradle.properties</span><br><span class=\"line\">MYAPP_RELEASE_KEY_ALIAS=my-key-alias</span><br><span class=\"line\">MYAPP_RELEASE_KEY_PASSWORD=123456</span><br><span class=\"line\">MYAPP_RELEASE_STORE_PASSWORD=123456</span><br><span class=\"line\">MYAPP_RELEASE_STORE_FILE=my-release-key.keystore</span><br><span class=\"line\">android.useDeprecatedNdk=true</span><br><span class=\"line\"></span><br><span class=\"line\">3. - android/app/build.gradle</span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  defaultConfig &#123; ... &#125;</span><br><span class=\"line\">  signingConfigs &#123;</span><br><span class=\"line\">      release &#123;</span><br><span class=\"line\">          storeFile file(MYAPP_RELEASE_STORE_FILE)</span><br><span class=\"line\">          storePassword MYAPP_RELEASE_STORE_PASSWORD</span><br><span class=\"line\">          keyAlias MYAPP_RELEASE_KEY_ALIAS</span><br><span class=\"line\">          keyPassword MYAPP_RELEASE_KEY_PASSWORD</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  buildTypes &#123;</span><br><span class=\"line\">      release &#123;</span><br><span class=\"line\">          ...</span><br><span class=\"line\">          signingConfig signingConfigs.release</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">4.apk</span><br><span class=\"line\">apk android/app/build/outputs/apk/ </span><br><span class=\"line\">./gradlew assembleRelease</span><br></pre></td></tr></table></figure>\n<h4 id=\"iOS\"><a href=\"#iOS\" class=\"headerlink\" title=\"iOS\"></a>iOS</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.iosbundle</span><br><span class=\"line\"></span><br><span class=\"line\">2.package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;scripts&quot;:&#123;</span><br><span class=\"line\">        &quot;bundle-ios&quot;:&quot;node node_modules/react-native/local-cli/cli.js bundle --entry-file index.js  --platform ios --dev false --bundle-output ./ios/bundle/index.ios.jsbundle --assets-dest ./ios/bundle&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">3.npm run bundle-ios</span><br><span class=\"line\"></span><br><span class=\"line\">4.XcodeCreate folder references</span><br><span class=\"line\"></span><br><span class=\"line\">5.</span><br></pre></td></tr></table></figure>"},{"title":"React RouterV4","date":"2019-02-24T12:27:40.000Z","_content":"### React Router\n<!-- more -->\n\n### react-routerreact-router-dom\n1. react-router\nrouterapi,Router,Route,Switch\n\n2.react-router-dom\nBrowserRouter,HashRouter,Route,Link,NavLink\n\n### react-router-dom\n1.HashRouterBrowserRouter\n\n2.Route:path,exact,component,render\nRoute:\npath:\nexact:\ncomponent: React \nrender:\n\n3.NavLink,Link\nLink:\n\n4.Switch\n <Route>,\n\n5.Redirect\n\n\n6.HashRouterBrowserRouter\nHashRouter: http://localhost:3000/#/admin#\nBrowserRouter:http://localhost:3000/admin,Router\n\n\n","source":"_posts/react-router.md","raw":"---\ntitle: React RouterV4\ndate: 2019-02-24 20:27:40\ntags: [\"React\"]\ncategories: React\n---\n### React Router\n<!-- more -->\n\n### react-routerreact-router-dom\n1. react-router\nrouterapi,Router,Route,Switch\n\n2.react-router-dom\nBrowserRouter,HashRouter,Route,Link,NavLink\n\n### react-router-dom\n1.HashRouterBrowserRouter\n\n2.Route:path,exact,component,render\nRoute:\npath:\nexact:\ncomponent: React \nrender:\n\n3.NavLink,Link\nLink:\n\n4.Switch\n <Route>,\n\n5.Redirect\n\n\n6.HashRouterBrowserRouter\nHashRouter: http://localhost:3000/#/admin#\nBrowserRouter:http://localhost:3000/admin,Router\n\n\n","slug":"react-router","published":1,"updated":"2019-02-24T12:51:46.531Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq42y003ihe6jyo9cl1hl","content":"<h3 id=\"React-Router\"><a href=\"#React-Router\" class=\"headerlink\" title=\"React Router\"></a>React Router</h3><a id=\"more\"></a>\n<h3 id=\"react-routerreact-router-dom\"><a href=\"#react-routerreact-router-dom\" class=\"headerlink\" title=\"react-routerreact-router-dom\"></a>react-routerreact-router-dom</h3><ol>\n<li>react-router<br>routerapi,Router,Route,Switch</li>\n</ol>\n<p>2.react-router-dom<br>BrowserRouter,HashRouter,Route,Link,NavLink</p>\n<h3 id=\"react-router-dom\"><a href=\"#react-router-dom\" class=\"headerlink\" title=\"react-router-dom\"></a>react-router-dom</h3><p>1.HashRouterBrowserRouter</p>\n<p>2.Route:path,exact,component,render<br>Route:<br>path:<br>exact:<br>component: React <br>render:</p>\n<p>3.NavLink,Link<br>Link:</p>\n<p>4.Switch<br> <route>,</route></p>\n<p>5.Redirect<br></p>\n<p>6.HashRouterBrowserRouter<br>HashRouter: <a href=\"http://localhost:3000/#/admin#\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/#/admin#</a><br>BrowserRouter:<a href=\"http://localhost:3000/admin,Router\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/admin,Router</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"React-Router\"><a href=\"#React-Router\" class=\"headerlink\" title=\"React Router\"></a>React Router</h3>","more":"<h3 id=\"react-routerreact-router-dom\"><a href=\"#react-routerreact-router-dom\" class=\"headerlink\" title=\"react-routerreact-router-dom\"></a>react-routerreact-router-dom</h3><ol>\n<li>react-router<br>routerapi,Router,Route,Switch</li>\n</ol>\n<p>2.react-router-dom<br>BrowserRouter,HashRouter,Route,Link,NavLink</p>\n<h3 id=\"react-router-dom\"><a href=\"#react-router-dom\" class=\"headerlink\" title=\"react-router-dom\"></a>react-router-dom</h3><p>1.HashRouterBrowserRouter</p>\n<p>2.Route:path,exact,component,render<br>Route:<br>path:<br>exact:<br>component: React <br>render:</p>\n<p>3.NavLink,Link<br>Link:</p>\n<p>4.Switch<br> <route>,</route></p>\n<p>5.Redirect<br></p>\n<p>6.HashRouterBrowserRouter<br>HashRouter: <a href=\"http://localhost:3000/#/admin#\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/#/admin#</a><br>BrowserRouter:<a href=\"http://localhost:3000/admin,Router\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/admin,Router</a></p>"},{"title":"react-native","date":"2019-07-02T16:00:00.000Z","_content":"\n### react-native\n<!-- more -->\n\n####  - react-native-tab-navigator\nprops={this.props} react-navigationapi\n\n```\nnpm install react-native-tab-navigator --save\n\nimport TabNavigator from 'react-native-tab-navigator';\n<View style={styles.container}>\n  <TabNavigator>\n    <TabNavigator.Item\n      selected={this.state.selectedTab === 'home'}\n      selectedTitleStyle={{color:'red'}} //\n      title=\"\"\n      renderIcon={() => <Image style={styles.image} source={require('../assets/images/ic_polular.png')} />}\n      renderSelectedIcon={() => <Image style={[styles.image,{tintColor:'red'}]} source={require('../assets/images/ic_polular.png')} />}\n      onPress={() => this.setState({ selectedTab: 'home' })}>\n      <Home props={this.props}/>\n    </TabNavigator.Item>\n    <TabNavigator.Item\n      selected={this.state.selectedTab === 'my'}\n      selectedTitleStyle={{color:'red'}}\n      title=\"\"\n      renderIcon={() => <Image style={styles.image} source={require('../assets/images/ic_my.png')} />}\n      renderSelectedIcon={() => <Image style={[styles.image,{tintColor:'red'}]} source={require('../assets/images/ic_my.png')} />}\n      onPress={() => this.setState({ selectedTab: 'my' })}>\n      <My props={this.props}/>\n    </TabNavigator.Item>\n  </TabNavigator>\n</View>\n```\n\n####  - react-native-scrollable-tab-view \n\n```\nnpm install react-native-scrollable-tab-view --save\nScrollableTabBar: \n\nimport ScrollableTabView, {ScrollableTabBar} from 'react-native-scrollable-tab-view'\n<ScrollableTabView\n  tabBarUnderlineStyle={{backgroundColor: '#e7e7e7', height: 2}}\n  tabBarInactiveTextColor='mintcream'\n  tabBarActiveTextColor='white'\n  ref=\"scrollableTabView\"\n  tabBarBackgroundColor={'#2196f3'}\n  initialPage={0}\n  renderTabBar={()=><ScrollableTabBar style={{height: 40, borderWidth: 0, elevation: 2}}  tabStyle={{height: 39}} />}\n>\n  <PopularTab tabLabel=\"Java\"></PopularTab>\n  <PopularTab tabLabel=\"iOS\"></PopularTab>\n</ScrollableTabView>\n```\n####  - react-native-check-box\n\n```\nnpm install react-native-check-box --save\n\nimport CheckBox from 'react-native-check-box'\n<CheckBox\n  style={{flex: 1, padding: 10}}   //checkBox\n  onClick={() => this.onClick(data, index)} //\n  isChecked={data.checked} //\n  leftText={data.name}  //name\n  checkedImage={this._checkedImage(true)} //\n  unCheckedImage={this._checkedImage(false)} //\n/>\n\n//\nonClick(data, index) {\n  data.checked = !data.checked;\n  ArrayUtil.updateArray(this.changeValues, data); //\n  this.state.keys[index] = data;//state\n  this.setState({\n      keys: this.state.keys\n  })\n}\n\n/**\n  * \n  * @param {Boolean} checked \n  */\n_checkedImage(checked) {\n  return <Ionicons\n    name={checked ? 'ios-checkbox' : 'md-square-outline'}\n    size={20}\n    style={{\n        color: '#2196f3',\n    }}/>\n}\n```\n\n#### HTML - react-native-htmlview\n\n```\n<HTMLView\n  value={description} //HTML\n  onLinkPress={(url) => {\n  }} //\n  stylesheet={{\n      p: styles.description,\n      a: styles.description,\n  }} //\n /> \n```\n\n#### Modal - \n\n```\n/**\n *\n */\nimport React, {Component} from 'react'\nimport {Modal, Text, TouchableOpacity, StyleSheet, View, Platform, DeviceInfo} from 'react-native'\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons'\n\nexport default class TrendingDialog extends Component {\n    state = {\n        visible: false,\n    };\n\n    show() {\n      this.setState({\n        visible: true,\n      })\n    }\n\n    dismiss() {\n      this.setState({\n        visible: false,\n      })\n    }\n\n    render() {\n        const {onClose, onSelect} = this.props;\n        return (\n          <Modal\n            transparent={true}\n            visible={this.state.visible}\n            onRequestClose={() => onClose}\n          >\n            <TouchableOpacity\n              style={styles.container}\n              onPress={() => this.dismiss()}\n            >\n              <MaterialIcons\n                name={'arrow-drop-up'}\n                size={36}\n                style={styles.arrow}\n              />\n              <View style={styles.content}>\n                <TouchableOpacity onPress={() => onSelect('11')}>\n                  <View style={styles.text_container}>\n                    <Text style={styles.text}>Displaying the popover on top of other elements</Text>\n                  </View>\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => onSelect('11')}>\n                  <View style={styles.text_container}>\n                    <Text style={styles.text}>Displaying the popover on top of other elements</Text>\n                  </View>\n                </TouchableOpacity>\n              </View>\n              </TouchableOpacity>\n            </Modal>\n\n        )\n    }\n}\nconst styles = StyleSheet.create({\n    container: {\n      backgroundColor: 'rgba(0,0,0,0.6)',\n      flex: 1,\n      alignItems: 'center',\n      paddingTop: DeviceInfo.isIPhoneX_deprecated ? 30 : 0\n    },\n    arrow: {\n      marginTop: 40,\n      color: 'white',\n      padding: 0,\n      margin: -15\n    },\n    content: {\n      backgroundColor: 'white',\n      borderRadius: 3,\n      paddingTop: 3,\n      paddingBottom: 3,\n      marginRight: 3,\n    },\n    text_container: {\n      alignItems: 'center',\n      flexDirection: 'row',\n      justifyContent: 'center'\n    },\n    text: {\n      fontSize: 16,\n      color: 'black',\n      fontWeight: '400',\n      padding: 8,\n      paddingLeft: 26,\n      paddingRight: 26\n    },\n    line: {\n      height: 0.3,\n      backgroundColor: 'darkgray',\n    },\n});\n```\n\n```\n\n\n<Button title='' onPress={() => this.dialog.show()/>\n<Button title='' onPress={() => this.dialog.dismiss()/>\n\nrenderTrendingDialog() {\n  return <TrendingDialog\n      ref={dialog => this.dialog = dialog}\n      onSelect={tab => this.onSelectTimeSpan(tab)}\n  />\n}\n```\n\n####  - react-native-storage\n\n```\nnpm install react-native-storage\nnpm install @react-native-community/async-storage\nreact-native link @react-native-community/async-storage\n\nimport Storage from 'react-native-storage';\nimport AsyncStorage from '@react-native-community/async-storage';\n\nconst STORAGE = new Storage({\n  // 1000\n  size: 100,\n\n  // RNAsyncStoragewebwindow.localStorage\n  // \n  storageBackend: AsyncStorage,\n\n  // 1000 * 3600 * 24 null\n  defaultExpires: null,\n\n  // \n  enableCache: true, // sync // storage.sync // require\n\n  // storage\n  // sync\n  // sync\n  //sync: require('sync'),\n});\n\nglobal.STORAGE = STORAGE\n```\n\n```\n\n\nonSave() {\n  STORAGE.save({\n    key: 'loginState',\n    data: {\n      from: 'some other site',\n      userid: 'some userid',\n      token: 'some token',\n    }\n  })\n}\nonLoad() {\n  STORAGE.load({\n    key: 'loginState'\n  }).then(ret => {\n    console.log(ret)\n  }).catch(err => {\n    console.warn(err.message)\n  })\n}\nonRemove() {\n  STORAGE.remove({\n    key: 'loginState',\n  });\n}\n```\n\n####  - react-native-easy-toast\n\n```\nnpm i react-native-easy-toast --save\n\nimport Toast, {DURATION} from 'react-native-easy-toast'\n<Toast\n  ref={toast => this.toast = toast}\n  position={'center'}\n/>\n\n//\nthis.toast.show('\bhello')\n```\n\n####  - react-native-parallax-scroll-view\n\n```\nnpm install react-native-parallax-scroll-view --save\n\nimport ParallaxScrollView from 'react-native-parallax-scroll-view'\n\n// \ngetParallaxRenderConfig(params) {\n  let config = {}\n  //\n  config.renderBackground = () => (\n    <View key=\"background\">\n      <Image source={{\n        uri: params.backgroundImg,\n        width: window.width,\n        height: PARALLAX_HEADER_HEIGHT\n      }}/>\n      <View style={{\n        position: 'absolute',\n        top: 0,\n        width: window.width,\n        backgroundColor: 'rgba(0,0,0,.4)',\n        height: PARALLAX_HEADER_HEIGHT\n      }}/>\n    </View>\n  );\n  // \n  config.renderForeground = () => (\n    <View key=\"parallax-header\" style={styles.parallaxHeader}>\n      <Image style={styles.avatar} source={{url:params.avatar}}/>\n        <Text style={ styles.sectionSpeakerText }>\n            {params.name}\n        </Text>\n        <Text style={ styles.sectionTitleText }>\n            {params.description}\n        </Text>\n    </View>\n  );\n  //\n  config.renderStickyHeader = () => (\n    <View key=\"sticky-header\" style={styles.stickySection}>\n      <Text style={styles.stickySectionText}>{params.name}</Text>\n    </View>\n  );\n  //\n  config.renderFixedHeader = () => (\n    <View key=\"fixed-header\" style={styles.fixedSection}>\n      {ViewUtil.getLeftBackButton(()=> NavigationUtil.goBack(this.props.navigation))}\n      {ViewUtil.getShareButton(()=>this.onShare())}\n    </View>\n  ); \n  return config\n}\n\nrenderView(content,params) {\n  let renderConfig = this.getParallaxRenderConfig(params)\n  return (\n    <ParallaxScrollView\n      backgroundColor=\"#fff\"\n      contentBackgroundColor=\"#f3f3f4\"\n      parallaxHeaderHeight={PARALLAX_HEADER_HEIGHT}\n      stickyHeaderHeight={STICKY_HEADER_HEIGHT}\n      backgroundScrollSpeed={10}\n      {...renderConfig}\n      >{content}</ParallaxScrollView>\n  )\n}\n\nrender() {\n    const content = <View><Text>hello</Text></View>\n    return this.renderView(content,{\n      'name': 'React Native',\n      'description':'React Native HTML5 ',\n      'avatar': 'https://bbs.reactnative.cn/uploads/profile/1-profileimg.png',\n      'backgroundImg':'https://img0.sc115.com/uploads3/sc/jpgs/1904/zzpic17483_sc115.com.jpg'\n    })\n  }\n```\n\n####  - react-native-pushy\n\n```\nhttps://github.com/reactnativecn/react-native-pushy/blob/master/docs/guide.md\n\n1. https://update.reactnative.cn\n\n2.pushy login\n\n3.\npushy createApp --platform ios\npushy createApp --platform android\n\n3.\npushy uploadIpa <your-package.ipa>\npushy uploadApk android/app/build/outputs/apk/app-release.apk\n\n4.\npushy bundle --platform <ios|android>\n\n```\n\n####  - jshare-react-native \n\n####  - react-native-yunpeng-alipay\n\n####  - react-native-wechat \n\n#### \n```\napp,package.json,\n\n{\n  \"name\":\"app\"\n}\n```","source":"_posts/react-native-tools.md","raw":"---\ntitle: react-native\ndate: 2019-07-03\ntags: ['React Native']\ncategories: React Native\n---\n\n### react-native\n<!-- more -->\n\n####  - react-native-tab-navigator\nprops={this.props} react-navigationapi\n\n```\nnpm install react-native-tab-navigator --save\n\nimport TabNavigator from 'react-native-tab-navigator';\n<View style={styles.container}>\n  <TabNavigator>\n    <TabNavigator.Item\n      selected={this.state.selectedTab === 'home'}\n      selectedTitleStyle={{color:'red'}} //\n      title=\"\"\n      renderIcon={() => <Image style={styles.image} source={require('../assets/images/ic_polular.png')} />}\n      renderSelectedIcon={() => <Image style={[styles.image,{tintColor:'red'}]} source={require('../assets/images/ic_polular.png')} />}\n      onPress={() => this.setState({ selectedTab: 'home' })}>\n      <Home props={this.props}/>\n    </TabNavigator.Item>\n    <TabNavigator.Item\n      selected={this.state.selectedTab === 'my'}\n      selectedTitleStyle={{color:'red'}}\n      title=\"\"\n      renderIcon={() => <Image style={styles.image} source={require('../assets/images/ic_my.png')} />}\n      renderSelectedIcon={() => <Image style={[styles.image,{tintColor:'red'}]} source={require('../assets/images/ic_my.png')} />}\n      onPress={() => this.setState({ selectedTab: 'my' })}>\n      <My props={this.props}/>\n    </TabNavigator.Item>\n  </TabNavigator>\n</View>\n```\n\n####  - react-native-scrollable-tab-view \n\n```\nnpm install react-native-scrollable-tab-view --save\nScrollableTabBar: \n\nimport ScrollableTabView, {ScrollableTabBar} from 'react-native-scrollable-tab-view'\n<ScrollableTabView\n  tabBarUnderlineStyle={{backgroundColor: '#e7e7e7', height: 2}}\n  tabBarInactiveTextColor='mintcream'\n  tabBarActiveTextColor='white'\n  ref=\"scrollableTabView\"\n  tabBarBackgroundColor={'#2196f3'}\n  initialPage={0}\n  renderTabBar={()=><ScrollableTabBar style={{height: 40, borderWidth: 0, elevation: 2}}  tabStyle={{height: 39}} />}\n>\n  <PopularTab tabLabel=\"Java\"></PopularTab>\n  <PopularTab tabLabel=\"iOS\"></PopularTab>\n</ScrollableTabView>\n```\n####  - react-native-check-box\n\n```\nnpm install react-native-check-box --save\n\nimport CheckBox from 'react-native-check-box'\n<CheckBox\n  style={{flex: 1, padding: 10}}   //checkBox\n  onClick={() => this.onClick(data, index)} //\n  isChecked={data.checked} //\n  leftText={data.name}  //name\n  checkedImage={this._checkedImage(true)} //\n  unCheckedImage={this._checkedImage(false)} //\n/>\n\n//\nonClick(data, index) {\n  data.checked = !data.checked;\n  ArrayUtil.updateArray(this.changeValues, data); //\n  this.state.keys[index] = data;//state\n  this.setState({\n      keys: this.state.keys\n  })\n}\n\n/**\n  * \n  * @param {Boolean} checked \n  */\n_checkedImage(checked) {\n  return <Ionicons\n    name={checked ? 'ios-checkbox' : 'md-square-outline'}\n    size={20}\n    style={{\n        color: '#2196f3',\n    }}/>\n}\n```\n\n#### HTML - react-native-htmlview\n\n```\n<HTMLView\n  value={description} //HTML\n  onLinkPress={(url) => {\n  }} //\n  stylesheet={{\n      p: styles.description,\n      a: styles.description,\n  }} //\n /> \n```\n\n#### Modal - \n\n```\n/**\n *\n */\nimport React, {Component} from 'react'\nimport {Modal, Text, TouchableOpacity, StyleSheet, View, Platform, DeviceInfo} from 'react-native'\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons'\n\nexport default class TrendingDialog extends Component {\n    state = {\n        visible: false,\n    };\n\n    show() {\n      this.setState({\n        visible: true,\n      })\n    }\n\n    dismiss() {\n      this.setState({\n        visible: false,\n      })\n    }\n\n    render() {\n        const {onClose, onSelect} = this.props;\n        return (\n          <Modal\n            transparent={true}\n            visible={this.state.visible}\n            onRequestClose={() => onClose}\n          >\n            <TouchableOpacity\n              style={styles.container}\n              onPress={() => this.dismiss()}\n            >\n              <MaterialIcons\n                name={'arrow-drop-up'}\n                size={36}\n                style={styles.arrow}\n              />\n              <View style={styles.content}>\n                <TouchableOpacity onPress={() => onSelect('11')}>\n                  <View style={styles.text_container}>\n                    <Text style={styles.text}>Displaying the popover on top of other elements</Text>\n                  </View>\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => onSelect('11')}>\n                  <View style={styles.text_container}>\n                    <Text style={styles.text}>Displaying the popover on top of other elements</Text>\n                  </View>\n                </TouchableOpacity>\n              </View>\n              </TouchableOpacity>\n            </Modal>\n\n        )\n    }\n}\nconst styles = StyleSheet.create({\n    container: {\n      backgroundColor: 'rgba(0,0,0,0.6)',\n      flex: 1,\n      alignItems: 'center',\n      paddingTop: DeviceInfo.isIPhoneX_deprecated ? 30 : 0\n    },\n    arrow: {\n      marginTop: 40,\n      color: 'white',\n      padding: 0,\n      margin: -15\n    },\n    content: {\n      backgroundColor: 'white',\n      borderRadius: 3,\n      paddingTop: 3,\n      paddingBottom: 3,\n      marginRight: 3,\n    },\n    text_container: {\n      alignItems: 'center',\n      flexDirection: 'row',\n      justifyContent: 'center'\n    },\n    text: {\n      fontSize: 16,\n      color: 'black',\n      fontWeight: '400',\n      padding: 8,\n      paddingLeft: 26,\n      paddingRight: 26\n    },\n    line: {\n      height: 0.3,\n      backgroundColor: 'darkgray',\n    },\n});\n```\n\n```\n\n\n<Button title='' onPress={() => this.dialog.show()/>\n<Button title='' onPress={() => this.dialog.dismiss()/>\n\nrenderTrendingDialog() {\n  return <TrendingDialog\n      ref={dialog => this.dialog = dialog}\n      onSelect={tab => this.onSelectTimeSpan(tab)}\n  />\n}\n```\n\n####  - react-native-storage\n\n```\nnpm install react-native-storage\nnpm install @react-native-community/async-storage\nreact-native link @react-native-community/async-storage\n\nimport Storage from 'react-native-storage';\nimport AsyncStorage from '@react-native-community/async-storage';\n\nconst STORAGE = new Storage({\n  // 1000\n  size: 100,\n\n  // RNAsyncStoragewebwindow.localStorage\n  // \n  storageBackend: AsyncStorage,\n\n  // 1000 * 3600 * 24 null\n  defaultExpires: null,\n\n  // \n  enableCache: true, // sync // storage.sync // require\n\n  // storage\n  // sync\n  // sync\n  //sync: require('sync'),\n});\n\nglobal.STORAGE = STORAGE\n```\n\n```\n\n\nonSave() {\n  STORAGE.save({\n    key: 'loginState',\n    data: {\n      from: 'some other site',\n      userid: 'some userid',\n      token: 'some token',\n    }\n  })\n}\nonLoad() {\n  STORAGE.load({\n    key: 'loginState'\n  }).then(ret => {\n    console.log(ret)\n  }).catch(err => {\n    console.warn(err.message)\n  })\n}\nonRemove() {\n  STORAGE.remove({\n    key: 'loginState',\n  });\n}\n```\n\n####  - react-native-easy-toast\n\n```\nnpm i react-native-easy-toast --save\n\nimport Toast, {DURATION} from 'react-native-easy-toast'\n<Toast\n  ref={toast => this.toast = toast}\n  position={'center'}\n/>\n\n//\nthis.toast.show('\bhello')\n```\n\n####  - react-native-parallax-scroll-view\n\n```\nnpm install react-native-parallax-scroll-view --save\n\nimport ParallaxScrollView from 'react-native-parallax-scroll-view'\n\n// \ngetParallaxRenderConfig(params) {\n  let config = {}\n  //\n  config.renderBackground = () => (\n    <View key=\"background\">\n      <Image source={{\n        uri: params.backgroundImg,\n        width: window.width,\n        height: PARALLAX_HEADER_HEIGHT\n      }}/>\n      <View style={{\n        position: 'absolute',\n        top: 0,\n        width: window.width,\n        backgroundColor: 'rgba(0,0,0,.4)',\n        height: PARALLAX_HEADER_HEIGHT\n      }}/>\n    </View>\n  );\n  // \n  config.renderForeground = () => (\n    <View key=\"parallax-header\" style={styles.parallaxHeader}>\n      <Image style={styles.avatar} source={{url:params.avatar}}/>\n        <Text style={ styles.sectionSpeakerText }>\n            {params.name}\n        </Text>\n        <Text style={ styles.sectionTitleText }>\n            {params.description}\n        </Text>\n    </View>\n  );\n  //\n  config.renderStickyHeader = () => (\n    <View key=\"sticky-header\" style={styles.stickySection}>\n      <Text style={styles.stickySectionText}>{params.name}</Text>\n    </View>\n  );\n  //\n  config.renderFixedHeader = () => (\n    <View key=\"fixed-header\" style={styles.fixedSection}>\n      {ViewUtil.getLeftBackButton(()=> NavigationUtil.goBack(this.props.navigation))}\n      {ViewUtil.getShareButton(()=>this.onShare())}\n    </View>\n  ); \n  return config\n}\n\nrenderView(content,params) {\n  let renderConfig = this.getParallaxRenderConfig(params)\n  return (\n    <ParallaxScrollView\n      backgroundColor=\"#fff\"\n      contentBackgroundColor=\"#f3f3f4\"\n      parallaxHeaderHeight={PARALLAX_HEADER_HEIGHT}\n      stickyHeaderHeight={STICKY_HEADER_HEIGHT}\n      backgroundScrollSpeed={10}\n      {...renderConfig}\n      >{content}</ParallaxScrollView>\n  )\n}\n\nrender() {\n    const content = <View><Text>hello</Text></View>\n    return this.renderView(content,{\n      'name': 'React Native',\n      'description':'React Native HTML5 ',\n      'avatar': 'https://bbs.reactnative.cn/uploads/profile/1-profileimg.png',\n      'backgroundImg':'https://img0.sc115.com/uploads3/sc/jpgs/1904/zzpic17483_sc115.com.jpg'\n    })\n  }\n```\n\n####  - react-native-pushy\n\n```\nhttps://github.com/reactnativecn/react-native-pushy/blob/master/docs/guide.md\n\n1. https://update.reactnative.cn\n\n2.pushy login\n\n3.\npushy createApp --platform ios\npushy createApp --platform android\n\n3.\npushy uploadIpa <your-package.ipa>\npushy uploadApk android/app/build/outputs/apk/app-release.apk\n\n4.\npushy bundle --platform <ios|android>\n\n```\n\n####  - jshare-react-native \n\n####  - react-native-yunpeng-alipay\n\n####  - react-native-wechat \n\n#### \n```\napp,package.json,\n\n{\n  \"name\":\"app\"\n}\n```","slug":"react-native-tools","published":1,"updated":"2019-07-03T01:23:29.102Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq430003mhe6jjdgxyg10","content":"<h3 id=\"react-native\"><a href=\"#react-native\" class=\"headerlink\" title=\"react-native\"></a>react-native</h3><a id=\"more\"></a>\n<h4 id=\"-react-native-tab-navigator\"><a href=\"#-react-native-tab-navigator\" class=\"headerlink\" title=\" - react-native-tab-navigator\"></a> - react-native-tab-navigator</h4><p>props={this.props} react-navigationapi</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-tab-navigator --save</span><br><span class=\"line\"></span><br><span class=\"line\">import TabNavigator from &apos;react-native-tab-navigator&apos;;</span><br><span class=\"line\">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class=\"line\">  &lt;TabNavigator&gt;</span><br><span class=\"line\">    &lt;TabNavigator.Item</span><br><span class=\"line\">      selected=&#123;this.state.selectedTab === &apos;home&apos;&#125;</span><br><span class=\"line\">      selectedTitleStyle=&#123;&#123;color:&apos;red&apos;&#125;&#125; //</span><br><span class=\"line\">      title=&quot;&quot;</span><br><span class=\"line\">      renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.image&#125; source=&#123;require(&apos;../assets/images/ic_polular.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;[styles.image,&#123;tintColor:&apos;red&apos;&#125;]&#125; source=&#123;require(&apos;../assets/images/ic_polular.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      onPress=&#123;() =&gt; this.setState(&#123; selectedTab: &apos;home&apos; &#125;)&#125;&gt;</span><br><span class=\"line\">      &lt;Home props=&#123;this.props&#125;/&gt;</span><br><span class=\"line\">    &lt;/TabNavigator.Item&gt;</span><br><span class=\"line\">    &lt;TabNavigator.Item</span><br><span class=\"line\">      selected=&#123;this.state.selectedTab === &apos;my&apos;&#125;</span><br><span class=\"line\">      selectedTitleStyle=&#123;&#123;color:&apos;red&apos;&#125;&#125;</span><br><span class=\"line\">      title=&quot;&quot;</span><br><span class=\"line\">      renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.image&#125; source=&#123;require(&apos;../assets/images/ic_my.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;[styles.image,&#123;tintColor:&apos;red&apos;&#125;]&#125; source=&#123;require(&apos;../assets/images/ic_my.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      onPress=&#123;() =&gt; this.setState(&#123; selectedTab: &apos;my&apos; &#125;)&#125;&gt;</span><br><span class=\"line\">      &lt;My props=&#123;this.props&#125;/&gt;</span><br><span class=\"line\">    &lt;/TabNavigator.Item&gt;</span><br><span class=\"line\">  &lt;/TabNavigator&gt;</span><br><span class=\"line\">&lt;/View&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-scrollable-tab-view\"><a href=\"#-react-native-scrollable-tab-view\" class=\"headerlink\" title=\" - react-native-scrollable-tab-view\"></a> - react-native-scrollable-tab-view</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-scrollable-tab-view --save</span><br><span class=\"line\">ScrollableTabBar: </span><br><span class=\"line\"></span><br><span class=\"line\">import ScrollableTabView, &#123;ScrollableTabBar&#125; from &apos;react-native-scrollable-tab-view&apos;</span><br><span class=\"line\">&lt;ScrollableTabView</span><br><span class=\"line\">  tabBarUnderlineStyle=&#123;&#123;backgroundColor: &apos;#e7e7e7&apos;, height: 2&#125;&#125;</span><br><span class=\"line\">  tabBarInactiveTextColor=&apos;mintcream&apos;</span><br><span class=\"line\">  tabBarActiveTextColor=&apos;white&apos;</span><br><span class=\"line\">  ref=&quot;scrollableTabView&quot;</span><br><span class=\"line\">  tabBarBackgroundColor=&#123;&apos;#2196f3&apos;&#125;</span><br><span class=\"line\">  initialPage=&#123;0&#125;</span><br><span class=\"line\">  renderTabBar=&#123;()=&gt;&lt;ScrollableTabBar style=&#123;&#123;height: 40, borderWidth: 0, elevation: 2&#125;&#125;  tabStyle=&#123;&#123;height: 39&#125;&#125; /&gt;&#125;</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">  &lt;PopularTab tabLabel=&quot;Java&quot;&gt;&lt;/PopularTab&gt;</span><br><span class=\"line\">  &lt;PopularTab tabLabel=&quot;iOS&quot;&gt;&lt;/PopularTab&gt;</span><br><span class=\"line\">&lt;/ScrollableTabView&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-check-box\"><a href=\"#-react-native-check-box\" class=\"headerlink\" title=\" - react-native-check-box\"></a> - react-native-check-box</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-check-box --save</span><br><span class=\"line\"></span><br><span class=\"line\">import CheckBox from &apos;react-native-check-box&apos;</span><br><span class=\"line\">&lt;CheckBox</span><br><span class=\"line\">  style=&#123;&#123;flex: 1, padding: 10&#125;&#125;   //checkBox</span><br><span class=\"line\">  onClick=&#123;() =&gt; this.onClick(data, index)&#125; //</span><br><span class=\"line\">  isChecked=&#123;data.checked&#125; //</span><br><span class=\"line\">  leftText=&#123;data.name&#125;  //name</span><br><span class=\"line\">  checkedImage=&#123;this._checkedImage(true)&#125; //</span><br><span class=\"line\">  unCheckedImage=&#123;this._checkedImage(false)&#125; //</span><br><span class=\"line\">/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">onClick(data, index) &#123;</span><br><span class=\"line\">  data.checked = !data.checked;</span><br><span class=\"line\">  ArrayUtil.updateArray(this.changeValues, data); //</span><br><span class=\"line\">  this.state.keys[index] = data;//state</span><br><span class=\"line\">  this.setState(&#123;</span><br><span class=\"line\">      keys: this.state.keys</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">  * </span><br><span class=\"line\">  * @param &#123;Boolean&#125; checked </span><br><span class=\"line\">  */</span><br><span class=\"line\">_checkedImage(checked) &#123;</span><br><span class=\"line\">  return &lt;Ionicons</span><br><span class=\"line\">    name=&#123;checked ? &apos;ios-checkbox&apos; : &apos;md-square-outline&apos;&#125;</span><br><span class=\"line\">    size=&#123;20&#125;</span><br><span class=\"line\">    style=&#123;&#123;</span><br><span class=\"line\">        color: &apos;#2196f3&apos;,</span><br><span class=\"line\">    &#125;&#125;/&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"HTML-react-native-htmlview\"><a href=\"#HTML-react-native-htmlview\" class=\"headerlink\" title=\"HTML - react-native-htmlview\"></a>HTML - react-native-htmlview</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;HTMLView</span><br><span class=\"line\">  value=&#123;description&#125; //HTML</span><br><span class=\"line\">  onLinkPress=&#123;(url) =&gt; &#123;</span><br><span class=\"line\">  &#125;&#125; //</span><br><span class=\"line\">  stylesheet=&#123;&#123;</span><br><span class=\"line\">      p: styles.description,</span><br><span class=\"line\">      a: styles.description,</span><br><span class=\"line\">  &#125;&#125; //</span><br><span class=\"line\"> /&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Modal-\"><a href=\"#Modal-\" class=\"headerlink\" title=\"Modal - \"></a>Modal - </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span><br><span class=\"line\">import React, &#123;Component&#125; from &apos;react&apos;</span><br><span class=\"line\">import &#123;Modal, Text, TouchableOpacity, StyleSheet, View, Platform, DeviceInfo&#125; from &apos;react-native&apos;</span><br><span class=\"line\">import MaterialIcons from &apos;react-native-vector-icons/MaterialIcons&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">export default class TrendingDialog extends Component &#123;</span><br><span class=\"line\">    state = &#123;</span><br><span class=\"line\">        visible: false,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    show() &#123;</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        visible: true,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    dismiss() &#123;</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        visible: false,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    render() &#123;</span><br><span class=\"line\">        const &#123;onClose, onSelect&#125; = this.props;</span><br><span class=\"line\">        return (</span><br><span class=\"line\">          &lt;Modal</span><br><span class=\"line\">            transparent=&#123;true&#125;</span><br><span class=\"line\">            visible=&#123;this.state.visible&#125;</span><br><span class=\"line\">            onRequestClose=&#123;() =&gt; onClose&#125;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">            &lt;TouchableOpacity</span><br><span class=\"line\">              style=&#123;styles.container&#125;</span><br><span class=\"line\">              onPress=&#123;() =&gt; this.dismiss()&#125;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">              &lt;MaterialIcons</span><br><span class=\"line\">                name=&#123;&apos;arrow-drop-up&apos;&#125;</span><br><span class=\"line\">                size=&#123;36&#125;</span><br><span class=\"line\">                style=&#123;styles.arrow&#125;</span><br><span class=\"line\">              /&gt;</span><br><span class=\"line\">              &lt;View style=&#123;styles.content&#125;&gt;</span><br><span class=\"line\">                &lt;TouchableOpacity onPress=&#123;() =&gt; onSelect(&apos;11&apos;)&#125;&gt;</span><br><span class=\"line\">                  &lt;View style=&#123;styles.text_container&#125;&gt;</span><br><span class=\"line\">                    &lt;Text style=&#123;styles.text&#125;&gt;Displaying the popover on top of other elements&lt;/Text&gt;</span><br><span class=\"line\">                  &lt;/View&gt;</span><br><span class=\"line\">                &lt;/TouchableOpacity&gt;</span><br><span class=\"line\">                &lt;TouchableOpacity onPress=&#123;() =&gt; onSelect(&apos;11&apos;)&#125;&gt;</span><br><span class=\"line\">                  &lt;View style=&#123;styles.text_container&#125;&gt;</span><br><span class=\"line\">                    &lt;Text style=&#123;styles.text&#125;&gt;Displaying the popover on top of other elements&lt;/Text&gt;</span><br><span class=\"line\">                  &lt;/View&gt;</span><br><span class=\"line\">                &lt;/TouchableOpacity&gt;</span><br><span class=\"line\">              &lt;/View&gt;</span><br><span class=\"line\">              &lt;/TouchableOpacity&gt;</span><br><span class=\"line\">            &lt;/Modal&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const styles = StyleSheet.create(&#123;</span><br><span class=\"line\">    container: &#123;</span><br><span class=\"line\">      backgroundColor: &apos;rgba(0,0,0,0.6)&apos;,</span><br><span class=\"line\">      flex: 1,</span><br><span class=\"line\">      alignItems: &apos;center&apos;,</span><br><span class=\"line\">      paddingTop: DeviceInfo.isIPhoneX_deprecated ? 30 : 0</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    arrow: &#123;</span><br><span class=\"line\">      marginTop: 40,</span><br><span class=\"line\">      color: &apos;white&apos;,</span><br><span class=\"line\">      padding: 0,</span><br><span class=\"line\">      margin: -15</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    content: &#123;</span><br><span class=\"line\">      backgroundColor: &apos;white&apos;,</span><br><span class=\"line\">      borderRadius: 3,</span><br><span class=\"line\">      paddingTop: 3,</span><br><span class=\"line\">      paddingBottom: 3,</span><br><span class=\"line\">      marginRight: 3,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    text_container: &#123;</span><br><span class=\"line\">      alignItems: &apos;center&apos;,</span><br><span class=\"line\">      flexDirection: &apos;row&apos;,</span><br><span class=\"line\">      justifyContent: &apos;center&apos;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    text: &#123;</span><br><span class=\"line\">      fontSize: 16,</span><br><span class=\"line\">      color: &apos;black&apos;,</span><br><span class=\"line\">      fontWeight: &apos;400&apos;,</span><br><span class=\"line\">      padding: 8,</span><br><span class=\"line\">      paddingLeft: 26,</span><br><span class=\"line\">      paddingRight: 26</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    line: &#123;</span><br><span class=\"line\">      height: 0.3,</span><br><span class=\"line\">      backgroundColor: &apos;darkgray&apos;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;Button title=&apos;&apos; onPress=&#123;() =&gt; this.dialog.show()/&gt;</span><br><span class=\"line\">&lt;Button title=&apos;&apos; onPress=&#123;() =&gt; this.dialog.dismiss()/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">renderTrendingDialog() &#123;</span><br><span class=\"line\">  return &lt;TrendingDialog</span><br><span class=\"line\">      ref=&#123;dialog =&gt; this.dialog = dialog&#125;</span><br><span class=\"line\">      onSelect=&#123;tab =&gt; this.onSelectTimeSpan(tab)&#125;</span><br><span class=\"line\">  /&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-storage\"><a href=\"#-react-native-storage\" class=\"headerlink\" title=\" - react-native-storage\"></a> - react-native-storage</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-storage</span><br><span class=\"line\">npm install @react-native-community/async-storage</span><br><span class=\"line\">react-native link @react-native-community/async-storage</span><br><span class=\"line\"></span><br><span class=\"line\">import Storage from &apos;react-native-storage&apos;;</span><br><span class=\"line\">import AsyncStorage from &apos;@react-native-community/async-storage&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const STORAGE = new Storage(&#123;</span><br><span class=\"line\">  // 1000</span><br><span class=\"line\">  size: 100,</span><br><span class=\"line\"></span><br><span class=\"line\">  // RNAsyncStoragewebwindow.localStorage</span><br><span class=\"line\">  // </span><br><span class=\"line\">  storageBackend: AsyncStorage,</span><br><span class=\"line\"></span><br><span class=\"line\">  // 1000 * 3600 * 24 null</span><br><span class=\"line\">  defaultExpires: null,</span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  enableCache: true, // sync // storage.sync // require</span><br><span class=\"line\"></span><br><span class=\"line\">  // storage</span><br><span class=\"line\">  // sync</span><br><span class=\"line\">  // sync</span><br><span class=\"line\">  //sync: require(&apos;sync&apos;),</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">global.STORAGE = STORAGE</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">onSave() &#123;</span><br><span class=\"line\">  STORAGE.save(&#123;</span><br><span class=\"line\">    key: &apos;loginState&apos;,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      from: &apos;some other site&apos;,</span><br><span class=\"line\">      userid: &apos;some userid&apos;,</span><br><span class=\"line\">      token: &apos;some token&apos;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">onLoad() &#123;</span><br><span class=\"line\">  STORAGE.load(&#123;</span><br><span class=\"line\">    key: &apos;loginState&apos;</span><br><span class=\"line\">  &#125;).then(ret =&gt; &#123;</span><br><span class=\"line\">    console.log(ret)</span><br><span class=\"line\">  &#125;).catch(err =&gt; &#123;</span><br><span class=\"line\">    console.warn(err.message)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">onRemove() &#123;</span><br><span class=\"line\">  STORAGE.remove(&#123;</span><br><span class=\"line\">    key: &apos;loginState&apos;,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-easy-toast\"><a href=\"#-react-native-easy-toast\" class=\"headerlink\" title=\" - react-native-easy-toast\"></a> - react-native-easy-toast</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i react-native-easy-toast --save</span><br><span class=\"line\"></span><br><span class=\"line\">import Toast, &#123;DURATION&#125; from &apos;react-native-easy-toast&apos;</span><br><span class=\"line\">&lt;Toast</span><br><span class=\"line\">  ref=&#123;toast =&gt; this.toast = toast&#125;</span><br><span class=\"line\">  position=&#123;&apos;center&apos;&#125;</span><br><span class=\"line\">/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">this.toast.show(&apos;\bhello&apos;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-parallax-scroll-view\"><a href=\"#-react-native-parallax-scroll-view\" class=\"headerlink\" title=\" - react-native-parallax-scroll-view\"></a> - react-native-parallax-scroll-view</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-parallax-scroll-view --save</span><br><span class=\"line\"></span><br><span class=\"line\">import ParallaxScrollView from &apos;react-native-parallax-scroll-view&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">getParallaxRenderConfig(params) &#123;</span><br><span class=\"line\">  let config = &#123;&#125;</span><br><span class=\"line\">  //</span><br><span class=\"line\">  config.renderBackground = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;background&quot;&gt;</span><br><span class=\"line\">      &lt;Image source=&#123;&#123;</span><br><span class=\"line\">        uri: params.backgroundImg,</span><br><span class=\"line\">        width: window.width,</span><br><span class=\"line\">        height: PARALLAX_HEADER_HEIGHT</span><br><span class=\"line\">      &#125;&#125;/&gt;</span><br><span class=\"line\">      &lt;View style=&#123;&#123;</span><br><span class=\"line\">        position: &apos;absolute&apos;,</span><br><span class=\"line\">        top: 0,</span><br><span class=\"line\">        width: window.width,</span><br><span class=\"line\">        backgroundColor: &apos;rgba(0,0,0,.4)&apos;,</span><br><span class=\"line\">        height: PARALLAX_HEADER_HEIGHT</span><br><span class=\"line\">      &#125;&#125;/&gt;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  // </span><br><span class=\"line\">  config.renderForeground = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;parallax-header&quot; style=&#123;styles.parallaxHeader&#125;&gt;</span><br><span class=\"line\">      &lt;Image style=&#123;styles.avatar&#125; source=&#123;&#123;url:params.avatar&#125;&#125;/&gt;</span><br><span class=\"line\">        &lt;Text style=&#123; styles.sectionSpeakerText &#125;&gt;</span><br><span class=\"line\">            &#123;params.name&#125;</span><br><span class=\"line\">        &lt;/Text&gt;</span><br><span class=\"line\">        &lt;Text style=&#123; styles.sectionTitleText &#125;&gt;</span><br><span class=\"line\">            &#123;params.description&#125;</span><br><span class=\"line\">        &lt;/Text&gt;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  //</span><br><span class=\"line\">  config.renderStickyHeader = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;sticky-header&quot; style=&#123;styles.stickySection&#125;&gt;</span><br><span class=\"line\">      &lt;Text style=&#123;styles.stickySectionText&#125;&gt;&#123;params.name&#125;&lt;/Text&gt;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  //</span><br><span class=\"line\">  config.renderFixedHeader = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;fixed-header&quot; style=&#123;styles.fixedSection&#125;&gt;</span><br><span class=\"line\">      &#123;ViewUtil.getLeftBackButton(()=&gt; NavigationUtil.goBack(this.props.navigation))&#125;</span><br><span class=\"line\">      &#123;ViewUtil.getShareButton(()=&gt;this.onShare())&#125;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  ); </span><br><span class=\"line\">  return config</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">renderView(content,params) &#123;</span><br><span class=\"line\">  let renderConfig = this.getParallaxRenderConfig(params)</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;ParallaxScrollView</span><br><span class=\"line\">      backgroundColor=&quot;#fff&quot;</span><br><span class=\"line\">      contentBackgroundColor=&quot;#f3f3f4&quot;</span><br><span class=\"line\">      parallaxHeaderHeight=&#123;PARALLAX_HEADER_HEIGHT&#125;</span><br><span class=\"line\">      stickyHeaderHeight=&#123;STICKY_HEADER_HEIGHT&#125;</span><br><span class=\"line\">      backgroundScrollSpeed=&#123;10&#125;</span><br><span class=\"line\">      &#123;...renderConfig&#125;</span><br><span class=\"line\">      &gt;&#123;content&#125;&lt;/ParallaxScrollView&gt;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">render() &#123;</span><br><span class=\"line\">    const content = &lt;View&gt;&lt;Text&gt;hello&lt;/Text&gt;&lt;/View&gt;</span><br><span class=\"line\">    return this.renderView(content,&#123;</span><br><span class=\"line\">      &apos;name&apos;: &apos;React Native&apos;,</span><br><span class=\"line\">      &apos;description&apos;:&apos;React Native HTML5 &apos;,</span><br><span class=\"line\">      &apos;avatar&apos;: &apos;https://bbs.reactnative.cn/uploads/profile/1-profileimg.png&apos;,</span><br><span class=\"line\">      &apos;backgroundImg&apos;:&apos;https://img0.sc115.com/uploads3/sc/jpgs/1904/zzpic17483_sc115.com.jpg&apos;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-pushy\"><a href=\"#-react-native-pushy\" class=\"headerlink\" title=\" - react-native-pushy\"></a> - react-native-pushy</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/reactnativecn/react-native-pushy/blob/master/docs/guide.md</span><br><span class=\"line\"></span><br><span class=\"line\">1. https://update.reactnative.cn</span><br><span class=\"line\"></span><br><span class=\"line\">2.pushy login</span><br><span class=\"line\"></span><br><span class=\"line\">3.</span><br><span class=\"line\">pushy createApp --platform ios</span><br><span class=\"line\">pushy createApp --platform android</span><br><span class=\"line\"></span><br><span class=\"line\">3.</span><br><span class=\"line\">pushy uploadIpa &lt;your-package.ipa&gt;</span><br><span class=\"line\">pushy uploadApk android/app/build/outputs/apk/app-release.apk</span><br><span class=\"line\"></span><br><span class=\"line\">4.</span><br><span class=\"line\">pushy bundle --platform &lt;ios|android&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-jshare-react-native\"><a href=\"#-jshare-react-native\" class=\"headerlink\" title=\" - jshare-react-native\"></a> - jshare-react-native</h4><h4 id=\"-react-native-yunpeng-alipay\"><a href=\"#-react-native-yunpeng-alipay\" class=\"headerlink\" title=\" - react-native-yunpeng-alipay\"></a> - react-native-yunpeng-alipay</h4><h4 id=\"-react-native-wechat\"><a href=\"#-react-native-wechat\" class=\"headerlink\" title=\" - react-native-wechat\"></a> - react-native-wechat</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app,package.json,</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;:&quot;app&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"react-native\"><a href=\"#react-native\" class=\"headerlink\" title=\"react-native\"></a>react-native</h3>","more":"<h4 id=\"-react-native-tab-navigator\"><a href=\"#-react-native-tab-navigator\" class=\"headerlink\" title=\" - react-native-tab-navigator\"></a> - react-native-tab-navigator</h4><p>props={this.props} react-navigationapi</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-tab-navigator --save</span><br><span class=\"line\"></span><br><span class=\"line\">import TabNavigator from &apos;react-native-tab-navigator&apos;;</span><br><span class=\"line\">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class=\"line\">  &lt;TabNavigator&gt;</span><br><span class=\"line\">    &lt;TabNavigator.Item</span><br><span class=\"line\">      selected=&#123;this.state.selectedTab === &apos;home&apos;&#125;</span><br><span class=\"line\">      selectedTitleStyle=&#123;&#123;color:&apos;red&apos;&#125;&#125; //</span><br><span class=\"line\">      title=&quot;&quot;</span><br><span class=\"line\">      renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.image&#125; source=&#123;require(&apos;../assets/images/ic_polular.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;[styles.image,&#123;tintColor:&apos;red&apos;&#125;]&#125; source=&#123;require(&apos;../assets/images/ic_polular.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      onPress=&#123;() =&gt; this.setState(&#123; selectedTab: &apos;home&apos; &#125;)&#125;&gt;</span><br><span class=\"line\">      &lt;Home props=&#123;this.props&#125;/&gt;</span><br><span class=\"line\">    &lt;/TabNavigator.Item&gt;</span><br><span class=\"line\">    &lt;TabNavigator.Item</span><br><span class=\"line\">      selected=&#123;this.state.selectedTab === &apos;my&apos;&#125;</span><br><span class=\"line\">      selectedTitleStyle=&#123;&#123;color:&apos;red&apos;&#125;&#125;</span><br><span class=\"line\">      title=&quot;&quot;</span><br><span class=\"line\">      renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.image&#125; source=&#123;require(&apos;../assets/images/ic_my.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;[styles.image,&#123;tintColor:&apos;red&apos;&#125;]&#125; source=&#123;require(&apos;../assets/images/ic_my.png&apos;)&#125; /&gt;&#125;</span><br><span class=\"line\">      onPress=&#123;() =&gt; this.setState(&#123; selectedTab: &apos;my&apos; &#125;)&#125;&gt;</span><br><span class=\"line\">      &lt;My props=&#123;this.props&#125;/&gt;</span><br><span class=\"line\">    &lt;/TabNavigator.Item&gt;</span><br><span class=\"line\">  &lt;/TabNavigator&gt;</span><br><span class=\"line\">&lt;/View&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-scrollable-tab-view\"><a href=\"#-react-native-scrollable-tab-view\" class=\"headerlink\" title=\" - react-native-scrollable-tab-view\"></a> - react-native-scrollable-tab-view</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-scrollable-tab-view --save</span><br><span class=\"line\">ScrollableTabBar: </span><br><span class=\"line\"></span><br><span class=\"line\">import ScrollableTabView, &#123;ScrollableTabBar&#125; from &apos;react-native-scrollable-tab-view&apos;</span><br><span class=\"line\">&lt;ScrollableTabView</span><br><span class=\"line\">  tabBarUnderlineStyle=&#123;&#123;backgroundColor: &apos;#e7e7e7&apos;, height: 2&#125;&#125;</span><br><span class=\"line\">  tabBarInactiveTextColor=&apos;mintcream&apos;</span><br><span class=\"line\">  tabBarActiveTextColor=&apos;white&apos;</span><br><span class=\"line\">  ref=&quot;scrollableTabView&quot;</span><br><span class=\"line\">  tabBarBackgroundColor=&#123;&apos;#2196f3&apos;&#125;</span><br><span class=\"line\">  initialPage=&#123;0&#125;</span><br><span class=\"line\">  renderTabBar=&#123;()=&gt;&lt;ScrollableTabBar style=&#123;&#123;height: 40, borderWidth: 0, elevation: 2&#125;&#125;  tabStyle=&#123;&#123;height: 39&#125;&#125; /&gt;&#125;</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">  &lt;PopularTab tabLabel=&quot;Java&quot;&gt;&lt;/PopularTab&gt;</span><br><span class=\"line\">  &lt;PopularTab tabLabel=&quot;iOS&quot;&gt;&lt;/PopularTab&gt;</span><br><span class=\"line\">&lt;/ScrollableTabView&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-check-box\"><a href=\"#-react-native-check-box\" class=\"headerlink\" title=\" - react-native-check-box\"></a> - react-native-check-box</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-check-box --save</span><br><span class=\"line\"></span><br><span class=\"line\">import CheckBox from &apos;react-native-check-box&apos;</span><br><span class=\"line\">&lt;CheckBox</span><br><span class=\"line\">  style=&#123;&#123;flex: 1, padding: 10&#125;&#125;   //checkBox</span><br><span class=\"line\">  onClick=&#123;() =&gt; this.onClick(data, index)&#125; //</span><br><span class=\"line\">  isChecked=&#123;data.checked&#125; //</span><br><span class=\"line\">  leftText=&#123;data.name&#125;  //name</span><br><span class=\"line\">  checkedImage=&#123;this._checkedImage(true)&#125; //</span><br><span class=\"line\">  unCheckedImage=&#123;this._checkedImage(false)&#125; //</span><br><span class=\"line\">/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">onClick(data, index) &#123;</span><br><span class=\"line\">  data.checked = !data.checked;</span><br><span class=\"line\">  ArrayUtil.updateArray(this.changeValues, data); //</span><br><span class=\"line\">  this.state.keys[index] = data;//state</span><br><span class=\"line\">  this.setState(&#123;</span><br><span class=\"line\">      keys: this.state.keys</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">  * </span><br><span class=\"line\">  * @param &#123;Boolean&#125; checked </span><br><span class=\"line\">  */</span><br><span class=\"line\">_checkedImage(checked) &#123;</span><br><span class=\"line\">  return &lt;Ionicons</span><br><span class=\"line\">    name=&#123;checked ? &apos;ios-checkbox&apos; : &apos;md-square-outline&apos;&#125;</span><br><span class=\"line\">    size=&#123;20&#125;</span><br><span class=\"line\">    style=&#123;&#123;</span><br><span class=\"line\">        color: &apos;#2196f3&apos;,</span><br><span class=\"line\">    &#125;&#125;/&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"HTML-react-native-htmlview\"><a href=\"#HTML-react-native-htmlview\" class=\"headerlink\" title=\"HTML - react-native-htmlview\"></a>HTML - react-native-htmlview</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;HTMLView</span><br><span class=\"line\">  value=&#123;description&#125; //HTML</span><br><span class=\"line\">  onLinkPress=&#123;(url) =&gt; &#123;</span><br><span class=\"line\">  &#125;&#125; //</span><br><span class=\"line\">  stylesheet=&#123;&#123;</span><br><span class=\"line\">      p: styles.description,</span><br><span class=\"line\">      a: styles.description,</span><br><span class=\"line\">  &#125;&#125; //</span><br><span class=\"line\"> /&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Modal-\"><a href=\"#Modal-\" class=\"headerlink\" title=\"Modal - \"></a>Modal - </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> *</span><br><span class=\"line\"> */</span><br><span class=\"line\">import React, &#123;Component&#125; from &apos;react&apos;</span><br><span class=\"line\">import &#123;Modal, Text, TouchableOpacity, StyleSheet, View, Platform, DeviceInfo&#125; from &apos;react-native&apos;</span><br><span class=\"line\">import MaterialIcons from &apos;react-native-vector-icons/MaterialIcons&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">export default class TrendingDialog extends Component &#123;</span><br><span class=\"line\">    state = &#123;</span><br><span class=\"line\">        visible: false,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    show() &#123;</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        visible: true,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    dismiss() &#123;</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        visible: false,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    render() &#123;</span><br><span class=\"line\">        const &#123;onClose, onSelect&#125; = this.props;</span><br><span class=\"line\">        return (</span><br><span class=\"line\">          &lt;Modal</span><br><span class=\"line\">            transparent=&#123;true&#125;</span><br><span class=\"line\">            visible=&#123;this.state.visible&#125;</span><br><span class=\"line\">            onRequestClose=&#123;() =&gt; onClose&#125;</span><br><span class=\"line\">          &gt;</span><br><span class=\"line\">            &lt;TouchableOpacity</span><br><span class=\"line\">              style=&#123;styles.container&#125;</span><br><span class=\"line\">              onPress=&#123;() =&gt; this.dismiss()&#125;</span><br><span class=\"line\">            &gt;</span><br><span class=\"line\">              &lt;MaterialIcons</span><br><span class=\"line\">                name=&#123;&apos;arrow-drop-up&apos;&#125;</span><br><span class=\"line\">                size=&#123;36&#125;</span><br><span class=\"line\">                style=&#123;styles.arrow&#125;</span><br><span class=\"line\">              /&gt;</span><br><span class=\"line\">              &lt;View style=&#123;styles.content&#125;&gt;</span><br><span class=\"line\">                &lt;TouchableOpacity onPress=&#123;() =&gt; onSelect(&apos;11&apos;)&#125;&gt;</span><br><span class=\"line\">                  &lt;View style=&#123;styles.text_container&#125;&gt;</span><br><span class=\"line\">                    &lt;Text style=&#123;styles.text&#125;&gt;Displaying the popover on top of other elements&lt;/Text&gt;</span><br><span class=\"line\">                  &lt;/View&gt;</span><br><span class=\"line\">                &lt;/TouchableOpacity&gt;</span><br><span class=\"line\">                &lt;TouchableOpacity onPress=&#123;() =&gt; onSelect(&apos;11&apos;)&#125;&gt;</span><br><span class=\"line\">                  &lt;View style=&#123;styles.text_container&#125;&gt;</span><br><span class=\"line\">                    &lt;Text style=&#123;styles.text&#125;&gt;Displaying the popover on top of other elements&lt;/Text&gt;</span><br><span class=\"line\">                  &lt;/View&gt;</span><br><span class=\"line\">                &lt;/TouchableOpacity&gt;</span><br><span class=\"line\">              &lt;/View&gt;</span><br><span class=\"line\">              &lt;/TouchableOpacity&gt;</span><br><span class=\"line\">            &lt;/Modal&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">const styles = StyleSheet.create(&#123;</span><br><span class=\"line\">    container: &#123;</span><br><span class=\"line\">      backgroundColor: &apos;rgba(0,0,0,0.6)&apos;,</span><br><span class=\"line\">      flex: 1,</span><br><span class=\"line\">      alignItems: &apos;center&apos;,</span><br><span class=\"line\">      paddingTop: DeviceInfo.isIPhoneX_deprecated ? 30 : 0</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    arrow: &#123;</span><br><span class=\"line\">      marginTop: 40,</span><br><span class=\"line\">      color: &apos;white&apos;,</span><br><span class=\"line\">      padding: 0,</span><br><span class=\"line\">      margin: -15</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    content: &#123;</span><br><span class=\"line\">      backgroundColor: &apos;white&apos;,</span><br><span class=\"line\">      borderRadius: 3,</span><br><span class=\"line\">      paddingTop: 3,</span><br><span class=\"line\">      paddingBottom: 3,</span><br><span class=\"line\">      marginRight: 3,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    text_container: &#123;</span><br><span class=\"line\">      alignItems: &apos;center&apos;,</span><br><span class=\"line\">      flexDirection: &apos;row&apos;,</span><br><span class=\"line\">      justifyContent: &apos;center&apos;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    text: &#123;</span><br><span class=\"line\">      fontSize: 16,</span><br><span class=\"line\">      color: &apos;black&apos;,</span><br><span class=\"line\">      fontWeight: &apos;400&apos;,</span><br><span class=\"line\">      padding: 8,</span><br><span class=\"line\">      paddingLeft: 26,</span><br><span class=\"line\">      paddingRight: 26</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    line: &#123;</span><br><span class=\"line\">      height: 0.3,</span><br><span class=\"line\">      backgroundColor: &apos;darkgray&apos;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;Button title=&apos;&apos; onPress=&#123;() =&gt; this.dialog.show()/&gt;</span><br><span class=\"line\">&lt;Button title=&apos;&apos; onPress=&#123;() =&gt; this.dialog.dismiss()/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">renderTrendingDialog() &#123;</span><br><span class=\"line\">  return &lt;TrendingDialog</span><br><span class=\"line\">      ref=&#123;dialog =&gt; this.dialog = dialog&#125;</span><br><span class=\"line\">      onSelect=&#123;tab =&gt; this.onSelectTimeSpan(tab)&#125;</span><br><span class=\"line\">  /&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-storage\"><a href=\"#-react-native-storage\" class=\"headerlink\" title=\" - react-native-storage\"></a> - react-native-storage</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-storage</span><br><span class=\"line\">npm install @react-native-community/async-storage</span><br><span class=\"line\">react-native link @react-native-community/async-storage</span><br><span class=\"line\"></span><br><span class=\"line\">import Storage from &apos;react-native-storage&apos;;</span><br><span class=\"line\">import AsyncStorage from &apos;@react-native-community/async-storage&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">const STORAGE = new Storage(&#123;</span><br><span class=\"line\">  // 1000</span><br><span class=\"line\">  size: 100,</span><br><span class=\"line\"></span><br><span class=\"line\">  // RNAsyncStoragewebwindow.localStorage</span><br><span class=\"line\">  // </span><br><span class=\"line\">  storageBackend: AsyncStorage,</span><br><span class=\"line\"></span><br><span class=\"line\">  // 1000 * 3600 * 24 null</span><br><span class=\"line\">  defaultExpires: null,</span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  enableCache: true, // sync // storage.sync // require</span><br><span class=\"line\"></span><br><span class=\"line\">  // storage</span><br><span class=\"line\">  // sync</span><br><span class=\"line\">  // sync</span><br><span class=\"line\">  //sync: require(&apos;sync&apos;),</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">global.STORAGE = STORAGE</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">onSave() &#123;</span><br><span class=\"line\">  STORAGE.save(&#123;</span><br><span class=\"line\">    key: &apos;loginState&apos;,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      from: &apos;some other site&apos;,</span><br><span class=\"line\">      userid: &apos;some userid&apos;,</span><br><span class=\"line\">      token: &apos;some token&apos;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">onLoad() &#123;</span><br><span class=\"line\">  STORAGE.load(&#123;</span><br><span class=\"line\">    key: &apos;loginState&apos;</span><br><span class=\"line\">  &#125;).then(ret =&gt; &#123;</span><br><span class=\"line\">    console.log(ret)</span><br><span class=\"line\">  &#125;).catch(err =&gt; &#123;</span><br><span class=\"line\">    console.warn(err.message)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">onRemove() &#123;</span><br><span class=\"line\">  STORAGE.remove(&#123;</span><br><span class=\"line\">    key: &apos;loginState&apos;,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-easy-toast\"><a href=\"#-react-native-easy-toast\" class=\"headerlink\" title=\" - react-native-easy-toast\"></a> - react-native-easy-toast</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i react-native-easy-toast --save</span><br><span class=\"line\"></span><br><span class=\"line\">import Toast, &#123;DURATION&#125; from &apos;react-native-easy-toast&apos;</span><br><span class=\"line\">&lt;Toast</span><br><span class=\"line\">  ref=&#123;toast =&gt; this.toast = toast&#125;</span><br><span class=\"line\">  position=&#123;&apos;center&apos;&#125;</span><br><span class=\"line\">/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">this.toast.show(&apos;\bhello&apos;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-parallax-scroll-view\"><a href=\"#-react-native-parallax-scroll-view\" class=\"headerlink\" title=\" - react-native-parallax-scroll-view\"></a> - react-native-parallax-scroll-view</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install react-native-parallax-scroll-view --save</span><br><span class=\"line\"></span><br><span class=\"line\">import ParallaxScrollView from &apos;react-native-parallax-scroll-view&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">getParallaxRenderConfig(params) &#123;</span><br><span class=\"line\">  let config = &#123;&#125;</span><br><span class=\"line\">  //</span><br><span class=\"line\">  config.renderBackground = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;background&quot;&gt;</span><br><span class=\"line\">      &lt;Image source=&#123;&#123;</span><br><span class=\"line\">        uri: params.backgroundImg,</span><br><span class=\"line\">        width: window.width,</span><br><span class=\"line\">        height: PARALLAX_HEADER_HEIGHT</span><br><span class=\"line\">      &#125;&#125;/&gt;</span><br><span class=\"line\">      &lt;View style=&#123;&#123;</span><br><span class=\"line\">        position: &apos;absolute&apos;,</span><br><span class=\"line\">        top: 0,</span><br><span class=\"line\">        width: window.width,</span><br><span class=\"line\">        backgroundColor: &apos;rgba(0,0,0,.4)&apos;,</span><br><span class=\"line\">        height: PARALLAX_HEADER_HEIGHT</span><br><span class=\"line\">      &#125;&#125;/&gt;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  // </span><br><span class=\"line\">  config.renderForeground = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;parallax-header&quot; style=&#123;styles.parallaxHeader&#125;&gt;</span><br><span class=\"line\">      &lt;Image style=&#123;styles.avatar&#125; source=&#123;&#123;url:params.avatar&#125;&#125;/&gt;</span><br><span class=\"line\">        &lt;Text style=&#123; styles.sectionSpeakerText &#125;&gt;</span><br><span class=\"line\">            &#123;params.name&#125;</span><br><span class=\"line\">        &lt;/Text&gt;</span><br><span class=\"line\">        &lt;Text style=&#123; styles.sectionTitleText &#125;&gt;</span><br><span class=\"line\">            &#123;params.description&#125;</span><br><span class=\"line\">        &lt;/Text&gt;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  //</span><br><span class=\"line\">  config.renderStickyHeader = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;sticky-header&quot; style=&#123;styles.stickySection&#125;&gt;</span><br><span class=\"line\">      &lt;Text style=&#123;styles.stickySectionText&#125;&gt;&#123;params.name&#125;&lt;/Text&gt;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">  //</span><br><span class=\"line\">  config.renderFixedHeader = () =&gt; (</span><br><span class=\"line\">    &lt;View key=&quot;fixed-header&quot; style=&#123;styles.fixedSection&#125;&gt;</span><br><span class=\"line\">      &#123;ViewUtil.getLeftBackButton(()=&gt; NavigationUtil.goBack(this.props.navigation))&#125;</span><br><span class=\"line\">      &#123;ViewUtil.getShareButton(()=&gt;this.onShare())&#125;</span><br><span class=\"line\">    &lt;/View&gt;</span><br><span class=\"line\">  ); </span><br><span class=\"line\">  return config</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">renderView(content,params) &#123;</span><br><span class=\"line\">  let renderConfig = this.getParallaxRenderConfig(params)</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;ParallaxScrollView</span><br><span class=\"line\">      backgroundColor=&quot;#fff&quot;</span><br><span class=\"line\">      contentBackgroundColor=&quot;#f3f3f4&quot;</span><br><span class=\"line\">      parallaxHeaderHeight=&#123;PARALLAX_HEADER_HEIGHT&#125;</span><br><span class=\"line\">      stickyHeaderHeight=&#123;STICKY_HEADER_HEIGHT&#125;</span><br><span class=\"line\">      backgroundScrollSpeed=&#123;10&#125;</span><br><span class=\"line\">      &#123;...renderConfig&#125;</span><br><span class=\"line\">      &gt;&#123;content&#125;&lt;/ParallaxScrollView&gt;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">render() &#123;</span><br><span class=\"line\">    const content = &lt;View&gt;&lt;Text&gt;hello&lt;/Text&gt;&lt;/View&gt;</span><br><span class=\"line\">    return this.renderView(content,&#123;</span><br><span class=\"line\">      &apos;name&apos;: &apos;React Native&apos;,</span><br><span class=\"line\">      &apos;description&apos;:&apos;React Native HTML5 &apos;,</span><br><span class=\"line\">      &apos;avatar&apos;: &apos;https://bbs.reactnative.cn/uploads/profile/1-profileimg.png&apos;,</span><br><span class=\"line\">      &apos;backgroundImg&apos;:&apos;https://img0.sc115.com/uploads3/sc/jpgs/1904/zzpic17483_sc115.com.jpg&apos;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-react-native-pushy\"><a href=\"#-react-native-pushy\" class=\"headerlink\" title=\" - react-native-pushy\"></a> - react-native-pushy</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/reactnativecn/react-native-pushy/blob/master/docs/guide.md</span><br><span class=\"line\"></span><br><span class=\"line\">1. https://update.reactnative.cn</span><br><span class=\"line\"></span><br><span class=\"line\">2.pushy login</span><br><span class=\"line\"></span><br><span class=\"line\">3.</span><br><span class=\"line\">pushy createApp --platform ios</span><br><span class=\"line\">pushy createApp --platform android</span><br><span class=\"line\"></span><br><span class=\"line\">3.</span><br><span class=\"line\">pushy uploadIpa &lt;your-package.ipa&gt;</span><br><span class=\"line\">pushy uploadApk android/app/build/outputs/apk/app-release.apk</span><br><span class=\"line\"></span><br><span class=\"line\">4.</span><br><span class=\"line\">pushy bundle --platform &lt;ios|android&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-jshare-react-native\"><a href=\"#-jshare-react-native\" class=\"headerlink\" title=\" - jshare-react-native\"></a> - jshare-react-native</h4><h4 id=\"-react-native-yunpeng-alipay\"><a href=\"#-react-native-yunpeng-alipay\" class=\"headerlink\" title=\" - react-native-yunpeng-alipay\"></a> - react-native-yunpeng-alipay</h4><h4 id=\"-react-native-wechat\"><a href=\"#-react-native-wechat\" class=\"headerlink\" title=\" - react-native-wechat\"></a> - react-native-wechat</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app,package.json,</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;:&quot;app&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2019-07-11T15:31:32.000Z","_content":"### \n<!-- more -->\n\n![image](/images/suanfa-string.jpg)\n\n1. \n2. \n\n```\nfunction reverseString(str) {\n    return str.split(' ').map(item => {\n        return item.split('').reverse().join('')\n    }).join(' ')\n}\n```","source":"_posts/suanfa-string.md","raw":"---\ntitle: \ndate: 2019-07-11 23:31:32\ntags: ['js']\ncategories: js\n---\n### \n<!-- more -->\n\n![image](/images/suanfa-string.jpg)\n\n1. \n2. \n\n```\nfunction reverseString(str) {\n    return str.split(' ').map(item => {\n        return item.split('').reverse().join('')\n    }).join(' ')\n}\n```","slug":"suanfa-string","published":1,"updated":"2019-07-11T15:40:14.954Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq431003phe6ja3275cvc","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<p><img src=\"/images/suanfa-string.jpg\" alt=\"image\"><br></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function reverseString(str) &#123;</span><br><span class=\"line\">    return str.split(&apos; &apos;).map(item =&gt; &#123;</span><br><span class=\"line\">        return item.split(&apos;&apos;).reverse().join(&apos;&apos;)</span><br><span class=\"line\">    &#125;).join(&apos; &apos;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<p><img src=\"/images/suanfa-string.jpg\" alt=\"image\"><br></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function reverseString(str) &#123;</span><br><span class=\"line\">    return str.split(&apos; &apos;).map(item =&gt; &#123;</span><br><span class=\"line\">        return item.split(&apos;&apos;).reverse().join(&apos;&apos;)</span><br><span class=\"line\">    &#125;).join(&apos; &apos;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"vue-routerhistory","date":"2018-10-15T16:00:00.000Z","_content":"\n### History\n<!-- more -->\n\n### \n1.vue-router  hash  ,#hash history #\n\n2.\n```\nconst router = new VueRouter({\n  mode: 'history',\n  base:\"/app\"\n  routes: [...]\n})\n```\nbase /app/  base  \"/app/\"appbase\n\n3.history \n[history](https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90)\n\n","source":"_posts/vue-router-history.md","raw":"---\ntitle: vue-routerhistory\ndate: 2018-10-16\ntags: [\"vue-router\"]\ncategories: vue\n---\n\n### History\n<!-- more -->\n\n### \n1.vue-router  hash  ,#hash history #\n\n2.\n```\nconst router = new VueRouter({\n  mode: 'history',\n  base:\"/app\"\n  routes: [...]\n})\n```\nbase /app/  base  \"/app/\"appbase\n\n3.history \n[history](https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90)\n\n","slug":"vue-router-history","published":1,"updated":"2018-10-16T14:24:00.013Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq433003uhe6j5du3dnr0","content":"<h3 id=\"History\"><a href=\"#History\" class=\"headerlink\" title=\"History\"></a>History</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.vue-router  hash  ,#hash history #</p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const router = new VueRouter(&#123;</span><br><span class=\"line\">  mode: &apos;history&apos;,</span><br><span class=\"line\">  base:&quot;/app&quot;</span><br><span class=\"line\">  routes: [...]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>base /app/  base  /app/appbase</p>\n<p>3.history <br><a href=\"https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90\" target=\"_blank\" rel=\"noopener\">history</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"History\"><a href=\"#History\" class=\"headerlink\" title=\"History\"></a>History</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1.vue-router  hash  ,#hash history #</p>\n<p>2.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const router = new VueRouter(&#123;</span><br><span class=\"line\">  mode: &apos;history&apos;,</span><br><span class=\"line\">  base:&quot;/app&quot;</span><br><span class=\"line\">  routes: [...]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>base /app/  base  /app/appbase</p>\n<p>3.history <br><a href=\"https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90\" target=\"_blank\" rel=\"noopener\">history</a></p>"},{"title":"","date":"2019-07-11T16:00:00.000Z","_content":"### \n<!-- more -->\n\n### \n![image](/images/array.jpg)\n\n\n1. \"23\"'abc','def',\"23\"splitsplice\n2. \"234\" 23234\n![image](/images/array1.jpg)\n\n![image](/images/letterCombinations.jpg)\n\n### \n![image](/images/array2.jpg)\n\n\n1. 10010\n2. 0\n3. 0\n4. 0max++,\n\n![image](/images/canPlaceFlowers.jpg)","source":"_posts/sunfa-array.md","raw":"---\ntitle: \ndate: 2019-07-12\ntags: ['js']\ncategories: js\n---\n### \n<!-- more -->\n\n### \n![image](/images/array.jpg)\n\n\n1. \"23\"'abc','def',\"23\"splitsplice\n2. \"234\" 23234\n![image](/images/array1.jpg)\n\n![image](/images/letterCombinations.jpg)\n\n### \n![image](/images/array2.jpg)\n\n\n1. 10010\n2. 0\n3. 0\n4. 0max++,\n\n![image](/images/canPlaceFlowers.jpg)","slug":"sunfa-array","published":1,"updated":"2019-07-12T02:10:20.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq434003xhe6jie40s618","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/array.jpg\" alt=\"image\"></p>\n<p></p>\n<ol>\n<li>23abc,def,23splitsplice</li>\n<li>234 23234<br><img src=\"/images/array1.jpg\" alt=\"image\"></li>\n</ol>\n<p><img src=\"/images/letterCombinations.jpg\" alt=\"image\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/array2.jpg\" alt=\"image\"></p>\n<p></p>\n<ol>\n<li>10010</li>\n<li>0</li>\n<li>0</li>\n<li>0max++,</li>\n</ol>\n<p><img src=\"/images/canPlaceFlowers.jpg\" alt=\"image\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/array.jpg\" alt=\"image\"></p>\n<p></p>\n<ol>\n<li>23abc,def,23splitsplice</li>\n<li>234 23234<br><img src=\"/images/array1.jpg\" alt=\"image\"></li>\n</ol>\n<p><img src=\"/images/letterCombinations.jpg\" alt=\"image\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/array2.jpg\" alt=\"image\"></p>\n<p></p>\n<ol>\n<li>10010</li>\n<li>0</li>\n<li>0</li>\n<li>0max++,</li>\n</ol>\n<p><img src=\"/images/canPlaceFlowers.jpg\" alt=\"image\"></p>"},{"title":"Vuex","date":"2018-10-08T16:00:00.000Z","_content":"### Vuex\n<!-- more -->\n\n### Vuex\nVuexvuevuexvuexvuex\n#### Vuex\n![image](/images/vuex.png)\n1.mutationsstatestate\n2.dispatchActionactionactioncommit-mutation\n3.actionMutationsstate\n\n### State\n1.statevuex\n```\nstate.js \n\nconst state = {\n    count:1\n}\nexport default state;\n```\n2.vuevuex\n```\nconst Counter = {\n  template: `<div>{{ count }}</div>`,\n  computed: {\n    count () {\n      return this.$store.state.count\n    }\n  }\n}\n```\nstore this.$store this.$store.state.count\n\n3.mapState\n\n```\nimport { mapState } from 'vuex'\nexport defauilt {\n    computed:{\n        ...mapState(\n            ['count']\n        )\n    }\n}\n```\n\n### Getter\n#### \nVuex  store getter store getter \n```\ngetters.js\n\nexport const count = state => state.count\n```\n#### \n1.\n```\ncomputed: {\n  doneTodosCount () {\n    return this.$store.getters.count\n  }\n}\n```\n2.mapGetters\n getter  computed \n```\nimport { mapGetters } from 'vuex'\n\nexport default {\n  computed: { \n    ...mapGetters([\n      'count',\n      'anotherGetter',\n    ])\n  }\n}\n```\n getter \n```\nmapGetters({\n   `this.doneCount`  `this.$store.getters.doneTodosCount`\n  doneCount: 'doneTodosCount'\n})\n```\n\n### Mutation\n Vuex  store  mutation\n\n#### Mutation\n```\nmutations-types.js\n\nexport const SET_MUTATION = 'export const SET_MUTATION'\n\n```\n mutation  Flux  linter  app  mutation \n\n```\nmutations.js\n\nimport * as types from './mutations-types.js'\n\nconst mutations = {\n  [types.SET_MUTATION](state,payload){\n\n  }\n}\n\nexport default mutations;\n```\nstatevuexpayloadmutations\n#### mutation\n1.mapMutations\n```\nimport { mapMutations } from 'vuex'\n\nmethods:{\n  test(){\n    this.mutation({\n      amount: 10\n    })\n  },\n  ...mapMutations({\n    mutation:'types.SET_MUTATION'\n  })\n}\n```\n `this.mutation()`  `this.$store.commit('increment')``this.mutation()`mutation\n```\npayload\nmutations.js\n\nimport * as types from './mutations-types.js'\n\nconst mutations = {\n  [types.SET_MUTATION](state,payload){\n    state.count = payload.amount\n  }\n}\n\n```\n\n### Action\nAction  mutationAction \n#### action\n```\nimport * as types from './mutations-types.js'\n\nexport const actionFn = function({commit,state},{amount}){\n  commit(types.SET_MUTATION,amount)\n}\n\n```\n####  Action\n```\nimport { mapActions } from 'vuex'\n\nmethods:{\n  test(){\n    this.actionFn({amount:10})\n  },\n  ...mapActions([\n    'actionFn'\n  ])\n}\n```\n\n\n\n","source":"_posts/vue-vuex.md","raw":"---\ntitle: Vuex\ndate: 2018-10-09\ntags: [\"vuex\"]\ncategories: vue\n---\n### Vuex\n<!-- more -->\n\n### Vuex\nVuexvuevuexvuexvuex\n#### Vuex\n![image](/images/vuex.png)\n1.mutationsstatestate\n2.dispatchActionactionactioncommit-mutation\n3.actionMutationsstate\n\n### State\n1.statevuex\n```\nstate.js \n\nconst state = {\n    count:1\n}\nexport default state;\n```\n2.vuevuex\n```\nconst Counter = {\n  template: `<div>{{ count }}</div>`,\n  computed: {\n    count () {\n      return this.$store.state.count\n    }\n  }\n}\n```\nstore this.$store this.$store.state.count\n\n3.mapState\n\n```\nimport { mapState } from 'vuex'\nexport defauilt {\n    computed:{\n        ...mapState(\n            ['count']\n        )\n    }\n}\n```\n\n### Getter\n#### \nVuex  store getter store getter \n```\ngetters.js\n\nexport const count = state => state.count\n```\n#### \n1.\n```\ncomputed: {\n  doneTodosCount () {\n    return this.$store.getters.count\n  }\n}\n```\n2.mapGetters\n getter  computed \n```\nimport { mapGetters } from 'vuex'\n\nexport default {\n  computed: { \n    ...mapGetters([\n      'count',\n      'anotherGetter',\n    ])\n  }\n}\n```\n getter \n```\nmapGetters({\n   `this.doneCount`  `this.$store.getters.doneTodosCount`\n  doneCount: 'doneTodosCount'\n})\n```\n\n### Mutation\n Vuex  store  mutation\n\n#### Mutation\n```\nmutations-types.js\n\nexport const SET_MUTATION = 'export const SET_MUTATION'\n\n```\n mutation  Flux  linter  app  mutation \n\n```\nmutations.js\n\nimport * as types from './mutations-types.js'\n\nconst mutations = {\n  [types.SET_MUTATION](state,payload){\n\n  }\n}\n\nexport default mutations;\n```\nstatevuexpayloadmutations\n#### mutation\n1.mapMutations\n```\nimport { mapMutations } from 'vuex'\n\nmethods:{\n  test(){\n    this.mutation({\n      amount: 10\n    })\n  },\n  ...mapMutations({\n    mutation:'types.SET_MUTATION'\n  })\n}\n```\n `this.mutation()`  `this.$store.commit('increment')``this.mutation()`mutation\n```\npayload\nmutations.js\n\nimport * as types from './mutations-types.js'\n\nconst mutations = {\n  [types.SET_MUTATION](state,payload){\n    state.count = payload.amount\n  }\n}\n\n```\n\n### Action\nAction  mutationAction \n#### action\n```\nimport * as types from './mutations-types.js'\n\nexport const actionFn = function({commit,state},{amount}){\n  commit(types.SET_MUTATION,amount)\n}\n\n```\n####  Action\n```\nimport { mapActions } from 'vuex'\n\nmethods:{\n  test(){\n    this.actionFn({amount:10})\n  },\n  ...mapActions([\n    'actionFn'\n  ])\n}\n```\n\n\n\n","slug":"vue-vuex","published":1,"updated":"2018-10-09T15:02:29.600Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq4360042he6j0pgaj1xh","content":"<h3 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h3><a id=\"more\"></a>\n<h3 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h3><p>Vuexvuevuexvuexvuex</p>\n<h4 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h4><p><img src=\"/images/vuex.png\" alt=\"image\"><br>1.mutationsstatestate<br>2.dispatchActionactionactioncommit-mutation<br>3.actionMutationsstate</p>\n<h3 id=\"State\"><a href=\"#State\" class=\"headerlink\" title=\"State\"></a>State</h3><p>1.statevuex<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">state.js </span><br><span class=\"line\"></span><br><span class=\"line\">const state = &#123;</span><br><span class=\"line\">    count:1</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">export default state;</span><br></pre></td></tr></table></figure></p>\n<p>2.vuevuex<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const Counter = &#123;</span><br><span class=\"line\">  template: `&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`,</span><br><span class=\"line\">  computed: &#123;</span><br><span class=\"line\">    count () &#123;</span><br><span class=\"line\">      return this.$store.state.count</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>store this.$store this.$store.state.count</p>\n<p>3.mapState<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapState &#125; from &apos;vuex&apos;</span><br><span class=\"line\">export defauilt &#123;</span><br><span class=\"line\">    computed:&#123;</span><br><span class=\"line\">        ...mapState(</span><br><span class=\"line\">            [&apos;count&apos;]</span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Getter\"><a href=\"#Getter\" class=\"headerlink\" title=\"Getter\"></a>Getter</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Vuex  store getter store getter <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getters.js</span><br><span class=\"line\"></span><br><span class=\"line\">export const count = state =&gt; state.count</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">computed: &#123;</span><br><span class=\"line\">  doneTodosCount () &#123;</span><br><span class=\"line\">    return this.$store.getters.count</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2.mapGetters<br> getter  computed <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapGetters &#125; from &apos;vuex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  computed: &#123; </span><br><span class=\"line\">    ...mapGetters([</span><br><span class=\"line\">      &apos;count&apos;,</span><br><span class=\"line\">      &apos;anotherGetter&apos;,</span><br><span class=\"line\">    ])</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> getter <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mapGetters(&#123;</span><br><span class=\"line\">   `this.doneCount`  `this.$store.getters.doneTodosCount`</span><br><span class=\"line\">  doneCount: &apos;doneTodosCount&apos;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Mutation\"><a href=\"#Mutation\" class=\"headerlink\" title=\"Mutation\"></a>Mutation</h3><p> Vuex  store  mutation</p>\n<h4 id=\"Mutation\"><a href=\"#Mutation\" class=\"headerlink\" title=\"Mutation\"></a>Mutation</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mutations-types.js</span><br><span class=\"line\"></span><br><span class=\"line\">export const SET_MUTATION = &apos;export const SET_MUTATION&apos;</span><br></pre></td></tr></table></figure>\n<p> mutation  Flux  linter  app  mutation </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mutations.js</span><br><span class=\"line\"></span><br><span class=\"line\">import * as types from &apos;./mutations-types.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">const mutations = &#123;</span><br><span class=\"line\">  [types.SET_MUTATION](state,payload)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default mutations;</span><br></pre></td></tr></table></figure>\n<p>statevuexpayloadmutations</p>\n<h4 id=\"mutation\"><a href=\"#mutation\" class=\"headerlink\" title=\"mutation\"></a>mutation</h4><p>1.mapMutations<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapMutations &#125; from &apos;vuex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">methods:&#123;</span><br><span class=\"line\">  test()&#123;</span><br><span class=\"line\">    this.mutation(&#123;</span><br><span class=\"line\">      amount: 10</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...mapMutations(&#123;</span><br><span class=\"line\">    mutation:&apos;types.SET_MUTATION&apos;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> <code>this.mutation()</code>  <code>this.$store.commit(&#39;increment&#39;)</code><code>this.mutation()</code>mutation<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload</span><br><span class=\"line\">mutations.js</span><br><span class=\"line\"></span><br><span class=\"line\">import * as types from &apos;./mutations-types.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">const mutations = &#123;</span><br><span class=\"line\">  [types.SET_MUTATION](state,payload)&#123;</span><br><span class=\"line\">    state.count = payload.amount</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Action\"><a href=\"#Action\" class=\"headerlink\" title=\"Action\"></a>Action</h3><p>Action  mutationAction </p>\n<h4 id=\"action\"><a href=\"#action\" class=\"headerlink\" title=\"action\"></a>action</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import * as types from &apos;./mutations-types.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">export const actionFn = function(&#123;commit,state&#125;,&#123;amount&#125;)&#123;</span><br><span class=\"line\">  commit(types.SET_MUTATION,amount)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-Action\"><a href=\"#-Action\" class=\"headerlink\" title=\" Action\"></a> Action</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapActions &#125; from &apos;vuex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">methods:&#123;</span><br><span class=\"line\">  test()&#123;</span><br><span class=\"line\">    this.actionFn(&#123;amount:10&#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...mapActions([</span><br><span class=\"line\">    &apos;actionFn&apos;</span><br><span class=\"line\">  ])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h3>","more":"<h3 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h3><p>Vuexvuevuexvuexvuex</p>\n<h4 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h4><p><img src=\"/images/vuex.png\" alt=\"image\"><br>1.mutationsstatestate<br>2.dispatchActionactionactioncommit-mutation<br>3.actionMutationsstate</p>\n<h3 id=\"State\"><a href=\"#State\" class=\"headerlink\" title=\"State\"></a>State</h3><p>1.statevuex<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">state.js </span><br><span class=\"line\"></span><br><span class=\"line\">const state = &#123;</span><br><span class=\"line\">    count:1</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">export default state;</span><br></pre></td></tr></table></figure></p>\n<p>2.vuevuex<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const Counter = &#123;</span><br><span class=\"line\">  template: `&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`,</span><br><span class=\"line\">  computed: &#123;</span><br><span class=\"line\">    count () &#123;</span><br><span class=\"line\">      return this.$store.state.count</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>store this.$store this.$store.state.count</p>\n<p>3.mapState<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapState &#125; from &apos;vuex&apos;</span><br><span class=\"line\">export defauilt &#123;</span><br><span class=\"line\">    computed:&#123;</span><br><span class=\"line\">        ...mapState(</span><br><span class=\"line\">            [&apos;count&apos;]</span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Getter\"><a href=\"#Getter\" class=\"headerlink\" title=\"Getter\"></a>Getter</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Vuex  store getter store getter <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getters.js</span><br><span class=\"line\"></span><br><span class=\"line\">export const count = state =&gt; state.count</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">computed: &#123;</span><br><span class=\"line\">  doneTodosCount () &#123;</span><br><span class=\"line\">    return this.$store.getters.count</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2.mapGetters<br> getter  computed <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapGetters &#125; from &apos;vuex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  computed: &#123; </span><br><span class=\"line\">    ...mapGetters([</span><br><span class=\"line\">      &apos;count&apos;,</span><br><span class=\"line\">      &apos;anotherGetter&apos;,</span><br><span class=\"line\">    ])</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> getter <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mapGetters(&#123;</span><br><span class=\"line\">   `this.doneCount`  `this.$store.getters.doneTodosCount`</span><br><span class=\"line\">  doneCount: &apos;doneTodosCount&apos;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Mutation\"><a href=\"#Mutation\" class=\"headerlink\" title=\"Mutation\"></a>Mutation</h3><p> Vuex  store  mutation</p>\n<h4 id=\"Mutation\"><a href=\"#Mutation\" class=\"headerlink\" title=\"Mutation\"></a>Mutation</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mutations-types.js</span><br><span class=\"line\"></span><br><span class=\"line\">export const SET_MUTATION = &apos;export const SET_MUTATION&apos;</span><br></pre></td></tr></table></figure>\n<p> mutation  Flux  linter  app  mutation </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mutations.js</span><br><span class=\"line\"></span><br><span class=\"line\">import * as types from &apos;./mutations-types.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">const mutations = &#123;</span><br><span class=\"line\">  [types.SET_MUTATION](state,payload)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default mutations;</span><br></pre></td></tr></table></figure>\n<p>statevuexpayloadmutations</p>\n<h4 id=\"mutation\"><a href=\"#mutation\" class=\"headerlink\" title=\"mutation\"></a>mutation</h4><p>1.mapMutations<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapMutations &#125; from &apos;vuex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">methods:&#123;</span><br><span class=\"line\">  test()&#123;</span><br><span class=\"line\">    this.mutation(&#123;</span><br><span class=\"line\">      amount: 10</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...mapMutations(&#123;</span><br><span class=\"line\">    mutation:&apos;types.SET_MUTATION&apos;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p> <code>this.mutation()</code>  <code>this.$store.commit(&#39;increment&#39;)</code><code>this.mutation()</code>mutation<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload</span><br><span class=\"line\">mutations.js</span><br><span class=\"line\"></span><br><span class=\"line\">import * as types from &apos;./mutations-types.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">const mutations = &#123;</span><br><span class=\"line\">  [types.SET_MUTATION](state,payload)&#123;</span><br><span class=\"line\">    state.count = payload.amount</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"Action\"><a href=\"#Action\" class=\"headerlink\" title=\"Action\"></a>Action</h3><p>Action  mutationAction </p>\n<h4 id=\"action\"><a href=\"#action\" class=\"headerlink\" title=\"action\"></a>action</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import * as types from &apos;./mutations-types.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">export const actionFn = function(&#123;commit,state&#125;,&#123;amount&#125;)&#123;</span><br><span class=\"line\">  commit(types.SET_MUTATION,amount)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"-Action\"><a href=\"#-Action\" class=\"headerlink\" title=\" Action\"></a> Action</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; mapActions &#125; from &apos;vuex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">methods:&#123;</span><br><span class=\"line\">  test()&#123;</span><br><span class=\"line\">    this.actionFn(&#123;amount:10&#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...mapActions([</span><br><span class=\"line\">    &apos;actionFn&apos;</span><br><span class=\"line\">  ])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"http","date":"2018-12-04T16:00:00.000Z","_content":"\n### wx.request\n<!-- more -->\n\n``` \nconfig.js\n---\napi_base_url:\nappkey:\nconst config = {\n    api_base_url: '',\n    appkey: \"\",\n}\n\nexport {config }\n```\n```\nhttp.js\n---\n\nimport {config} from '../config.js'\n\n \nconst tips = {\n    1: '',\n    1005:'appkeywww.7yue.pro',\n    3000:''\n}\n\n\nclass HTTP{\n    GETPromise\n    request({url,data={},method='GET'}){\n        return new Promise((resolve, reject)=>{\n            this._request(url,resolve,reject,data, method)\n        })\n    }\n    _request(url,resolve, reject, data={}, method='GET'){\n        wx.request({\n            url:config.api_base_url + url,\n            method:method,\n            data:data,\n            header:{\n                'content-type':'application/json',\n                'appkey':config.appkey\n            },\n            success:(res)=>{\n                const code = res.statusCode.toString()\n                if (code.startsWith('2')){\n                    resolve(res.data)\n                }\n                else{\n                    reject()\n                    const error_code = res.data.error_code\n                    this._show_error(error_code)\n                }\n            },\n            fail:(err)=>{\n                reject()\n                this._show_error(1)\n            }\n        })\n\n    }\n\n    _show_error(error_code){\n        if(!error_code){\n            error_code = 1\n        }\n        const tip = tips[error_code]\n        wx.showToast({\n            title: tip?tip:tips[1], \n            icon:'none',\n            duration:2000\n        }) \n    }\n\n\n}\n\nexport {HTTP}\n```\n\n\n```\nmodel.js\n---\nimport {\n    HTTP\n}\nfrom 'http.js'\n\nES6\nclass Model extends HTTP {\n\n    GET\n    getDetail(bid) {\n        return this.request({\n            url: `book/${bid}/detail`\n        })\n    }\n\n    POST\n    postComment(bid, comment) {\n        return this.request({\n            url: 'book/add/short_comment',\n            method: 'POST',\n            data: {\n                book_id: bid,\n                content: comment\n            }\n        })\n    }\n}\n```\n\n```\n\n---\nimport {\n  Models\n} from '/models.js'\n\n\nconst model = new Models()\n\nmodel.getDetail().then(res => {\n\n})\n```","source":"_posts/weChat-wx-request.md","raw":"---\ntitle: http\ndate: 2018-12-05\ntags: ['']\ncategories: \n---\n\n### wx.request\n<!-- more -->\n\n``` \nconfig.js\n---\napi_base_url:\nappkey:\nconst config = {\n    api_base_url: '',\n    appkey: \"\",\n}\n\nexport {config }\n```\n```\nhttp.js\n---\n\nimport {config} from '../config.js'\n\n \nconst tips = {\n    1: '',\n    1005:'appkeywww.7yue.pro',\n    3000:''\n}\n\n\nclass HTTP{\n    GETPromise\n    request({url,data={},method='GET'}){\n        return new Promise((resolve, reject)=>{\n            this._request(url,resolve,reject,data, method)\n        })\n    }\n    _request(url,resolve, reject, data={}, method='GET'){\n        wx.request({\n            url:config.api_base_url + url,\n            method:method,\n            data:data,\n            header:{\n                'content-type':'application/json',\n                'appkey':config.appkey\n            },\n            success:(res)=>{\n                const code = res.statusCode.toString()\n                if (code.startsWith('2')){\n                    resolve(res.data)\n                }\n                else{\n                    reject()\n                    const error_code = res.data.error_code\n                    this._show_error(error_code)\n                }\n            },\n            fail:(err)=>{\n                reject()\n                this._show_error(1)\n            }\n        })\n\n    }\n\n    _show_error(error_code){\n        if(!error_code){\n            error_code = 1\n        }\n        const tip = tips[error_code]\n        wx.showToast({\n            title: tip?tip:tips[1], \n            icon:'none',\n            duration:2000\n        }) \n    }\n\n\n}\n\nexport {HTTP}\n```\n\n\n```\nmodel.js\n---\nimport {\n    HTTP\n}\nfrom 'http.js'\n\nES6\nclass Model extends HTTP {\n\n    GET\n    getDetail(bid) {\n        return this.request({\n            url: `book/${bid}/detail`\n        })\n    }\n\n    POST\n    postComment(bid, comment) {\n        return this.request({\n            url: 'book/add/short_comment',\n            method: 'POST',\n            data: {\n                book_id: bid,\n                content: comment\n            }\n        })\n    }\n}\n```\n\n```\n\n---\nimport {\n  Models\n} from '/models.js'\n\n\nconst model = new Models()\n\nmodel.getDetail().then(res => {\n\n})\n```","slug":"weChat-wx-request","published":1,"updated":"2018-12-05T14:37:16.678Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq4370045he6jnbj4e33f","content":"<h3 id=\"wx-request\"><a href=\"#wx-request\" class=\"headerlink\" title=\"wx.request\"></a>wx.request</h3><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.js</span><br><span class=\"line\">---</span><br><span class=\"line\">api_base_url:</span><br><span class=\"line\">appkey:</span><br><span class=\"line\">const config = &#123;</span><br><span class=\"line\">    api_base_url: &apos;&apos;,</span><br><span class=\"line\">    appkey: &quot;&quot;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export &#123;config &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http.js</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">import &#123;config&#125; from &apos;../config.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\"> </span><br><span class=\"line\">const tips = &#123;</span><br><span class=\"line\">    1: &apos;&apos;,</span><br><span class=\"line\">    1005:&apos;appkeywww.7yue.pro&apos;,</span><br><span class=\"line\">    3000:&apos;&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class HTTP&#123;</span><br><span class=\"line\">    GETPromise</span><br><span class=\"line\">    request(&#123;url,data=&#123;&#125;,method=&apos;GET&apos;&#125;)&#123;</span><br><span class=\"line\">        return new Promise((resolve, reject)=&gt;&#123;</span><br><span class=\"line\">            this._request(url,resolve,reject,data, method)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    _request(url,resolve, reject, data=&#123;&#125;, method=&apos;GET&apos;)&#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">            url:config.api_base_url + url,</span><br><span class=\"line\">            method:method,</span><br><span class=\"line\">            data:data,</span><br><span class=\"line\">            header:&#123;</span><br><span class=\"line\">                &apos;content-type&apos;:&apos;application/json&apos;,</span><br><span class=\"line\">                &apos;appkey&apos;:config.appkey</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success:(res)=&gt;&#123;</span><br><span class=\"line\">                const code = res.statusCode.toString()</span><br><span class=\"line\">                if (code.startsWith(&apos;2&apos;))&#123;</span><br><span class=\"line\">                    resolve(res.data)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                else&#123;</span><br><span class=\"line\">                    reject()</span><br><span class=\"line\">                    const error_code = res.data.error_code</span><br><span class=\"line\">                    this._show_error(error_code)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            fail:(err)=&gt;&#123;</span><br><span class=\"line\">                reject()</span><br><span class=\"line\">                this._show_error(1)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _show_error(error_code)&#123;</span><br><span class=\"line\">        if(!error_code)&#123;</span><br><span class=\"line\">            error_code = 1</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        const tip = tips[error_code]</span><br><span class=\"line\">        wx.showToast(&#123;</span><br><span class=\"line\">            title: tip?tip:tips[1], </span><br><span class=\"line\">            icon:&apos;none&apos;,</span><br><span class=\"line\">            duration:2000</span><br><span class=\"line\">        &#125;) </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export &#123;HTTP&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model.js</span><br><span class=\"line\">---</span><br><span class=\"line\">import &#123;</span><br><span class=\"line\">    HTTP</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">from &apos;http.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">ES6</span><br><span class=\"line\">class Model extends HTTP &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    GET</span><br><span class=\"line\">    getDetail(bid) &#123;</span><br><span class=\"line\">        return this.request(&#123;</span><br><span class=\"line\">            url: `book/$&#123;bid&#125;/detail`</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    POST</span><br><span class=\"line\">    postComment(bid, comment) &#123;</span><br><span class=\"line\">        return this.request(&#123;</span><br><span class=\"line\">            url: &apos;book/add/short_comment&apos;,</span><br><span class=\"line\">            method: &apos;POST&apos;,</span><br><span class=\"line\">            data: &#123;</span><br><span class=\"line\">                book_id: bid,</span><br><span class=\"line\">                content: comment</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\">import &#123;</span><br><span class=\"line\">  Models</span><br><span class=\"line\">&#125; from &apos;/models.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const model = new Models()</span><br><span class=\"line\"></span><br><span class=\"line\">model.getDetail().then(res =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"wx-request\"><a href=\"#wx-request\" class=\"headerlink\" title=\"wx.request\"></a>wx.request</h3>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.js</span><br><span class=\"line\">---</span><br><span class=\"line\">api_base_url:</span><br><span class=\"line\">appkey:</span><br><span class=\"line\">const config = &#123;</span><br><span class=\"line\">    api_base_url: &apos;&apos;,</span><br><span class=\"line\">    appkey: &quot;&quot;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export &#123;config &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http.js</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">import &#123;config&#125; from &apos;../config.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\"> </span><br><span class=\"line\">const tips = &#123;</span><br><span class=\"line\">    1: &apos;&apos;,</span><br><span class=\"line\">    1005:&apos;appkeywww.7yue.pro&apos;,</span><br><span class=\"line\">    3000:&apos;&apos;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class HTTP&#123;</span><br><span class=\"line\">    GETPromise</span><br><span class=\"line\">    request(&#123;url,data=&#123;&#125;,method=&apos;GET&apos;&#125;)&#123;</span><br><span class=\"line\">        return new Promise((resolve, reject)=&gt;&#123;</span><br><span class=\"line\">            this._request(url,resolve,reject,data, method)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    _request(url,resolve, reject, data=&#123;&#125;, method=&apos;GET&apos;)&#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">            url:config.api_base_url + url,</span><br><span class=\"line\">            method:method,</span><br><span class=\"line\">            data:data,</span><br><span class=\"line\">            header:&#123;</span><br><span class=\"line\">                &apos;content-type&apos;:&apos;application/json&apos;,</span><br><span class=\"line\">                &apos;appkey&apos;:config.appkey</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success:(res)=&gt;&#123;</span><br><span class=\"line\">                const code = res.statusCode.toString()</span><br><span class=\"line\">                if (code.startsWith(&apos;2&apos;))&#123;</span><br><span class=\"line\">                    resolve(res.data)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                else&#123;</span><br><span class=\"line\">                    reject()</span><br><span class=\"line\">                    const error_code = res.data.error_code</span><br><span class=\"line\">                    this._show_error(error_code)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            fail:(err)=&gt;&#123;</span><br><span class=\"line\">                reject()</span><br><span class=\"line\">                this._show_error(1)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    _show_error(error_code)&#123;</span><br><span class=\"line\">        if(!error_code)&#123;</span><br><span class=\"line\">            error_code = 1</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        const tip = tips[error_code]</span><br><span class=\"line\">        wx.showToast(&#123;</span><br><span class=\"line\">            title: tip?tip:tips[1], </span><br><span class=\"line\">            icon:&apos;none&apos;,</span><br><span class=\"line\">            duration:2000</span><br><span class=\"line\">        &#125;) </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export &#123;HTTP&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model.js</span><br><span class=\"line\">---</span><br><span class=\"line\">import &#123;</span><br><span class=\"line\">    HTTP</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">from &apos;http.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">ES6</span><br><span class=\"line\">class Model extends HTTP &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    GET</span><br><span class=\"line\">    getDetail(bid) &#123;</span><br><span class=\"line\">        return this.request(&#123;</span><br><span class=\"line\">            url: `book/$&#123;bid&#125;/detail`</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    POST</span><br><span class=\"line\">    postComment(bid, comment) &#123;</span><br><span class=\"line\">        return this.request(&#123;</span><br><span class=\"line\">            url: &apos;book/add/short_comment&apos;,</span><br><span class=\"line\">            method: &apos;POST&apos;,</span><br><span class=\"line\">            data: &#123;</span><br><span class=\"line\">                book_id: bid,</span><br><span class=\"line\">                content: comment</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\">import &#123;</span><br><span class=\"line\">  Models</span><br><span class=\"line\">&#125; from &apos;/models.js&apos;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const model = new Models()</span><br><span class=\"line\"></span><br><span class=\"line\">model.getDetail().then(res =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2018-11-03T16:00:00.000Z","_content":"\n### \n<!-- more -->\n\n### \n```\nComponent({\n    /**\n    * \n    */\n    properties: {\n        like:{\n            type:NumberStringBoolean, //\n            value:false, //\n            observer: function (newVal, oldVal) { \n                this.setData({\n                    val:newVal\n                })\n            } \n            // observer)properties()datasetDatapropertiesdata\n        }\n    },\n\n    /**\n    * \n    */\n    data: {\n        isLike:false,\n        val:null\n    },\n\n    /**\n    * \n    */\n    methods: {\n        this.properties.like//properties\n    }\n})\n```\n1.Component,\n2.propertieswxmlproperties(vue)\n3.data\n4.methods\n5.setDatadata","source":"_posts/weChat-component.md","raw":"---\ntitle: \ndate: 2018-11-04\ntags: ['']\ncategories: \n---\n\n### \n<!-- more -->\n\n### \n```\nComponent({\n    /**\n    * \n    */\n    properties: {\n        like:{\n            type:NumberStringBoolean, //\n            value:false, //\n            observer: function (newVal, oldVal) { \n                this.setData({\n                    val:newVal\n                })\n            } \n            // observer)properties()datasetDatapropertiesdata\n        }\n    },\n\n    /**\n    * \n    */\n    data: {\n        isLike:false,\n        val:null\n    },\n\n    /**\n    * \n    */\n    methods: {\n        this.properties.like//properties\n    }\n})\n```\n1.Component,\n2.propertieswxmlproperties(vue)\n3.data\n4.methods\n5.setDatadata","slug":"weChat-component","published":1,"updated":"2018-11-04T15:00:22.487Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq4390049he6j2cjgmxr3","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Component(&#123;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">    * </span><br><span class=\"line\">    */</span><br><span class=\"line\">    properties: &#123;</span><br><span class=\"line\">        like:&#123;</span><br><span class=\"line\">            type:NumberStringBoolean, //</span><br><span class=\"line\">            value:false, //</span><br><span class=\"line\">            observer: function (newVal, oldVal) &#123; </span><br><span class=\"line\">                this.setData(&#123;</span><br><span class=\"line\">                    val:newVal</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125; </span><br><span class=\"line\">            // observer)properties()datasetDatapropertiesdata</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">    * </span><br><span class=\"line\">    */</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">        isLike:false,</span><br><span class=\"line\">        val:null</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">    * </span><br><span class=\"line\">    */</span><br><span class=\"line\">    methods: &#123;</span><br><span class=\"line\">        this.properties.like//properties</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>1.Component,<br>2.propertieswxmlproperties(vue)<br>3.data<br>4.methods<br>5.setDatadata</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Component(&#123;</span><br><span class=\"line\">    /**</span><br><span class=\"line\">    * </span><br><span class=\"line\">    */</span><br><span class=\"line\">    properties: &#123;</span><br><span class=\"line\">        like:&#123;</span><br><span class=\"line\">            type:NumberStringBoolean, //</span><br><span class=\"line\">            value:false, //</span><br><span class=\"line\">            observer: function (newVal, oldVal) &#123; </span><br><span class=\"line\">                this.setData(&#123;</span><br><span class=\"line\">                    val:newVal</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125; </span><br><span class=\"line\">            // observer)properties()datasetDatapropertiesdata</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">    * </span><br><span class=\"line\">    */</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">        isLike:false,</span><br><span class=\"line\">        val:null</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">    * </span><br><span class=\"line\">    */</span><br><span class=\"line\">    methods: &#123;</span><br><span class=\"line\">        this.properties.like//properties</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>1.Component,<br>2.propertieswxmlproperties(vue)<br>3.data<br>4.methods<br>5.setDatadata</p>"},{"title":"React","date":"2019-02-21T14:06:54.000Z","_content":"### React\n<!-- more -->\n\n### \n1. FackbookJavaScript\n2. ReactMVC\n3. React\n Declarative()\n Component-Based()\n    \n -DOM Diff\n    DOMDOMJavaScriptDOMDOM\n \n    VueReact\n\n### \n React + React-Router + Redux + Axios + Babel + Webpack\n\n### \n1. \n (where)(what),(how)\n2. \n (where)(what)(how)\n\n### \n![image](/images/react.png)\n1. getDefaultProps\n propsprops\n2. getInitalState\n \n3. componentWillMount()\n \n4. render()\n \n5. componentDidMount\n DOMDOMDOM\n6. componentWillReceiveProps()\n \n7. shouldComonentUpdate()\n setState\n8. componentWillUpdate()\n \n9. componentDidUpdate()\n DOMDOM\n10. componentWillUnmount\n Redux\n\n\n\n\n\n","source":"_posts/react.md","raw":"---\ntitle: React\ndate: 2019-02-21 22:06:54\ntags: [\"React\"]\ncategories: React\n---\n### React\n<!-- more -->\n\n### \n1. FackbookJavaScript\n2. ReactMVC\n3. React\n Declarative()\n Component-Based()\n    \n -DOM Diff\n    DOMDOMJavaScriptDOMDOM\n \n    VueReact\n\n### \n React + React-Router + Redux + Axios + Babel + Webpack\n\n### \n1. \n (where)(what),(how)\n2. \n (where)(what)(how)\n\n### \n![image](/images/react.png)\n1. getDefaultProps\n propsprops\n2. getInitalState\n \n3. componentWillMount()\n \n4. render()\n \n5. componentDidMount\n DOMDOMDOM\n6. componentWillReceiveProps()\n \n7. shouldComonentUpdate()\n setState\n8. componentWillUpdate()\n \n9. componentDidUpdate()\n DOMDOM\n10. componentWillUnmount\n Redux\n\n\n\n\n\n","slug":"react","published":1,"updated":"2019-03-31T14:27:33.175Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckdpqq43a004che6jv1kwgxh2","content":"<h3 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h3><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>FackbookJavaScript</li>\n<li>ReactMVC</li>\n<li>React<br> Declarative()<br> Component-Based()<br> <br> -DOM Diff<br> DOMDOMJavaScriptDOMDOM<br> <br> VueReact</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> React + React-Router + Redux + Axios + Babel + Webpack</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><br> (where)(what),(how)</li>\n<li><br> (where)(what)(how)</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/react.png\" alt=\"image\"></p>\n<ol>\n<li>getDefaultProps<br> propsprops</li>\n<li>getInitalState<br> </li>\n<li>componentWillMount()<br> </li>\n<li>render()<br> </li>\n<li>componentDidMount<br> DOMDOMDOM</li>\n<li>componentWillReceiveProps()<br> </li>\n<li>shouldComonentUpdate()<br> setState</li>\n<li>componentWillUpdate()<br> </li>\n<li>componentDidUpdate()<br> DOMDOM</li>\n<li>componentWillUnmount<br> Redux</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h3>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>FackbookJavaScript</li>\n<li>ReactMVC</li>\n<li>React<br> Declarative()<br> Component-Based()<br> <br> -DOM Diff<br> DOMDOMJavaScriptDOMDOM<br> <br> VueReact</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> React + React-Router + Redux + Axios + Babel + Webpack</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><br> (where)(what),(how)</li>\n<li><br> (where)(what)(how)</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/images/react.png\" alt=\"image\"></p>\n<ol>\n<li>getDefaultProps<br> propsprops</li>\n<li>getInitalState<br> </li>\n<li>componentWillMount()<br> </li>\n<li>render()<br> </li>\n<li>componentDidMount<br> DOMDOMDOM</li>\n<li>componentWillReceiveProps()<br> </li>\n<li>shouldComonentUpdate()<br> setState</li>\n<li>componentWillUpdate()<br> </li>\n<li>componentDidUpdate()<br> DOMDOM</li>\n<li>componentWillUnmount<br> Redux</li>\n</ol>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckdpqq41e0005he6jkdheiqxc","category_id":"ckdpqq41b0002he6j6g6d8sy5","_id":"ckdpqq41k000dhe6j6z0cs53z"},{"post_id":"ckdpqq4160000he6jxn1uftjq","category_id":"ckdpqq41b0002he6j6g6d8sy5","_id":"ckdpqq41m000ihe6j9g5lr4b0"},{"post_id":"ckdpqq41i000ahe6j2sloq7ei","category_id":"ckdpqq41b0002he6j6g6d8sy5","_id":"ckdpqq41o000lhe6j86gjzerz"},{"post_id":"ckdpqq41a0001he6jio7c4hsg","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq41r000qhe6j7uwid2lr"},{"post_id":"ckdpqq41l000hhe6j1po2b8ih","category_id":"ckdpqq41l000ehe6juvv8fryg","_id":"ckdpqq41t000the6jx5ggjdq7"},{"post_id":"ckdpqq41d0004he6jsoq84sr7","category_id":"ckdpqq41l000ehe6juvv8fryg","_id":"ckdpqq41w000yhe6jrpa2oqpa"},{"post_id":"ckdpqq41m000khe6jeb0xm7s5","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq41w0011he6jbyrsry8a"},{"post_id":"ckdpqq41r000phe6jnlo7ayd6","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq41z0016he6jw6ys4z6z"},{"post_id":"ckdpqq41g0006he6jfgzni2e9","category_id":"ckdpqq41l000ehe6juvv8fryg","_id":"ckdpqq4200019he6jtngxoddf"},{"post_id":"ckdpqq41j000che6jqi903pgg","category_id":"ckdpqq41l000ehe6juvv8fryg","_id":"ckdpqq422001ehe6jyiv3sthd"},{"post_id":"ckdpqq41x0015he6jswf4vynl","category_id":"ckdpqq41x0012he6jacd89u9k","_id":"ckdpqq424001hhe6jfgkoip0e"},{"post_id":"ckdpqq41s000she6j0n1f4ly2","category_id":"ckdpqq41x0012he6jacd89u9k","_id":"ckdpqq426001khe6j1vxu4p69"},{"post_id":"ckdpqq421001dhe6jraawb6k1","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq428001phe6j66n4f1j5"},{"post_id":"ckdpqq423001ghe6j910lfltr","category_id":"ckdpqq41x0012he6jacd89u9k","_id":"ckdpqq429001she6jejtyhdxz"},{"post_id":"ckdpqq41v000xhe6j38vwo1vz","category_id":"ckdpqq421001bhe6j23yts0w7","_id":"ckdpqq42a001whe6jyelvvh8n"},{"post_id":"ckdpqq41w0010he6jjd9eatqt","category_id":"ckdpqq426001lhe6j6pibmf1u","_id":"ckdpqq42c0020he6j8all08j7"},{"post_id":"ckdpqq41z0018he6jcixjga7m","category_id":"ckdpqq426001lhe6j6pibmf1u","_id":"ckdpqq42f0025he6jq3zq6hsh"},{"post_id":"ckdpqq42d0022he6j0gz1fqib","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq42i002che6jrgwsv8wx"},{"post_id":"ckdpqq425001jhe6ja7mjm4j4","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq42j002hhe6jjlxpy288"},{"post_id":"ckdpqq42e0024he6jvjewuvv8","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq42l002khe6j93zmeeoy"},{"post_id":"ckdpqq427001ohe6jro6eg7ge","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq42o002phe6jmfgy3p1s"},{"post_id":"ckdpqq42h002bhe6jxq6ug25b","category_id":"ckdpqq41x0012he6jacd89u9k","_id":"ckdpqq42p002she6jop3tztn3"},{"post_id":"ckdpqq42j002ghe6jjfionoxq","category_id":"ckdpqq41x0012he6jacd89u9k","_id":"ckdpqq42r002xhe6jr4eqfb56"},{"post_id":"ckdpqq428001rhe6j0c9rt6yr","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq42s0030he6jtki2vi2e"},{"post_id":"ckdpqq42k002jhe6jqdtbtwkn","category_id":"ckdpqq421001bhe6j23yts0w7","_id":"ckdpqq42t0035he6j4no108um"},{"post_id":"ckdpqq42m002ohe6jhncidsgm","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq42v0038he6j0whvq0g5"},{"post_id":"ckdpqq42a001vhe6j1wdl3af1","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq42w003che6jbd8s6wnt"},{"post_id":"ckdpqq42o002rhe6jeod8ij7s","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq42x003ghe6j2jhff72m"},{"post_id":"ckdpqq42q002whe6jpjbj2tjd","category_id":"ckdpqq41g0007he6jnm5p8f3d","_id":"ckdpqq42y003jhe6jutx7w4do"},{"post_id":"ckdpqq42b001yhe6jr8b8wm8k","category_id":"ckdpqq42c001zhe6jdut2960z","_id":"ckdpqq431003nhe6jrwv3u6sb"},{"post_id":"ckdpqq42g0029he6ja3ow5ox4","category_id":"ckdpqq42s0031he6jfipcvv8u","_id":"ckdpqq432003qhe6j1zm35e93"},{"post_id":"ckdpqq42x003fhe6j73679zgn","category_id":"ckdpqq42v003ahe6jalex3gbz","_id":"ckdpqq434003vhe6jv27epj2v"},{"post_id":"ckdpqq42r002zhe6jqgtnbjpm","category_id":"ckdpqq42v003ahe6jalex3gbz","_id":"ckdpqq435003yhe6j39spr6b9"},{"post_id":"ckdpqq430003mhe6jjdgxyg10","category_id":"ckdpqq42v003ahe6jalex3gbz","_id":"ckdpqq4370043he6jmyv8ru8e"},{"post_id":"ckdpqq42t0034he6jxlkk2agm","category_id":"ckdpqq42v003ahe6jalex3gbz","_id":"ckdpqq4380046he6j1rakehl5"},{"post_id":"ckdpqq433003uhe6j5du3dnr0","category_id":"ckdpqq421001bhe6j23yts0w7","_id":"ckdpqq43a004ahe6j5xrtj8fv"},{"post_id":"ckdpqq42u0037he6jpm7u5bec","category_id":"ckdpqq42v003ahe6jalex3gbz","_id":"ckdpqq43b004dhe6jfnjjzw3g"},{"post_id":"ckdpqq4360042he6j0pgaj1xh","category_id":"ckdpqq421001bhe6j23yts0w7","_id":"ckdpqq43c004ghe6jggh3amq4"},{"post_id":"ckdpqq42v003bhe6jh0hg2iz5","category_id":"ckdpqq42v003ahe6jalex3gbz","_id":"ckdpqq43d004ihe6jcvndm2iv"},{"post_id":"ckdpqq42y003ihe6jyo9cl1hl","category_id":"ckdpqq4380047he6jxiiqh4wr","_id":"ckdpqq43e004lhe6jz46mf55f"},{"post_id":"ckdpqq43a004che6jv1kwgxh2","category_id":"ckdpqq4380047he6jxiiqh4wr","_id":"ckdpqq43e004nhe6jti7lkr1y"},{"post_id":"ckdpqq431003phe6ja3275cvc","category_id":"ckdpqq43b004ehe6jwbyeje3u","_id":"ckdpqq43f004qhe6j9os4js02"},{"post_id":"ckdpqq434003xhe6jie40s618","category_id":"ckdpqq43b004ehe6jwbyeje3u","_id":"ckdpqq43f004she6jp62uannk"},{"post_id":"ckdpqq4370045he6jnbj4e33f","category_id":"ckdpqq43e004ohe6jgejkgtfs","_id":"ckdpqq43g004whe6juvm811og"},{"post_id":"ckdpqq4390049he6j2cjgmxr3","category_id":"ckdpqq43e004ohe6jgejkgtfs","_id":"ckdpqq43h004zhe6jcya3jj3i"}],"PostTag":[{"post_id":"ckdpqq41e0005he6jkdheiqxc","tag_id":"ckdpqq41d0003he6jl9qtiy7l","_id":"ckdpqq41h0009he6j69etihst"},{"post_id":"ckdpqq4160000he6jxn1uftjq","tag_id":"ckdpqq41d0003he6jl9qtiy7l","_id":"ckdpqq41j000bhe6jnni8ch6b"},{"post_id":"ckdpqq41i000ahe6j2sloq7ei","tag_id":"ckdpqq41d0003he6jl9qtiy7l","_id":"ckdpqq41l000ghe6jou4boo3f"},{"post_id":"ckdpqq41a0001he6jio7c4hsg","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq41m000jhe6jnj52e773"},{"post_id":"ckdpqq41l000hhe6j1po2b8ih","tag_id":"ckdpqq41l000fhe6joziyqq01","_id":"ckdpqq41o000ohe6jihiwx9ab"},{"post_id":"ckdpqq41d0004he6jsoq84sr7","tag_id":"ckdpqq41l000fhe6joziyqq01","_id":"ckdpqq41s000rhe6jbcwet36l"},{"post_id":"ckdpqq41m000khe6jeb0xm7s5","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq41v000whe6jo5hr49sh"},{"post_id":"ckdpqq41r000phe6jnlo7ayd6","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq41w000zhe6j5mg2wxvh"},{"post_id":"ckdpqq41g0006he6jfgzni2e9","tag_id":"ckdpqq41l000fhe6joziyqq01","_id":"ckdpqq41x0014he6jsmvby9jx"},{"post_id":"ckdpqq41j000che6jqi903pgg","tag_id":"ckdpqq41l000fhe6joziyqq01","_id":"ckdpqq41z0017he6jyi1vf68a"},{"post_id":"ckdpqq41x0015he6jswf4vynl","tag_id":"ckdpqq41x0013he6jks9bdvfk","_id":"ckdpqq421001ahe6jqg20w8sq"},{"post_id":"ckdpqq41s000she6j0n1f4ly2","tag_id":"ckdpqq41x0013he6jks9bdvfk","_id":"ckdpqq423001fhe6jdme0lxu3"},{"post_id":"ckdpqq421001dhe6jraawb6k1","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq425001ihe6j08pjoc3t"},{"post_id":"ckdpqq423001ghe6j910lfltr","tag_id":"ckdpqq41x0013he6jks9bdvfk","_id":"ckdpqq427001nhe6jtp3x41se"},{"post_id":"ckdpqq41v000xhe6j38vwo1vz","tag_id":"ckdpqq421001che6jmw6giev1","_id":"ckdpqq428001qhe6js9vhjc23"},{"post_id":"ckdpqq41w0010he6jjd9eatqt","tag_id":"ckdpqq426001mhe6j749p9ed6","_id":"ckdpqq42a001xhe6jutrgq3r3"},{"post_id":"ckdpqq41z0018he6jcixjga7m","tag_id":"ckdpqq429001uhe6jbuv5m3sb","_id":"ckdpqq42e0023he6j692dnj3h"},{"post_id":"ckdpqq42d0022he6j0gz1fqib","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42f0027he6j6s7hp5pe"},{"post_id":"ckdpqq425001jhe6ja7mjm4j4","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42h002ahe6jxach4ij7"},{"post_id":"ckdpqq42e0024he6jvjewuvv8","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42i002ehe6jde2qvbr4"},{"post_id":"ckdpqq427001ohe6jro6eg7ge","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42k002ihe6jbf7xsdcy"},{"post_id":"ckdpqq42h002bhe6jxq6ug25b","tag_id":"ckdpqq41x0013he6jks9bdvfk","_id":"ckdpqq42l002mhe6jw3bgc7cz"},{"post_id":"ckdpqq42j002ghe6jjfionoxq","tag_id":"ckdpqq41x0013he6jks9bdvfk","_id":"ckdpqq42o002qhe6jj2ycaytk"},{"post_id":"ckdpqq428001rhe6j0c9rt6yr","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42p002uhe6j5kb2y7zz"},{"post_id":"ckdpqq42k002jhe6jqdtbtwkn","tag_id":"ckdpqq421001che6jmw6giev1","_id":"ckdpqq42r002yhe6j7tb9rtip"},{"post_id":"ckdpqq42m002ohe6jhncidsgm","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq42s0032he6ja08ycknj"},{"post_id":"ckdpqq42a001vhe6j1wdl3af1","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42u0036he6jwevrsg06"},{"post_id":"ckdpqq42o002rhe6jeod8ij7s","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq42v0039he6je0xtzld6"},{"post_id":"ckdpqq42q002whe6jpjbj2tjd","tag_id":"ckdpqq41h0008he6j7i3dhuom","_id":"ckdpqq42w003ehe6jii474e8i"},{"post_id":"ckdpqq42b001yhe6jr8b8wm8k","tag_id":"ckdpqq42d0021he6jf3o7g43d","_id":"ckdpqq42x003hhe6jtokxjhx8"},{"post_id":"ckdpqq42g0029he6ja3ow5ox4","tag_id":"ckdpqq42t0033he6jjb0fiidf","_id":"ckdpqq431003ohe6jswuxoi02"},{"post_id":"ckdpqq42g0029he6ja3ow5ox4","tag_id":"ckdpqq42w003dhe6jpm5tx1r5","_id":"ckdpqq433003she6jwtmrfy2p"},{"post_id":"ckdpqq430003mhe6jjdgxyg10","tag_id":"ckdpqq42z003lhe6j5khzwo73","_id":"ckdpqq434003whe6ja9ev7ptx"},{"post_id":"ckdpqq42r002zhe6jqgtnbjpm","tag_id":"ckdpqq42z003lhe6j5khzwo73","_id":"ckdpqq4350040he6jlo8zv749"},{"post_id":"ckdpqq42t0034he6jxlkk2agm","tag_id":"ckdpqq42z003lhe6j5khzwo73","_id":"ckdpqq4370044he6jal26e40i"},{"post_id":"ckdpqq42u0037he6jpm7u5bec","tag_id":"ckdpqq42z003lhe6j5khzwo73","_id":"ckdpqq43a004bhe6j2j2ugkco"},{"post_id":"ckdpqq42v003bhe6jh0hg2iz5","tag_id":"ckdpqq42z003lhe6j5khzwo73","_id":"ckdpqq43d004hhe6j2xdtenv5"},{"post_id":"ckdpqq42x003fhe6j73679zgn","tag_id":"ckdpqq42z003lhe6j5khzwo73","_id":"ckdpqq43e004mhe6jziyxlihl"},{"post_id":"ckdpqq42y003ihe6jyo9cl1hl","tag_id":"ckdpqq43e004khe6jd1757a9t","_id":"ckdpqq43f004rhe6j1045dsio"},{"post_id":"ckdpqq431003phe6ja3275cvc","tag_id":"ckdpqq43f004phe6j5omeqn7n","_id":"ckdpqq43g004vhe6jcv59mfz1"},{"post_id":"ckdpqq433003uhe6j5du3dnr0","tag_id":"ckdpqq43f004uhe6jak3lkn34","_id":"ckdpqq43g004yhe6j34vggg45"},{"post_id":"ckdpqq434003xhe6jie40s618","tag_id":"ckdpqq43f004phe6j5omeqn7n","_id":"ckdpqq43h0051he6j5pf93ukv"},{"post_id":"ckdpqq4360042he6j0pgaj1xh","tag_id":"ckdpqq43h0050he6jni6tqbzt","_id":"ckdpqq43h0053he6jqk15dplc"},{"post_id":"ckdpqq4370045he6jnbj4e33f","tag_id":"ckdpqq43h0052he6jui4t3sxy","_id":"ckdpqq43i0055he6ji4duve01"},{"post_id":"ckdpqq4390049he6j2cjgmxr3","tag_id":"ckdpqq43h0052he6jui4t3sxy","_id":"ckdpqq43j0057he6j9nxx1mdf"},{"post_id":"ckdpqq43a004che6jv1kwgxh2","tag_id":"ckdpqq43e004khe6jd1757a9t","_id":"ckdpqq43j0058he6jhtbmkh2i"}],"Tag":[{"name":"JavaScript","_id":"ckdpqq41d0003he6jl9qtiy7l"},{"name":"Node.js","_id":"ckdpqq41h0008he6j7i3dhuom"},{"name":"TypeScript","_id":"ckdpqq41l000fhe6joziyqq01"},{"name":"JavaScript","_id":"ckdpqq41x0013he6jks9bdvfk"},{"name":"vue","_id":"ckdpqq421001che6jmw6giev1"},{"name":"","_id":"ckdpqq426001mhe6j749p9ed6"},{"name":"github","_id":"ckdpqq429001uhe6jbuv5m3sb"},{"name":"Flutter","_id":"ckdpqq42d0021he6jf3o7g43d"},{"name":"wx.chooseWXPay","_id":"ckdpqq42t0033he6jjb0fiidf"},{"name":"Alipay","_id":"ckdpqq42w003dhe6jpm5tx1r5"},{"name":"React Native","_id":"ckdpqq42z003lhe6j5khzwo73"},{"name":"React","_id":"ckdpqq43e004khe6jd1757a9t"},{"name":"js","_id":"ckdpqq43f004phe6j5omeqn7n"},{"name":"vue-router","_id":"ckdpqq43f004uhe6jak3lkn34"},{"name":"vuex","_id":"ckdpqq43h0050he6jni6tqbzt"},{"name":"","_id":"ckdpqq43h0052he6jui4t3sxy"}]}}